# All fixed bugs

 #   | BugId             | NopolPC   | NopolC    | BrutpolPC | BrutpolC  | Genprog   | Kali      | Total
---- | ----------------- | --------- | --------- | --------- | --------- | --------- | --------- | ------
   3 | [C5](#chart-5)    | No        | Yes       | No        | Yes       |           |           |      2
   4 | [C6](#chart-6)    | TIMEOUT   | No        | Yes       | TIMEOUT   |           |           |      1
   5 | [C9](#chart-9)    | Yes       | Yes       | TIMEOUT   | Yes       |           |           |      3
   6 | [C13](#chart-13)  | Yes       | Yes       | Yes       | Yes       |           |           |      4
   7 | [C17](#chart-17)  | Yes       | Yes       | Yes       | Yes       |           |           |      4
   8 | [C21](#chart-21)  | Yes       | No        | Yes       | TIMEOUT   |           |           |      2
   9 | [C25](#chart-25)  | Yes       | Yes       | Yes       | Yes       |           |           |      4
  15 | [L39](#lang-39)   | Yes       | No        | Yes       | No        |           |           |      2
  16 | [L44](#lang-44)   | Yes       | Yes       | No        | Yes       |           |           |      3
  17 | [L46](#lang-46)   | Yes       | No        | Yes       | No        |           |           |      2
  19 | [L51](#lang-51)   | No        | Yes       | No        | Yes       |           |           |      2
  20 | [L53](#lang-53)   | Yes       | TIMEOUT   | Yes       | TIMEOUT   |           |           |      2
  21 | [L55](#lang-55)   | Yes       | No        | Yes       | No        |           |           |      2
  22 | [L58](#lang-58)   | Yes       | Yes       | Yes       | Yes       |           |           |      4
  24 | [L63](#lang-63)   | TIMEOUT   | No        | Yes       | Yes       |           |           |      2
  36 | [M32](#math-32)   | Yes       | TIMEOUT   | TIMEOUT   | Yes       |           |           |      2
  37 | [M33](#math-33)   | Yes       | Yes       | Yes       | TIMEOUT   |           |           |      3
  39 | [M40](#math-40)   | ERROR     | Yes       | No        | No        |           |           |      1
  40 | [M41](#math-41)   | No       | No       | Yes       | Yes       |           |           |      2
  41 | [M42](#math-42)   | Yes       | TIMEOUT   | Yes       | TIMEOUT   |           |           |      2
  43 | [M46](#math-46)   | No        | No        | Yes       | TIMEOUT   |           |           |      1
  44 | [M49](#math-49)   | Yes       | Yes       | Yes       | Yes       |           |           |      4
  45 | [M50](#math-50)   | Yes       | Yes       | Yes       | Yes       |           |           |      4
  47 | [M57](#math-57)   | Yes       | Yes       | Yes       | No        |           |           |      3
  48 | [M58](#math-58)   | Yes       | Yes       | Yes       | No        |           |           |      3
  50 | [M69](#math-69)   | Yes       | TIMEOUT   | Yes       | No        |           |           |      2
  51 | [M71](#math-71)   | No        | Yes       | Yes       | TIMEOUT   |           |           |      2
  52 | [M73](#math-73)   | No        | Yes       | No        | TIMEOUT   |           |           |      1
  53 | [M78](#math-78)   | TIMEOUT   | TIMEOUT   | Yes       | TIMEOUT   |           |           |      1
  55 | [M80](#math-80)   | Yes       | TIMEOUT   | Yes       | TIMEOUT   |           |           |      2
  56 | [M81](#math-81)   | Yes       | Yes       | TIMEOUT   | TIMEOUT   |           |           |      2
  57 | [M82](#math-82)   | Yes       | No        | Yes       | No        |           |           |      2
  58 | [M85](#math-85)   | Yes       | Yes       | No        | Yes       |           |           |      3
  60 | [M87](#math-87)   | Yes       | Yes       | Yes       | TIMEOUT   |           |           |      3
  61 | [M88](#math-88)   | Yes       | TIMEOUT   | Yes       | TIMEOUT   |           |           |      2
  62 | [M96](#math-96)   | No        | No        | No        | Yes       |           |           |      1
  63 | [M97](#math-97)   | No        | No        | No        | Yes       |           |           |      1
  64 | [M101](#math-101) | No        | No        | No        | Yes       |           |           |      1
  65 | [M104](#math-104) | ERROR     | Yes       | ERROR     | TIMEOUT   |           |           |      1
  66 | [M105](#math-105) | Yes       | No        | Yes       | No        |           |           |      2
  68 | [T4](#time-4)     | Yes       | Yes       | Yes       | TIMEOUT   |           |           |      3
  70 | [T7](#time-7)     | TIMEOUT   | TIMEOUT   | Yes       | No        |           |           |      1
  71 | [T11](#time-11)   | Yes       | Yes       | Yes       | TIMEOUT   |           |           |      3
  73 | [T14](#time-14)   | No        | No        | No        | Yes       |           |           |      1
  74 | [T16](#time-16)   | Yes       | TIMEOUT   | Yes       | TIMEOUT   |           |           |      2
     | Total             | 29 (37%)  | 22 (28%)  | 31 (39%)  | 18 (23%)  | 0 (0%)    | 0 (0%)    |    100
Fixed bugs: 45/78 (57%)

Nb bugs ends with an execution error: 11

Nb bugs ends with an empty log: 0

Nb bugs ends with the Grid5000 timeout: 87

Total execution time: 4 days, 19:12:05.425000
# Complete data

 #   | BugId             | NopolPC   | NopolC    | BrutpolPC | BrutpolC  | Genprog   | Kali      | Total
---- | ----------------- | --------- | --------- | --------- | --------- | --------- | --------- | ------
   1 | [C3](#chart-3)    | No        | TIMEOUT   | No        | No        |           |           |      0
   2 | [C4](#chart-4)    |           |           | No        | No        |           |           |      0
   3 | [C5](#chart-5)    | No        | Yes       | No        | Yes       |           |           |      2
   4 | [C6](#chart-6)    | TIMEOUT   | No        | Yes       | TIMEOUT   |           |           |      1
   5 | [C9](#chart-9)    | Yes       | Yes       | TIMEOUT   | Yes       |           |           |      3
   6 | [C13](#chart-13)  | Yes       | Yes       | Yes       | Yes       |           |           |      4
   7 | [C17](#chart-17)  | Yes       | Yes       | Yes       | Yes       |           |           |      4
   8 | [C21](#chart-21)  | Yes       | No        | Yes       | TIMEOUT   |           |           |      2
   9 | [C25](#chart-25)  | Yes       | Yes       | Yes       | Yes       |           |           |      4
  10 | [C26](#chart-26)  | TIMEOUT   | TIMEOUT   | TIMEOUT   | TIMEOUT   |           |           |      0
  11 | [L7](#lang-7)     | No        | No        | No        | TIMEOUT   |           |           |      0
  12 | [L9](#lang-9)     | ERROR     | No        | ERROR     | No        |           |           |      0
  13 | [L22](#lang-22)   | TIMEOUT   | No        | No        | No        |           |           |      0
  14 | [L27](#lang-27)   | No        | No        | No        | No        |           |           |      0
  15 | [L39](#lang-39)   | Yes       | No        | Yes       | No        |           |           |      2
  16 | [L44](#lang-44)   | Yes       | Yes       | No        | Yes       |           |           |      3
  17 | [L46](#lang-46)   | Yes       | No        | Yes       | No        |           |           |      2
  18 | [L48](#lang-48)   | TIMEOUT   | TIMEOUT   | No        | No        |           |           |      0
  19 | [L51](#lang-51)   | No        | Yes       | No        | Yes       |           |           |      2
  20 | [L53](#lang-53)   | Yes       | TIMEOUT   | Yes       | TIMEOUT   |           |           |      2
  21 | [L55](#lang-55)   | Yes       | No        | Yes       | No        |           |           |      2
  22 | [L58](#lang-58)   | Yes       | Yes       | Yes       | Yes       |           |           |      4
  23 | [L60](#lang-60)   | No        | No        | No        | No        |           |           |      0
  24 | [L63](#lang-63)   | TIMEOUT   | No        | Yes       | Yes       |           |           |      2
  25 | [M4](#math-4)     |           |           | ERROR     | TIMEOUT   |           |           |      0
  26 | [M5](#math-5)     | No        | No        | No        | No        |           |           |      0
  27 | [M7](#math-7)     | TIMEOUT   | TIMEOUT   | TIMEOUT   | TIMEOUT   |           |           |      0
  28 | [M8](#math-8)     | No        | TIMEOUT   | No        | TIMEOUT   |           |           |      0
  29 | [M15](#math-15)   | TIMEOUT   | TIMEOUT   | TIMEOUT   | TIMEOUT   |           |           |      0
  30 | [M18](#math-18)   | TIMEOUT   | TIMEOUT   | TIMEOUT   | TIMEOUT   |           |           |      0
  31 | [M19](#math-19)   | No        | No        | TIMEOUT   | TIMEOUT   |           |           |      0
  32 | [M20](#math-20)   | TIMEOUT   | TIMEOUT   | TIMEOUT   | TIMEOUT   |           |           |      0
  33 | [M24](#math-24)   | No        | No        | No        | No        |           |           |      0
  34 | [M30](#math-30)   | No        | No        | No        | TIMEOUT   |           |           |      0
  35 | [M31](#math-31)   | TIMEOUT   | TIMEOUT   | ERROR     | TIMEOUT   |           |           |      0
  36 | [M32](#math-32)   | Yes       | TIMEOUT   | TIMEOUT   | Yes       |           |           |      2
  37 | [M33](#math-33)   | Yes       | Yes       | Yes       | TIMEOUT   |           |           |      3
  38 | [M35](#math-35)   | No        | No        | No        | No        |           |           |      0
  39 | [M40](#math-40)   | ERROR     | Yes       | No        | No        |           |           |      1
  40 | [M41](#math-41)   | No       | No       | Yes       | Yes       |           |           |      2
  41 | [M42](#math-42)   | Yes       | TIMEOUT   | Yes       | TIMEOUT   |           |           |      2
  42 | [M43](#math-43)   | No        | No        | No        | TIMEOUT   |           |           |      0
  43 | [M46](#math-46)   | No        | No        | Yes       | TIMEOUT   |           |           |      1
  44 | [M49](#math-49)   | Yes       | Yes       | Yes       | Yes       |           |           |      4
  45 | [M50](#math-50)   | Yes       | Yes       | Yes       | Yes       |           |           |      4
  46 | [M52](#math-52)   | No        | No        | No        | No        |           |           |      0
  47 | [M57](#math-57)   | Yes       | Yes       | Yes       | No        |           |           |      3
  48 | [M58](#math-58)   | Yes       | Yes       | Yes       | No        |           |           |      3
  49 | [M60](#math-60)   | TIMEOUT   | No        | TIMEOUT   | No        |           |           |      0
  50 | [M69](#math-69)   | Yes       | TIMEOUT   | Yes       | No        |           |           |      2
  51 | [M71](#math-71)   | No        | Yes       | Yes       | TIMEOUT   |           |           |      2
  52 | [M73](#math-73)   | No        | Yes       | No        | TIMEOUT   |           |           |      1
  53 | [M78](#math-78)   | TIMEOUT   | TIMEOUT   | Yes       | TIMEOUT   |           |           |      1
  54 | [M79](#math-79)   | TIMEOUT   | No        | No        | No        |           |           |      0
  55 | [M80](#math-80)   | Yes       | TIMEOUT   | Yes       | TIMEOUT   |           |           |      2
  56 | [M81](#math-81)   | Yes       | Yes       | TIMEOUT   | TIMEOUT   |           |           |      2
  57 | [M82](#math-82)   | Yes       | No        | Yes       | No        |           |           |      2
  58 | [M85](#math-85)   | Yes       | Yes       | No        | Yes       |           |           |      3
  59 | [M86](#math-86)   | ERROR     | No        | TIMEOUT   | No        |           |           |      0
  60 | [M87](#math-87)   | Yes       | Yes       | Yes       | TIMEOUT   |           |           |      3
  61 | [M88](#math-88)   | Yes       | TIMEOUT   | Yes       | TIMEOUT   |           |           |      2
  62 | [M96](#math-96)   | No        | No        | No        | Yes       |           |           |      1
  63 | [M97](#math-97)   | No        | No        | No        | Yes       |           |           |      1
  64 | [M101](#math-101) | No        | No        | No        | Yes       |           |           |      1
  65 | [M104](#math-104) | ERROR     | Yes       | ERROR     | TIMEOUT   |           |           |      1
  66 | [M105](#math-105) | Yes       | No        | Yes       | No        |           |           |      2
  67 | [M106](#math-106) | No        | TIMEOUT   | TIMEOUT   | TIMEOUT   |           |           |      0
  68 | [T4](#time-4)     | Yes       | Yes       | Yes       | TIMEOUT   |           |           |      3
  69 | [T5](#time-5)     | TIMEOUT   | No        | No        | No        |           |           |      0
  70 | [T7](#time-7)     | TIMEOUT   | TIMEOUT   | Yes       | No        |           |           |      1
  71 | [T11](#time-11)   | Yes       | Yes       | Yes       | TIMEOUT   |           |           |      3
  72 | [T12](#time-12)   | No        | TIMEOUT   | TIMEOUT   | TIMEOUT   |           |           |      0
  73 | [T14](#time-14)   | No        | No        | No        | Yes       |           |           |      1
  74 | [T16](#time-16)   | Yes       | TIMEOUT   | Yes       | TIMEOUT   |           |           |      2
  75 | [T17](#time-17)   | No        | No        | TIMEOUT   | TIMEOUT   |           |           |      0
  76 | [T18](#time-18)   | TIMEOUT   | TIMEOUT   | No        | No        |           |           |      0
  77 | [T19](#time-19)   | TIMEOUT   | ERROR     | TIMEOUT   | No        |           |           |      0
  78 | [T24](#time-24)   | ERROR     | TIMEOUT   | ERROR     | TIMEOUT   |           |           |      0
     | Total             | 29 (37%)  | 22 (28%)  | 31 (39%)  | 18 (23%)  | 0 (0%)    | 0 (0%)    |    100
Fixed bugs: 45/78 (57%)

Nb bugs ends with an execution error: 11

Nb bugs ends with an empty log: 0

Nb bugs ends with the Grid5000 timeout: 87

Total execution time: 4 days, 19:12:05.425000




## Human Patch 

```Java
diff --git a/source/org/jfree/data/xy/XYSeries.java b/source/org/jfree/data/xy/XYSeries.java
index b26e11e..0b37e6e 100644
--- a/source/org/jfree/data/xy/XYSeries.java
+++ b/source/org/jfree/data/xy/XYSeries.java
@@ -541,15 +541,11 @@ public class XYSeries extends Series implements Cloneable, Serializable {
         if (x == null) {
             throw new IllegalArgumentException("Null 'x' argument.");
         }
-        if (this.allowDuplicateXValues) {
-            add(x, y);
-            return null;
-        }
 
         // if we get to here, we know that duplicate X values are not permitted
         XYDataItem overwritten = null;
         int index = indexOf(x);
-        if (index >= 0) {
+        if (index >= 0 && !this.allowDuplicateXValues) {
             XYDataItem existing = (XYDataItem) this.data.get(index);
             try {
                 overwritten = (XYDataItem) existing.clone();

```

## 1 NopolC 

org.jfree.data.xy.XYSeries:563

```Java
!(org.jfree.data.xy.XYSeries.this.allowDuplicateXValues)
```

Nb Angelic value: 1

Nb analyzed Statement: 4

Execution time: 0:01:24.236000

Grid5000 node: griffon-6.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/source/org/jfree/data/xy/XYSeries.java b/source/org/jfree/data/xy/XYSeries.java
index b26e11e..0b37e6e 100644
--- a/source/org/jfree/data/xy/XYSeries.java
+++ b/source/org/jfree/data/xy/XYSeries.java
@@ -541,15 +541,11 @@ public class XYSeries extends Series implements Cloneable, Serializable {
         if (x == null) {
             throw new IllegalArgumentException("Null 'x' argument.");
         }
-        if (this.allowDuplicateXValues) {
-            add(x, y);
-            return null;
-        }
 
         // if we get to here, we know that duplicate X values are not permitted
         XYDataItem overwritten = null;
         int index = indexOf(x);
-        if (index >= 0) {
+        if (index >= 0 && !this.allowDuplicateXValues) {
             XYDataItem existing = (XYDataItem) this.data.get(index);
             try {
                 overwritten = (XYDataItem) existing.clone();

```

## 2 BrutpolC 

org.jfree.data.xy.XYSeries:563

```Java
this.equals((java.lang.Object) x)
```

Nb Angelic value: 1

Nb analyzed Statement: 4

Execution time: 0:01:33.502000

Grid5000 node: griffon-17.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/source/org/jfree/chart/util/ShapeList.java b/source/org/jfree/chart/util/ShapeList.java
index 73ece1c..85f1c81 100644
--- a/source/org/jfree/chart/util/ShapeList.java
+++ b/source/org/jfree/chart/util/ShapeList.java
@@ -108,14 +108,7 @@ public class ShapeList extends AbstractObjectList {
         if (!(obj instanceof ShapeList)) {
             return false;
         }
-        ShapeList that = (ShapeList) obj;
-        int listSize = size();
-        for (int i = 0; i < listSize; i++) {
-           if (!ShapeUtilities.equal((Shape) get(i), (Shape) that.get(i))) {
-               return false;
-           }
-        }
-        return true;
+        return super.equals(obj);
 
     }
 

```

## 3 BrutpolPC 

org.jfree.chart.util.AbstractObjectList:194

```Java
(i + 1) != (this.increment / listSize)
```

Nb Angelic value: 2

Nb analyzed Statement: 17

Execution time: 0:45:21.845000

Grid5000 node: grisou-44.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/source/org/jfree/data/time/TimeSeries.java b/source/org/jfree/data/time/TimeSeries.java
index d16d447..4067e3e 100644
--- a/source/org/jfree/data/time/TimeSeries.java
+++ b/source/org/jfree/data/time/TimeSeries.java
@@ -941,7 +941,7 @@ public class TimeSeries extends Series implements Cloneable, Serializable {
             endIndex = -(endIndex + 1); // this is first item AFTER end period
             endIndex = endIndex - 1;    // so this is last item BEFORE end
         }
-        if ((endIndex < 0)  || (endIndex < startIndex)) {
+        if (endIndex < 0) {
             emptyRange = true;
         }
         if (emptyRange) {

```

## 4 NopolPC 

org.jfree.data.time.TimeSeries:883

```Java
org.jfree.data.time.TimeSeries.this.data.size() == org.jfree.data.time.TimeSeries.this.range.length()
```

Nb Angelic value: 1

Nb analyzed Statement: 1

Execution time: 0:01:17.335000

Grid5000 node: griffon-4.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/source/org/jfree/data/time/TimeSeries.java b/source/org/jfree/data/time/TimeSeries.java
index d16d447..4067e3e 100644
--- a/source/org/jfree/data/time/TimeSeries.java
+++ b/source/org/jfree/data/time/TimeSeries.java
@@ -941,7 +941,7 @@ public class TimeSeries extends Series implements Cloneable, Serializable {
             endIndex = -(endIndex + 1); // this is first item AFTER end period
             endIndex = endIndex - 1;    // so this is last item BEFORE end
         }
-        if ((endIndex < 0)  || (endIndex < startIndex)) {
+        if (endIndex < 0) {
             emptyRange = true;
         }
         if (emptyRange) {

```

## 5 NopolC 

org.jfree.data.time.TimeSeries:947

```Java
endIndex < startIndex
```

Nb Angelic value: 1

Nb analyzed Statement: 3

Execution time: 0:01:19.759000

Grid5000 node: griffon-9.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/source/org/jfree/data/time/TimeSeries.java b/source/org/jfree/data/time/TimeSeries.java
index d16d447..4067e3e 100644
--- a/source/org/jfree/data/time/TimeSeries.java
+++ b/source/org/jfree/data/time/TimeSeries.java
@@ -941,7 +941,7 @@ public class TimeSeries extends Series implements Cloneable, Serializable {
             endIndex = -(endIndex + 1); // this is first item AFTER end period
             endIndex = endIndex - 1;    // so this is last item BEFORE end
         }
-        if ((endIndex < 0)  || (endIndex < startIndex)) {
+        if (endIndex < 0) {
             emptyRange = true;
         }
         if (emptyRange) {

```

## 6 BrutpolC 

org.jfree.data.time.TimeSeries:947

```Java
endIndex < startIndex
```

Nb Angelic value: 1

Nb analyzed Statement: 3

Execution time: 0:01:30.464000

Grid5000 node: griffon-60.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/source/org/jfree/chart/block/BorderArrangement.java b/source/org/jfree/chart/block/BorderArrangement.java
index b3ae54b..730aeb3 100644
--- a/source/org/jfree/chart/block/BorderArrangement.java
+++ b/source/org/jfree/chart/block/BorderArrangement.java
@@ -452,7 +452,7 @@ public class BorderArrangement implements Arrangement, Serializable {
         h[3] = h[2];
         if (this.rightBlock != null) {
             RectangleConstraint c4 = new RectangleConstraint(0.0,
-                    new Range(0.0, Math.max(constraint.getWidth() - w[2], 0.0)),
+                    new Range(0.0, constraint.getWidth() - w[2]),
                     LengthConstraintType.RANGE, h[2], null,
                     LengthConstraintType.FIXED);
             Size2D size = this.rightBlock.arrange(g2, c4);

```

## 7 NopolPC 

org.jfree.chart.block.BorderArrangement:453

```Java
null!=null
```

Nb Angelic value: 1

Nb analyzed Statement: 21

Execution time: 0:01:24.801000

Grid5000 node: griffon-9.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/source/org/jfree/chart/block/BorderArrangement.java b/source/org/jfree/chart/block/BorderArrangement.java
index b3ae54b..730aeb3 100644
--- a/source/org/jfree/chart/block/BorderArrangement.java
+++ b/source/org/jfree/chart/block/BorderArrangement.java
@@ -452,7 +452,7 @@ public class BorderArrangement implements Arrangement, Serializable {
         h[3] = h[2];
         if (this.rightBlock != null) {
             RectangleConstraint c4 = new RectangleConstraint(0.0,
-                    new Range(0.0, Math.max(constraint.getWidth() - w[2], 0.0)),
+                    new Range(0.0, constraint.getWidth() - w[2]),
                     LengthConstraintType.RANGE, h[2], null,
                     LengthConstraintType.FIXED);
             Size2D size = this.rightBlock.arrange(g2, c4);

```

## 8 NopolC 

org.jfree.chart.block.BorderArrangement:453

```Java
null!=null
```

Nb Angelic value: 1

Nb analyzed Statement: 21

Execution time: 0:01:22.348000

Grid5000 node: griffon-25.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/source/org/jfree/chart/block/BorderArrangement.java b/source/org/jfree/chart/block/BorderArrangement.java
index b3ae54b..730aeb3 100644
--- a/source/org/jfree/chart/block/BorderArrangement.java
+++ b/source/org/jfree/chart/block/BorderArrangement.java
@@ -452,7 +452,7 @@ public class BorderArrangement implements Arrangement, Serializable {
         h[3] = h[2];
         if (this.rightBlock != null) {
             RectangleConstraint c4 = new RectangleConstraint(0.0,
-                    new Range(0.0, Math.max(constraint.getWidth() - w[2], 0.0)),
+                    new Range(0.0, constraint.getWidth() - w[2]),
                     LengthConstraintType.RANGE, h[2], null,
                     LengthConstraintType.FIXED);
             Size2D size = this.rightBlock.arrange(g2, c4);

```

## 9 BrutpolPC 

org.jfree.chart.block.BorderArrangement:453

```Java
this.equals((java.lang.Object) container)
```

Nb Angelic value: 1

Nb analyzed Statement: 21

Execution time: 0:01:01.685000

Grid5000 node: grisou-34.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/source/org/jfree/chart/block/BorderArrangement.java b/source/org/jfree/chart/block/BorderArrangement.java
index b3ae54b..730aeb3 100644
--- a/source/org/jfree/chart/block/BorderArrangement.java
+++ b/source/org/jfree/chart/block/BorderArrangement.java
@@ -452,7 +452,7 @@ public class BorderArrangement implements Arrangement, Serializable {
         h[3] = h[2];
         if (this.rightBlock != null) {
             RectangleConstraint c4 = new RectangleConstraint(0.0,
-                    new Range(0.0, Math.max(constraint.getWidth() - w[2], 0.0)),
+                    new Range(0.0, constraint.getWidth() - w[2]),
                     LengthConstraintType.RANGE, h[2], null,
                     LengthConstraintType.FIXED);
             Size2D size = this.rightBlock.arrange(g2, c4);

```

## 10 BrutpolC 

org.jfree.chart.block.BorderArrangement:453

```Java
this.equals((java.lang.Object) container)
```

Nb Angelic value: 1

Nb analyzed Statement: 21

Execution time: 0:00:57.307000

Grid5000 node: grisou-6.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/source/org/jfree/data/time/TimeSeries.java b/source/org/jfree/data/time/TimeSeries.java
index 907fc20..ffd1dff 100644
--- a/source/org/jfree/data/time/TimeSeries.java
+++ b/source/org/jfree/data/time/TimeSeries.java
@@ -854,8 +854,7 @@ public class TimeSeries extends Series implements Cloneable, Serializable {
      *         subclasses may differ.
      */
     public Object clone() throws CloneNotSupportedException {
-        TimeSeries clone = (TimeSeries) super.clone();
-        clone.data = (List) ObjectUtilities.deepClone(this.data);
+        Object clone = createCopy(0, getItemCount() - 1);
         return clone;
     }
 

```

## 11 NopolPC 

org.jfree.data.time.TimeSeries:880

```Java
start == 1
```

Nb Angelic value: 1

Nb analyzed Statement: 1

Execution time: 0:01:16.459000

Grid5000 node: griffon-29.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/source/org/jfree/data/time/TimeSeries.java b/source/org/jfree/data/time/TimeSeries.java
index 907fc20..ffd1dff 100644
--- a/source/org/jfree/data/time/TimeSeries.java
+++ b/source/org/jfree/data/time/TimeSeries.java
@@ -854,8 +854,7 @@ public class TimeSeries extends Series implements Cloneable, Serializable {
      *         subclasses may differ.
      */
     public Object clone() throws CloneNotSupportedException {
-        TimeSeries clone = (TimeSeries) super.clone();
-        clone.data = (List) ObjectUtilities.deepClone(this.data);
+        Object clone = createCopy(0, getItemCount() - 1);
         return clone;
     }
 

```

## 12 NopolC 

org.jfree.data.time.TimeSeries:879

```Java
((end < start) && ((-1) != (end))) || (org.jfree.data.time.TimeSeries.this.maximumItemAge <= end)
```

Nb Angelic value: 1

Nb analyzed Statement: 3

Execution time: 0:01:20.456000

Grid5000 node: griffon-24.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/source/org/jfree/data/time/TimeSeries.java b/source/org/jfree/data/time/TimeSeries.java
index 907fc20..ffd1dff 100644
--- a/source/org/jfree/data/time/TimeSeries.java
+++ b/source/org/jfree/data/time/TimeSeries.java
@@ -854,8 +854,7 @@ public class TimeSeries extends Series implements Cloneable, Serializable {
      *         subclasses may differ.
      */
     public Object clone() throws CloneNotSupportedException {
-        TimeSeries clone = (TimeSeries) super.clone();
-        clone.data = (List) ObjectUtilities.deepClone(this.data);
+        Object clone = createCopy(0, getItemCount() - 1);
         return clone;
     }
 

```

## 13 BrutpolPC 

org.jfree.data.time.TimeSeries:880

```Java
end == 0
```

Nb Angelic value: 1

Nb analyzed Statement: 1

Execution time: 0:00:55.346000

Grid5000 node: grisou-4.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/source/org/jfree/data/time/TimeSeries.java b/source/org/jfree/data/time/TimeSeries.java
index 907fc20..ffd1dff 100644
--- a/source/org/jfree/data/time/TimeSeries.java
+++ b/source/org/jfree/data/time/TimeSeries.java
@@ -854,8 +854,7 @@ public class TimeSeries extends Series implements Cloneable, Serializable {
      *         subclasses may differ.
      */
     public Object clone() throws CloneNotSupportedException {
-        TimeSeries clone = (TimeSeries) super.clone();
-        clone.data = (List) ObjectUtilities.deepClone(this.data);
+        Object clone = createCopy(0, getItemCount() - 1);
         return clone;
     }
 

```

## 14 BrutpolC 

org.jfree.data.time.TimeSeries:879

```Java
(end == 0) && (start == 1)
```

Nb Angelic value: 1

Nb analyzed Statement: 3

Execution time: 0:00:56.112000

Grid5000 node: grisou-8.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/source/org/jfree/data/statistics/DefaultBoxAndWhiskerCategoryDataset.java b/source/org/jfree/data/statistics/DefaultBoxAndWhiskerCategoryDataset.java
index a973da9..7fd86f4 100644
--- a/source/org/jfree/data/statistics/DefaultBoxAndWhiskerCategoryDataset.java
+++ b/source/org/jfree/data/statistics/DefaultBoxAndWhiskerCategoryDataset.java
@@ -154,7 +154,6 @@ public class DefaultBoxAndWhiskerCategoryDataset extends AbstractDataset
                 && this.minimumRangeValueColumn == c))  {
             updateBounds();
         }
-        else {
         
             double minval = Double.NaN;
             if (item.getMinOutlier() != null) {
@@ -186,7 +185,6 @@ public class DefaultBoxAndWhiskerCategoryDataset extends AbstractDataset
                 this.minimumRangeValueRow = r;
                 this.minimumRangeValueColumn = c;
             }
-        }
         
         this.rangeBounds = new Range(this.minimumRangeValue,
               this.maximumRangeValue);
@@ -740,44 +738,7 @@ public class DefaultBoxAndWhiskerCategoryDataset extends AbstractDataset
      */
     private void updateBounds() {
         this.minimumRangeValue = Double.NaN;
-        this.minimumRangeValueRow = -1;
-        this.minimumRangeValueColumn = -1;
         this.maximumRangeValue = Double.NaN;
-        this.maximumRangeValueRow = -1;
-        this.maximumRangeValueColumn = -1;
-        int rowCount = getRowCount();
-        int columnCount = getColumnCount();
-        for (int r = 0; r < rowCount; r++) {
-            for (int c = 0; c < columnCount; c++) {
-                BoxAndWhiskerItem item = getItem(r, c);
-                if (item != null) {
-                    Number min = item.getMinOutlier();
-                    if (min != null) {
-                        double minv = min.doubleValue();
-                        if (!Double.isNaN(minv)) {
-                            if (minv < this.minimumRangeValue || Double.isNaN(
-                                    this.minimumRangeValue)) {
-                                this.minimumRangeValue = minv;
-                                this.minimumRangeValueRow = r;
-                                this.minimumRangeValueColumn = c;
-                            }
-                        }
-                    }
-                    Number max = item.getMaxOutlier();
-                    if (max != null) {
-                        double maxv = max.doubleValue();
-                        if (!Double.isNaN(maxv)) {
-                            if (maxv > this.maximumRangeValue || Double.isNaN(
-                                    this.maximumRangeValue)) {
-                                this.maximumRangeValue = maxv;
-                                this.maximumRangeValueRow = r;
-                                this.maximumRangeValueColumn = c;
-                            }
-                        }
-                    }
-                }
-            }
-        }
     }
     
     /**

```

## 15 NopolPC 

org.jfree.data.Range:335

```Java
((!(1 < org.jfree.data.Range.this.lower)) || (org.jfree.data.Range.this.lower <= (-1 + org.jfree.data.Range.this.upper) - (1))) && ((!(1 < org.jfree.data.Range.this.lower)) || (org.jfree.data.Range.this.lower <= (-1 + org.jfree.data.Range.this.upper) - (1)))
```

Nb Angelic value: 1

Nb analyzed Statement: 11

Execution time: 0:01:18.796000

Grid5000 node: griffon-25.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/source/org/jfree/data/statistics/DefaultBoxAndWhiskerCategoryDataset.java b/source/org/jfree/data/statistics/DefaultBoxAndWhiskerCategoryDataset.java
index a973da9..7fd86f4 100644
--- a/source/org/jfree/data/statistics/DefaultBoxAndWhiskerCategoryDataset.java
+++ b/source/org/jfree/data/statistics/DefaultBoxAndWhiskerCategoryDataset.java
@@ -154,7 +154,6 @@ public class DefaultBoxAndWhiskerCategoryDataset extends AbstractDataset
                 && this.minimumRangeValueColumn == c))  {
             updateBounds();
         }
-        else {
         
             double minval = Double.NaN;
             if (item.getMinOutlier() != null) {
@@ -186,7 +185,6 @@ public class DefaultBoxAndWhiskerCategoryDataset extends AbstractDataset
                 this.minimumRangeValueRow = r;
                 this.minimumRangeValueColumn = c;
             }
-        }
         
         this.rangeBounds = new Range(this.minimumRangeValue,
               this.maximumRangeValue);
@@ -740,44 +738,7 @@ public class DefaultBoxAndWhiskerCategoryDataset extends AbstractDataset
      */
     private void updateBounds() {
         this.minimumRangeValue = Double.NaN;
-        this.minimumRangeValueRow = -1;
-        this.minimumRangeValueColumn = -1;
         this.maximumRangeValue = Double.NaN;
-        this.maximumRangeValueRow = -1;
-        this.maximumRangeValueColumn = -1;
-        int rowCount = getRowCount();
-        int columnCount = getColumnCount();
-        for (int r = 0; r < rowCount; r++) {
-            for (int c = 0; c < columnCount; c++) {
-                BoxAndWhiskerItem item = getItem(r, c);
-                if (item != null) {
-                    Number min = item.getMinOutlier();
-                    if (min != null) {
-                        double minv = min.doubleValue();
-                        if (!Double.isNaN(minv)) {
-                            if (minv < this.minimumRangeValue || Double.isNaN(
-                                    this.minimumRangeValue)) {
-                                this.minimumRangeValue = minv;
-                                this.minimumRangeValueRow = r;
-                                this.minimumRangeValueColumn = c;
-                            }
-                        }
-                    }
-                    Number max = item.getMaxOutlier();
-                    if (max != null) {
-                        double maxv = max.doubleValue();
-                        if (!Double.isNaN(maxv)) {
-                            if (maxv > this.maximumRangeValue || Double.isNaN(
-                                    this.maximumRangeValue)) {
-                                this.maximumRangeValue = maxv;
-                                this.maximumRangeValueRow = r;
-                                this.maximumRangeValueColumn = c;
-                            }
-                        }
-                    }
-                }
-            }
-        }
     }
     
     /**

```

## 16 BrutpolPC 

org.jfree.data.Range:335

```Java
range.getLowerBound() == range.getLength()
```

Nb Angelic value: 1

Nb analyzed Statement: 11

Execution time: 0:00:55.418000

Grid5000 node: grisou-39.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/source/org/jfree/chart/renderer/category/StatisticalBarRenderer.java b/source/org/jfree/chart/renderer/category/StatisticalBarRenderer.java
index 6ff5e36..ab65ba3 100644
--- a/source/org/jfree/chart/renderer/category/StatisticalBarRenderer.java
+++ b/source/org/jfree/chart/renderer/category/StatisticalBarRenderer.java
@@ -256,9 +256,6 @@ public class StatisticalBarRenderer extends BarRenderer
 
         // BAR X
         Number meanValue = dataset.getMeanValue(row, column);
-        if (meanValue == null) {
-            return;
-        }
 
         double value = meanValue.doubleValue();
         double base = 0.0;
@@ -315,9 +312,7 @@ public class StatisticalBarRenderer extends BarRenderer
         }
 
         // standard deviation lines
-        Number n = dataset.getStdDevValue(row, column);
-        if (n != null) {
-            double valueDelta = n.doubleValue();
+            double valueDelta = dataset.getStdDevValue(row, column).doubleValue();
             double highVal = rangeAxis.valueToJava2D(meanValue.doubleValue() 
                     + valueDelta, dataArea, yAxisLocation);
             double lowVal = rangeAxis.valueToJava2D(meanValue.doubleValue() 
@@ -346,7 +341,6 @@ public class StatisticalBarRenderer extends BarRenderer
             line = new Line2D.Double(lowVal, rectY + rectHeight * 0.25, 
                                      lowVal, rectY + rectHeight * 0.75);
             g2.draw(line);
-        }
         
         CategoryItemLabelGenerator generator = getItemLabelGenerator(row, 
                 column);
@@ -406,9 +400,6 @@ public class StatisticalBarRenderer extends BarRenderer
 
         // BAR Y
         Number meanValue = dataset.getMeanValue(row, column);
-        if (meanValue == null) {
-            return;
-        }
 
         double value = meanValue.doubleValue();
         double base = 0.0;
@@ -465,9 +456,7 @@ public class StatisticalBarRenderer extends BarRenderer
         }
 
         // standard deviation lines
-        Number n = dataset.getStdDevValue(row, column);
-        if (n != null) {
-            double valueDelta = n.doubleValue();
+            double valueDelta = dataset.getStdDevValue(row, column).doubleValue();
             double highVal = rangeAxis.valueToJava2D(meanValue.doubleValue() 
                     + valueDelta, dataArea, yAxisLocation);
             double lowVal = rangeAxis.valueToJava2D(meanValue.doubleValue() 
@@ -495,7 +484,6 @@ public class StatisticalBarRenderer extends BarRenderer
             line = new Line2D.Double(rectX + rectWidth / 2.0d - 5.0d, lowVal,
                                      rectX + rectWidth / 2.0d + 5.0d, lowVal);
             g2.draw(line);
-        }
         
         CategoryItemLabelGenerator generator = getItemLabelGenerator(row, 
                 column);

```

## 17 NopolPC 

org.jfree.chart.renderer.category.StatisticalBarRenderer:207

```Java
-1 == 1
```

Nb Angelic value: 1

Nb analyzed Statement: 2

Execution time: 0:01:18.880000

Grid5000 node: griffon-13.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/source/org/jfree/chart/renderer/category/StatisticalBarRenderer.java b/source/org/jfree/chart/renderer/category/StatisticalBarRenderer.java
index 6ff5e36..ab65ba3 100644
--- a/source/org/jfree/chart/renderer/category/StatisticalBarRenderer.java
+++ b/source/org/jfree/chart/renderer/category/StatisticalBarRenderer.java
@@ -256,9 +256,6 @@ public class StatisticalBarRenderer extends BarRenderer
 
         // BAR X
         Number meanValue = dataset.getMeanValue(row, column);
-        if (meanValue == null) {
-            return;
-        }
 
         double value = meanValue.doubleValue();
         double base = 0.0;
@@ -315,9 +312,7 @@ public class StatisticalBarRenderer extends BarRenderer
         }
 
         // standard deviation lines
-        Number n = dataset.getStdDevValue(row, column);
-        if (n != null) {
-            double valueDelta = n.doubleValue();
+            double valueDelta = dataset.getStdDevValue(row, column).doubleValue();
             double highVal = rangeAxis.valueToJava2D(meanValue.doubleValue() 
                     + valueDelta, dataArea, yAxisLocation);
             double lowVal = rangeAxis.valueToJava2D(meanValue.doubleValue() 
@@ -346,7 +341,6 @@ public class StatisticalBarRenderer extends BarRenderer
             line = new Line2D.Double(lowVal, rectY + rectHeight * 0.25, 
                                      lowVal, rectY + rectHeight * 0.75);
             g2.draw(line);
-        }
         
         CategoryItemLabelGenerator generator = getItemLabelGenerator(row, 
                 column);
@@ -406,9 +400,6 @@ public class StatisticalBarRenderer extends BarRenderer
 
         // BAR Y
         Number meanValue = dataset.getMeanValue(row, column);
-        if (meanValue == null) {
-            return;
-        }
 
         double value = meanValue.doubleValue();
         double base = 0.0;
@@ -465,9 +456,7 @@ public class StatisticalBarRenderer extends BarRenderer
         }
 
         // standard deviation lines
-        Number n = dataset.getStdDevValue(row, column);
-        if (n != null) {
-            double valueDelta = n.doubleValue();
+            double valueDelta = dataset.getStdDevValue(row, column).doubleValue();
             double highVal = rangeAxis.valueToJava2D(meanValue.doubleValue() 
                     + valueDelta, dataArea, yAxisLocation);
             double lowVal = rangeAxis.valueToJava2D(meanValue.doubleValue() 
@@ -495,7 +484,6 @@ public class StatisticalBarRenderer extends BarRenderer
             line = new Line2D.Double(rectX + rectWidth / 2.0d - 5.0d, lowVal,
                                      rectX + rectWidth / 2.0d + 5.0d, lowVal);
             g2.draw(line);
-        }
         
         CategoryItemLabelGenerator generator = getItemLabelGenerator(row, 
                 column);

```

## 18 NopolC 

org.jfree.data.statistics.DefaultStatisticalCategoryDataset:110

```Java
(org.jfree.data.statistics.DefaultStatisticalCategoryDataset.this.maximumRangeValue < org.jfree.data.statistics.DefaultStatisticalCategoryDataset.this.maximumRangeValueIncStdDev) && (!(org.jfree.data.statistics.DefaultStatisticalCategoryDataset.this.maximumRangeValue <= 1))
```

Nb Angelic value: 1

Nb analyzed Statement: 20

Execution time: 0:01:20.589000

Grid5000 node: griffon-9.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/source/org/jfree/chart/renderer/category/StatisticalBarRenderer.java b/source/org/jfree/chart/renderer/category/StatisticalBarRenderer.java
index 6ff5e36..ab65ba3 100644
--- a/source/org/jfree/chart/renderer/category/StatisticalBarRenderer.java
+++ b/source/org/jfree/chart/renderer/category/StatisticalBarRenderer.java
@@ -256,9 +256,6 @@ public class StatisticalBarRenderer extends BarRenderer
 
         // BAR X
         Number meanValue = dataset.getMeanValue(row, column);
-        if (meanValue == null) {
-            return;
-        }
 
         double value = meanValue.doubleValue();
         double base = 0.0;
@@ -315,9 +312,7 @@ public class StatisticalBarRenderer extends BarRenderer
         }
 
         // standard deviation lines
-        Number n = dataset.getStdDevValue(row, column);
-        if (n != null) {
-            double valueDelta = n.doubleValue();
+            double valueDelta = dataset.getStdDevValue(row, column).doubleValue();
             double highVal = rangeAxis.valueToJava2D(meanValue.doubleValue() 
                     + valueDelta, dataArea, yAxisLocation);
             double lowVal = rangeAxis.valueToJava2D(meanValue.doubleValue() 
@@ -346,7 +341,6 @@ public class StatisticalBarRenderer extends BarRenderer
             line = new Line2D.Double(lowVal, rectY + rectHeight * 0.25, 
                                      lowVal, rectY + rectHeight * 0.75);
             g2.draw(line);
-        }
         
         CategoryItemLabelGenerator generator = getItemLabelGenerator(row, 
                 column);
@@ -406,9 +400,6 @@ public class StatisticalBarRenderer extends BarRenderer
 
         // BAR Y
         Number meanValue = dataset.getMeanValue(row, column);
-        if (meanValue == null) {
-            return;
-        }
 
         double value = meanValue.doubleValue();
         double base = 0.0;
@@ -465,9 +456,7 @@ public class StatisticalBarRenderer extends BarRenderer
         }
 
         // standard deviation lines
-        Number n = dataset.getStdDevValue(row, column);
-        if (n != null) {
-            double valueDelta = n.doubleValue();
+            double valueDelta = dataset.getStdDevValue(row, column).doubleValue();
             double highVal = rangeAxis.valueToJava2D(meanValue.doubleValue() 
                     + valueDelta, dataArea, yAxisLocation);
             double lowVal = rangeAxis.valueToJava2D(meanValue.doubleValue() 
@@ -495,7 +484,6 @@ public class StatisticalBarRenderer extends BarRenderer
             line = new Line2D.Double(rectX + rectWidth / 2.0d - 5.0d, lowVal,
                                      rectX + rectWidth / 2.0d + 5.0d, lowVal);
             g2.draw(line);
-        }
         
         CategoryItemLabelGenerator generator = getItemLabelGenerator(row, 
                 column);

```

## 19 BrutpolPC 

org.jfree.data.statistics.DefaultStatisticalCategoryDataset:111

```Java
this.equals((java.lang.Object) masd)
```

Nb Angelic value: 2

Nb analyzed Statement: 19

Execution time: 0:01:12.990000

Grid5000 node: grisou-32.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/source/org/jfree/chart/renderer/category/StatisticalBarRenderer.java b/source/org/jfree/chart/renderer/category/StatisticalBarRenderer.java
index 6ff5e36..ab65ba3 100644
--- a/source/org/jfree/chart/renderer/category/StatisticalBarRenderer.java
+++ b/source/org/jfree/chart/renderer/category/StatisticalBarRenderer.java
@@ -256,9 +256,6 @@ public class StatisticalBarRenderer extends BarRenderer
 
         // BAR X
         Number meanValue = dataset.getMeanValue(row, column);
-        if (meanValue == null) {
-            return;
-        }
 
         double value = meanValue.doubleValue();
         double base = 0.0;
@@ -315,9 +312,7 @@ public class StatisticalBarRenderer extends BarRenderer
         }
 
         // standard deviation lines
-        Number n = dataset.getStdDevValue(row, column);
-        if (n != null) {
-            double valueDelta = n.doubleValue();
+            double valueDelta = dataset.getStdDevValue(row, column).doubleValue();
             double highVal = rangeAxis.valueToJava2D(meanValue.doubleValue() 
                     + valueDelta, dataArea, yAxisLocation);
             double lowVal = rangeAxis.valueToJava2D(meanValue.doubleValue() 
@@ -346,7 +341,6 @@ public class StatisticalBarRenderer extends BarRenderer
             line = new Line2D.Double(lowVal, rectY + rectHeight * 0.25, 
                                      lowVal, rectY + rectHeight * 0.75);
             g2.draw(line);
-        }
         
         CategoryItemLabelGenerator generator = getItemLabelGenerator(row, 
                 column);
@@ -406,9 +400,6 @@ public class StatisticalBarRenderer extends BarRenderer
 
         // BAR Y
         Number meanValue = dataset.getMeanValue(row, column);
-        if (meanValue == null) {
-            return;
-        }
 
         double value = meanValue.doubleValue();
         double base = 0.0;
@@ -465,9 +456,7 @@ public class StatisticalBarRenderer extends BarRenderer
         }
 
         // standard deviation lines
-        Number n = dataset.getStdDevValue(row, column);
-        if (n != null) {
-            double valueDelta = n.doubleValue();
+            double valueDelta = dataset.getStdDevValue(row, column).doubleValue();
             double highVal = rangeAxis.valueToJava2D(meanValue.doubleValue() 
                     + valueDelta, dataArea, yAxisLocation);
             double lowVal = rangeAxis.valueToJava2D(meanValue.doubleValue() 
@@ -495,7 +484,6 @@ public class StatisticalBarRenderer extends BarRenderer
             line = new Line2D.Double(rectX + rectWidth / 2.0d - 5.0d, lowVal,
                                      rectX + rectWidth / 2.0d + 5.0d, lowVal);
             g2.draw(line);
-        }
         
         CategoryItemLabelGenerator generator = getItemLabelGenerator(row, 
                 column);

```

## 20 BrutpolC 

org.jfree.data.statistics.DefaultStatisticalCategoryDataset:110

```Java
this.equals((java.lang.Object) masd)
```

Nb Angelic value: 1

Nb analyzed Statement: 20

Execution time: 0:00:56.850000

Grid5000 node: grisou-48.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/java/org/apache/commons/lang3/StringUtils.java b/src/java/org/apache/commons/lang3/StringUtils.java
index f6cabee..14563aa 100644
--- a/src/java/org/apache/commons/lang3/StringUtils.java
+++ b/src/java/org/apache/commons/lang3/StringUtils.java
@@ -3673,9 +3673,6 @@ public class StringUtils {
 
         // count the replacement text elements that are larger than their corresponding text being replaced
         for (int i = 0; i < searchList.length; i++) {
-            if (searchList[i] == null || replacementList[i] == null) {
-                continue;
-            }
             int greater = replacementList[i].length() - searchList[i].length();
             if (greater > 0) {
                 increase += 3 * greater; // assume 3 matches

```

## 21 NopolPC 

org.apache.commons.lang3.StringUtils:3675

```Java
repeat
```

Nb Angelic value: 1

Nb analyzed Statement: 29

Execution time: 0:06:28.352000

Grid5000 node: griffon-24.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/java/org/apache/commons/lang3/StringUtils.java b/src/java/org/apache/commons/lang3/StringUtils.java
index f6cabee..14563aa 100644
--- a/src/java/org/apache/commons/lang3/StringUtils.java
+++ b/src/java/org/apache/commons/lang3/StringUtils.java
@@ -3673,9 +3673,6 @@ public class StringUtils {
 
         // count the replacement text elements that are larger than their corresponding text being replaced
         for (int i = 0; i < searchList.length; i++) {
-            if (searchList[i] == null || replacementList[i] == null) {
-                continue;
-            }
             int greater = replacementList[i].length() - searchList[i].length();
             if (greater > 0) {
                 increase += 3 * greater; // assume 3 matches

```

## 22 BrutpolPC 

org.apache.commons.lang3.StringUtils:3675

```Java
repeat
```

Nb Angelic value: 1

Nb analyzed Statement: 29

Execution time: 0:06:11.604000

Grid5000 node: grisou-32.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/java/org/apache/commons/lang/NumberUtils.java b/src/java/org/apache/commons/lang/NumberUtils.java
index c5ca8cd..18a05ef 100644
--- a/src/java/org/apache/commons/lang/NumberUtils.java
+++ b/src/java/org/apache/commons/lang/NumberUtils.java
@@ -142,9 +142,6 @@ public final class NumberUtils {
         if (val.length() == 0) {
             throw new NumberFormatException("\"\" is not a valid number.");
         }
-        if (val.length() == 1 && !Character.isDigit(val.charAt(0))) {
-            throw new NumberFormatException(val + " is not a valid number.");
-        }
         if (val.startsWith("--")) {
             // this is protection for poorness in java.lang.BigDecimal.
             // it accepts this as a legal value, but it does not appear 

```

## 23 NopolPC 

org.apache.commons.lang.NumberUtils:193

```Java
(numeric.length()) != (0)
```

Nb Angelic value: 1

Nb analyzed Statement: 5

Execution time: 0:00:58.487000

Grid5000 node: griffon-6.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/java/org/apache/commons/lang/NumberUtils.java b/src/java/org/apache/commons/lang/NumberUtils.java
index c5ca8cd..18a05ef 100644
--- a/src/java/org/apache/commons/lang/NumberUtils.java
+++ b/src/java/org/apache/commons/lang/NumberUtils.java
@@ -142,9 +142,6 @@ public final class NumberUtils {
         if (val.length() == 0) {
             throw new NumberFormatException("\"\" is not a valid number.");
         }
-        if (val.length() == 1 && !Character.isDigit(val.charAt(0))) {
-            throw new NumberFormatException(val + " is not a valid number.");
-        }
         if (val.startsWith("--")) {
             // this is protection for poorness in java.lang.BigDecimal.
             // it accepts this as a legal value, but it does not appear 

```

## 24 NopolC 

org.apache.commons.lang.NumberUtils:193

```Java
((dec == null) && (exp == null))
```

Nb Angelic value: 1

Nb analyzed Statement: 5

Execution time: 0:00:59.274000

Grid5000 node: griffon-9.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/java/org/apache/commons/lang/NumberUtils.java b/src/java/org/apache/commons/lang/NumberUtils.java
index c5ca8cd..18a05ef 100644
--- a/src/java/org/apache/commons/lang/NumberUtils.java
+++ b/src/java/org/apache/commons/lang/NumberUtils.java
@@ -142,9 +142,6 @@ public final class NumberUtils {
         if (val.length() == 0) {
             throw new NumberFormatException("\"\" is not a valid number.");
         }
-        if (val.length() == 1 && !Character.isDigit(val.charAt(0))) {
-            throw new NumberFormatException(val + " is not a valid number.");
-        }
         if (val.startsWith("--")) {
             // this is protection for poorness in java.lang.BigDecimal.
             // it accepts this as a legal value, but it does not appear 

```

## 25 BrutpolC 

org.apache.commons.lang.NumberUtils:193

```Java
exp == dec
```

Nb Angelic value: 1

Nb analyzed Statement: 5

Execution time: 0:00:42.524000

Grid5000 node: grisou-48.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/java/org/apache/commons/lang/StringEscapeUtils.java b/src/java/org/apache/commons/lang/StringEscapeUtils.java
index d4f98ec..7b22e21 100644
--- a/src/java/org/apache/commons/lang/StringEscapeUtils.java
+++ b/src/java/org/apache/commons/lang/StringEscapeUtils.java
@@ -83,7 +83,7 @@ public class StringEscapeUtils {
      * @return String with escaped values, <code>null</code> if null string input
      */
     public static String escapeJava(String str) {
-        return escapeJavaStyleString(str, false, false);
+        return escapeJavaStyleString(str, false);
     }
 
     /**
@@ -99,7 +99,7 @@ public class StringEscapeUtils {
      * @throws IOException if error occurs on underlying Writer
      */
     public static void escapeJava(Writer out, String str) throws IOException {
-        escapeJavaStyleString(out, str, false, false);
+        escapeJavaStyleString(out, str, false);
     }
 
     /**
@@ -124,7 +124,7 @@ public class StringEscapeUtils {
      * @return String with escaped values, <code>null</code> if null string input
      */
     public static String escapeJavaScript(String str) {
-        return escapeJavaStyleString(str, true, true);
+        return escapeJavaStyleString(str, true);
     }
 
     /**
@@ -140,7 +140,7 @@ public class StringEscapeUtils {
      * @throws IOException if error occurs on underlying Writer
      **/
     public static void escapeJavaScript(Writer out, String str) throws IOException {
-        escapeJavaStyleString(out, str, true, true);
+        escapeJavaStyleString(out, str, true);
     }
 
     /**
@@ -151,13 +151,13 @@ public class StringEscapeUtils {
      * @param escapeForwardSlash TODO
      * @return the escaped string
      */
-    private static String escapeJavaStyleString(String str, boolean escapeSingleQuotes, boolean escapeForwardSlash) {
+    private static String escapeJavaStyleString(String str, boolean escapeSingleQuotes) {
         if (str == null) {
             return null;
         }
         try {
             StringWriter writer = new StringWriter(str.length() * 2);
-            escapeJavaStyleString(writer, str, escapeSingleQuotes, escapeForwardSlash);
+            escapeJavaStyleString(writer, str, escapeSingleQuotes);
             return writer.toString();
         } catch (IOException ioe) {
             // this should never ever happen while writing to a StringWriter
@@ -175,8 +175,7 @@ public class StringEscapeUtils {
      * @param escapeForwardSlash TODO
      * @throws IOException if an IOException occurs
      */
-    private static void escapeJavaStyleString(Writer out, String str, boolean escapeSingleQuote,
-            boolean escapeForwardSlash) throws IOException {
+    private static void escapeJavaStyleString(Writer out, String str, boolean escapeSingleQuote) throws IOException {
         if (out == null) {
             throw new IllegalArgumentException("The Writer must not be null");
         }
@@ -242,9 +241,7 @@ public class StringEscapeUtils {
                         out.write('\\');
                         break;
                     case '/' :
-                        if (escapeForwardSlash) {
                             out.write('\\');
-                        }
                         out.write('/');
                         break;
                     default :

```

## 26 NopolPC 

org.apache.commons.lang.StringEscapeUtils:244

```Java
escapeSingleQuote
```

Nb Angelic value: 1

Nb analyzed Statement: 3

Execution time: 0:00:53.644000

Grid5000 node: griffon-4.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/java/org/apache/commons/lang/StringEscapeUtils.java b/src/java/org/apache/commons/lang/StringEscapeUtils.java
index d4f98ec..7b22e21 100644
--- a/src/java/org/apache/commons/lang/StringEscapeUtils.java
+++ b/src/java/org/apache/commons/lang/StringEscapeUtils.java
@@ -83,7 +83,7 @@ public class StringEscapeUtils {
      * @return String with escaped values, <code>null</code> if null string input
      */
     public static String escapeJava(String str) {
-        return escapeJavaStyleString(str, false, false);
+        return escapeJavaStyleString(str, false);
     }
 
     /**
@@ -99,7 +99,7 @@ public class StringEscapeUtils {
      * @throws IOException if error occurs on underlying Writer
      */
     public static void escapeJava(Writer out, String str) throws IOException {
-        escapeJavaStyleString(out, str, false, false);
+        escapeJavaStyleString(out, str, false);
     }
 
     /**
@@ -124,7 +124,7 @@ public class StringEscapeUtils {
      * @return String with escaped values, <code>null</code> if null string input
      */
     public static String escapeJavaScript(String str) {
-        return escapeJavaStyleString(str, true, true);
+        return escapeJavaStyleString(str, true);
     }
 
     /**
@@ -140,7 +140,7 @@ public class StringEscapeUtils {
      * @throws IOException if error occurs on underlying Writer
      **/
     public static void escapeJavaScript(Writer out, String str) throws IOException {
-        escapeJavaStyleString(out, str, true, true);
+        escapeJavaStyleString(out, str, true);
     }
 
     /**
@@ -151,13 +151,13 @@ public class StringEscapeUtils {
      * @param escapeForwardSlash TODO
      * @return the escaped string
      */
-    private static String escapeJavaStyleString(String str, boolean escapeSingleQuotes, boolean escapeForwardSlash) {
+    private static String escapeJavaStyleString(String str, boolean escapeSingleQuotes) {
         if (str == null) {
             return null;
         }
         try {
             StringWriter writer = new StringWriter(str.length() * 2);
-            escapeJavaStyleString(writer, str, escapeSingleQuotes, escapeForwardSlash);
+            escapeJavaStyleString(writer, str, escapeSingleQuotes);
             return writer.toString();
         } catch (IOException ioe) {
             // this should never ever happen while writing to a StringWriter
@@ -175,8 +175,7 @@ public class StringEscapeUtils {
      * @param escapeForwardSlash TODO
      * @throws IOException if an IOException occurs
      */
-    private static void escapeJavaStyleString(Writer out, String str, boolean escapeSingleQuote,
-            boolean escapeForwardSlash) throws IOException {
+    private static void escapeJavaStyleString(Writer out, String str, boolean escapeSingleQuote) throws IOException {
         if (out == null) {
             throw new IllegalArgumentException("The Writer must not be null");
         }
@@ -242,9 +241,7 @@ public class StringEscapeUtils {
                         out.write('\\');
                         break;
                     case '/' :
-                        if (escapeForwardSlash) {
                             out.write('\\');
-                        }
                         out.write('/');
                         break;
                     default :

```

## 27 BrutpolPC 

org.apache.commons.lang.StringEscapeUtils:244

```Java
escapeSingleQuote
```

Nb Angelic value: 1

Nb analyzed Statement: 3

Execution time: 0:00:38.764000

Grid5000 node: grisou-8.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/java/org/apache/commons/lang/BooleanUtils.java b/src/java/org/apache/commons/lang/BooleanUtils.java
index 8b5028c..3fda4ec 100644
--- a/src/java/org/apache/commons/lang/BooleanUtils.java
+++ b/src/java/org/apache/commons/lang/BooleanUtils.java
@@ -679,7 +679,6 @@ public class BooleanUtils {
                         (str.charAt(1) == 'E' || str.charAt(1) == 'e') &&
                         (str.charAt(2) == 'S' || str.charAt(2) == 's');
                 }
-                return false;
             }
             case 4: {
                 char ch = str.charAt(0);

```

## 28 NopolC 

org.apache.commons.lang.BooleanUtils:677

```Java
str!=null
```

Nb Angelic value: 1

Nb analyzed Statement: 8

Execution time: 0:00:55.803000

Grid5000 node: griffon-1.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/java/org/apache/commons/lang/BooleanUtils.java b/src/java/org/apache/commons/lang/BooleanUtils.java
index 8b5028c..3fda4ec 100644
--- a/src/java/org/apache/commons/lang/BooleanUtils.java
+++ b/src/java/org/apache/commons/lang/BooleanUtils.java
@@ -679,7 +679,6 @@ public class BooleanUtils {
                         (str.charAt(1) == 'E' || str.charAt(1) == 'e') &&
                         (str.charAt(2) == 'S' || str.charAt(2) == 's');
                 }
-                return false;
             }
             case 4: {
                 char ch = str.charAt(0);

```

## 29 BrutpolC 

org.apache.commons.lang.BooleanUtils:677

```Java
str != null
```

Nb Angelic value: 1

Nb analyzed Statement: 8

Execution time: 0:00:39.139000

Grid5000 node: grisou-49.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/java/org/apache/commons/lang/time/DateUtils.java b/src/java/org/apache/commons/lang/time/DateUtils.java
index e5138b5..0dd0ded 100644
--- a/src/java/org/apache/commons/lang/time/DateUtils.java
+++ b/src/java/org/apache/commons/lang/time/DateUtils.java
@@ -640,18 +640,18 @@ public class DateUtils {
         int millisecs = val.get(Calendar.MILLISECOND);
         if (!round || millisecs < 500) {
             time = time - millisecs;
-        }
         if (field == Calendar.SECOND) {
             done = true;
+            }
         }
 
         // truncate seconds
         int seconds = val.get(Calendar.SECOND);
         if (!done && (!round || seconds < 30)) {
             time = time - (seconds * 1000L);
-        }
         if (field == Calendar.MINUTE) {
             done = true;
+            }
         }
 
         // truncate minutes

```

## 30 NopolPC 

org.apache.commons.lang.time.DateUtils:666

```Java
(!((org.apache.commons.lang.time.DateUtils.RANGE_MONTH_MONDAY < millisecs) && (round))) || (seconds <= minutes)
```

Nb Angelic value: 1

Nb analyzed Statement: 24

Execution time: 0:01:08.809000

Grid5000 node: griffon-3.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/java/org/apache/commons/lang/time/DateUtils.java b/src/java/org/apache/commons/lang/time/DateUtils.java
index e5138b5..0dd0ded 100644
--- a/src/java/org/apache/commons/lang/time/DateUtils.java
+++ b/src/java/org/apache/commons/lang/time/DateUtils.java
@@ -640,18 +640,18 @@ public class DateUtils {
         int millisecs = val.get(Calendar.MILLISECOND);
         if (!round || millisecs < 500) {
             time = time - millisecs;
-        }
         if (field == Calendar.SECOND) {
             done = true;
+            }
         }
 
         // truncate seconds
         int seconds = val.get(Calendar.SECOND);
         if (!done && (!round || seconds < 30)) {
             time = time - (seconds * 1000L);
-        }
         if (field == Calendar.MINUTE) {
             done = true;
+            }
         }
 
         // truncate minutes

```

## 31 BrutpolPC 

org.apache.commons.lang.time.DateUtils:666

```Java
val.MONTH == minutes
```

Nb Angelic value: 1

Nb analyzed Statement: 24

Execution time: 0:00:47.339000

Grid5000 node: grimoire-4.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/java/org/apache/commons/lang/time/StopWatch.java b/src/java/org/apache/commons/lang/time/StopWatch.java
index 0f0786a..8f39421 100644
--- a/src/java/org/apache/commons/lang/time/StopWatch.java
+++ b/src/java/org/apache/commons/lang/time/StopWatch.java
@@ -115,9 +115,7 @@ public class StopWatch {
         if(this.runningState != STATE_RUNNING && this.runningState != STATE_SUSPENDED) {
             throw new IllegalStateException("Stopwatch is not running. ");
         }
-        if(this.runningState == STATE_RUNNING) {
             stopTime = System.currentTimeMillis();
-        }
         this.runningState = STATE_STOPPED;
     }
 

```

## 32 NopolPC 

org.apache.commons.lang.time.StopWatch:118

```Java
-1 == org.apache.commons.lang.time.StopWatch.this.stopTime
```

Nb Angelic value: 1

Nb analyzed Statement: 9

Execution time: 0:01:30.607000

Grid5000 node: graphene-61.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/java/org/apache/commons/lang/time/StopWatch.java b/src/java/org/apache/commons/lang/time/StopWatch.java
index 0f0786a..8f39421 100644
--- a/src/java/org/apache/commons/lang/time/StopWatch.java
+++ b/src/java/org/apache/commons/lang/time/StopWatch.java
@@ -115,9 +115,7 @@ public class StopWatch {
         if(this.runningState != STATE_RUNNING && this.runningState != STATE_SUSPENDED) {
             throw new IllegalStateException("Stopwatch is not running. ");
         }
-        if(this.runningState == STATE_RUNNING) {
             stopTime = System.currentTimeMillis();
-        }
         this.runningState = STATE_STOPPED;
     }
 

```

## 33 BrutpolPC 

org.apache.commons.lang.time.StopWatch:118

```Java
this.runningState == 1
```

Nb Angelic value: 1

Nb analyzed Statement: 9

Execution time: 0:01:49.844000

Grid5000 node: graphene-52.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/java/org/apache/commons/lang/math/NumberUtils.java b/src/java/org/apache/commons/lang/math/NumberUtils.java
index eb74e72..c0f06a4 100644
--- a/src/java/org/apache/commons/lang/math/NumberUtils.java
+++ b/src/java/org/apache/commons/lang/math/NumberUtils.java
@@ -451,7 +451,8 @@ public class NumberUtils {
                 case 'L' :
                     if (dec == null
                         && exp == null
-                        && (numeric.charAt(0) == '-' && isDigits(numeric.substring(1)) || isDigits(numeric))) {
+                        && isDigits(numeric.substring(1))
+                        && (numeric.charAt(0) == '-' || Character.isDigit(numeric.charAt(0)))) {
                         try {
                             return createLong(numeric);
                         } catch (NumberFormatException nfe) {

```

## 34 NopolPC 

org.apache.commons.lang.math.NumberUtils:464

```Java
-1 < expPos
```

Nb Angelic value: 1

Nb analyzed Statement: 2

Execution time: 0:00:50.968000

Grid5000 node: griffon-4.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/java/org/apache/commons/lang/math/NumberUtils.java b/src/java/org/apache/commons/lang/math/NumberUtils.java
index eb74e72..c0f06a4 100644
--- a/src/java/org/apache/commons/lang/math/NumberUtils.java
+++ b/src/java/org/apache/commons/lang/math/NumberUtils.java
@@ -451,7 +451,8 @@ public class NumberUtils {
                 case 'L' :
                     if (dec == null
                         && exp == null
-                        && (numeric.charAt(0) == '-' && isDigits(numeric.substring(1)) || isDigits(numeric))) {
+                        && isDigits(numeric.substring(1))
+                        && (numeric.charAt(0) == '-' || Character.isDigit(numeric.charAt(0)))) {
                         try {
                             return createLong(numeric);
                         } catch (NumberFormatException nfe) {

```

## 35 NopolC 

org.apache.commons.lang.math.NumberUtils:452

```Java
((dec == null) && (exp == null))
```

Nb Angelic value: 1

Nb analyzed Statement: 8

Execution time: 0:00:55.092000

Grid5000 node: griffon-4.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/java/org/apache/commons/lang/math/NumberUtils.java b/src/java/org/apache/commons/lang/math/NumberUtils.java
index eb74e72..c0f06a4 100644
--- a/src/java/org/apache/commons/lang/math/NumberUtils.java
+++ b/src/java/org/apache/commons/lang/math/NumberUtils.java
@@ -451,7 +451,8 @@ public class NumberUtils {
                 case 'L' :
                     if (dec == null
                         && exp == null
-                        && (numeric.charAt(0) == '-' && isDigits(numeric.substring(1)) || isDigits(numeric))) {
+                        && isDigits(numeric.substring(1))
+                        && (numeric.charAt(0) == '-' || Character.isDigit(numeric.charAt(0)))) {
                         try {
                             return createLong(numeric);
                         } catch (NumberFormatException nfe) {

```

## 36 BrutpolPC 

org.apache.commons.lang.math.NumberUtils:464

```Java
decPos != expPos
```

Nb Angelic value: 2

Nb analyzed Statement: 2

Execution time: 0:00:38.648000

Grid5000 node: grisou-22.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/java/org/apache/commons/lang/math/NumberUtils.java b/src/java/org/apache/commons/lang/math/NumberUtils.java
index eb74e72..c0f06a4 100644
--- a/src/java/org/apache/commons/lang/math/NumberUtils.java
+++ b/src/java/org/apache/commons/lang/math/NumberUtils.java
@@ -451,7 +451,8 @@ public class NumberUtils {
                 case 'L' :
                     if (dec == null
                         && exp == null
-                        && (numeric.charAt(0) == '-' && isDigits(numeric.substring(1)) || isDigits(numeric))) {
+                        && isDigits(numeric.substring(1))
+                        && (numeric.charAt(0) == '-' || Character.isDigit(numeric.charAt(0)))) {
                         try {
                             return createLong(numeric);
                         } catch (NumberFormatException nfe) {

```

## 37 BrutpolC 

org.apache.commons.lang.math.NumberUtils:452

```Java
exp == dec
```

Nb Angelic value: 1

Nb analyzed Statement: 8

Execution time: 0:01:02.053000

Grid5000 node: griffon-60.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/java/org/apache/commons/lang/time/DurationFormatUtils.java b/src/java/org/apache/commons/lang/time/DurationFormatUtils.java
index 3a9d9f6..127b927 100644
--- a/src/java/org/apache/commons/lang/time/DurationFormatUtils.java
+++ b/src/java/org/apache/commons/lang/time/DurationFormatUtils.java
@@ -303,20 +303,25 @@ public class DurationFormatUtils {
             days -= 1;
         }
         while (days < 0) {
-            end.add(Calendar.MONTH, -1);
-            days += end.getActualMaximum(Calendar.DAY_OF_MONTH);
+            days += 31;
 //days += 31; // TODO: Need tests to show this is bad and the new code is good.
 // HEN: It's a tricky subject. Jan 15th to March 10th. If I count days-first it is 
 // 1 month and 26 days, but if I count month-first then it is 1 month and 23 days.
 // Also it's contextual - if asked for no M in the format then I should probably 
 // be doing no calculating here.
             months -= 1;
-            end.add(Calendar.MONTH, 1);
         }
         while (months < 0) {
             months += 12;
             years -= 1;
         }
+        milliseconds -= reduceAndCorrect(start, end, Calendar.MILLISECOND, milliseconds);
+        seconds -= reduceAndCorrect(start, end, Calendar.SECOND, seconds);
+        minutes -= reduceAndCorrect(start, end, Calendar.MINUTE, minutes);
+        hours -= reduceAndCorrect(start, end, Calendar.HOUR_OF_DAY, hours);
+        days -= reduceAndCorrect(start, end, Calendar.DAY_OF_MONTH, days);
+        months -= reduceAndCorrect(start, end, Calendar.MONTH, months);
+        years -= reduceAndCorrect(start, end, Calendar.YEAR, years);
 
         // This next block of code adds in values that 
         // aren't requested. This allows the user to ask for the 
@@ -424,6 +429,18 @@ public class DurationFormatUtils {
         }
         return buffer.toString();
     }
+    static int reduceAndCorrect(Calendar start, Calendar end, int field, int difference) {
+        end.add( field, -1 * difference );
+        int endValue = end.get(field);
+        int startValue = start.get(field);
+        if (endValue < startValue) {
+            int newdiff = startValue - endValue;
+            end.add( field, newdiff );
+            return newdiff;
+        } else {
+            return 0;
+        }
+    }
 
     static final Object y = "y";
     static final Object M = "M";

```

## 38 BrutpolPC 

org.apache.commons.lang.time.DurationFormatUtils:438

```Java
newdiff == 0
```

Nb Angelic value: 1

Nb analyzed Statement: 2

Execution time: 0:00:36.187000

Grid5000 node: grisou-6.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/java/org/apache/commons/lang/time/DurationFormatUtils.java b/src/java/org/apache/commons/lang/time/DurationFormatUtils.java
index 3a9d9f6..127b927 100644
--- a/src/java/org/apache/commons/lang/time/DurationFormatUtils.java
+++ b/src/java/org/apache/commons/lang/time/DurationFormatUtils.java
@@ -303,20 +303,25 @@ public class DurationFormatUtils {
             days -= 1;
         }
         while (days < 0) {
-            end.add(Calendar.MONTH, -1);
-            days += end.getActualMaximum(Calendar.DAY_OF_MONTH);
+            days += 31;
 //days += 31; // TODO: Need tests to show this is bad and the new code is good.
 // HEN: It's a tricky subject. Jan 15th to March 10th. If I count days-first it is 
 // 1 month and 26 days, but if I count month-first then it is 1 month and 23 days.
 // Also it's contextual - if asked for no M in the format then I should probably 
 // be doing no calculating here.
             months -= 1;
-            end.add(Calendar.MONTH, 1);
         }
         while (months < 0) {
             months += 12;
             years -= 1;
         }
+        milliseconds -= reduceAndCorrect(start, end, Calendar.MILLISECOND, milliseconds);
+        seconds -= reduceAndCorrect(start, end, Calendar.SECOND, seconds);
+        minutes -= reduceAndCorrect(start, end, Calendar.MINUTE, minutes);
+        hours -= reduceAndCorrect(start, end, Calendar.HOUR_OF_DAY, hours);
+        days -= reduceAndCorrect(start, end, Calendar.DAY_OF_MONTH, days);
+        months -= reduceAndCorrect(start, end, Calendar.MONTH, months);
+        years -= reduceAndCorrect(start, end, Calendar.YEAR, years);
 
         // This next block of code adds in values that 
         // aren't requested. This allows the user to ask for the 
@@ -424,6 +429,18 @@ public class DurationFormatUtils {
         }
         return buffer.toString();
     }
+    static int reduceAndCorrect(Calendar start, Calendar end, int field, int difference) {
+        end.add( field, -1 * difference );
+        int endValue = end.get(field);
+        int startValue = start.get(field);
+        if (endValue < startValue) {
+            int newdiff = startValue - endValue;
+            end.add( field, newdiff );
+            return newdiff;
+        } else {
+            return 0;
+        }
+    }
 
     static final Object y = "y";
     static final Object M = "M";

```

## 39 BrutpolC 

org.apache.commons.lang.time.DurationFormatUtils:436

```Java
field == 0
```

Nb Angelic value: 1

Nb analyzed Statement: 21

Execution time: 0:00:39.387000

Grid5000 node: grisou-32.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math3/geometry/euclidean/twod/PolygonsSet.java b/src/main/java/org/apache/commons/math3/geometry/euclidean/twod/PolygonsSet.java
index add24ac..c6e7cf1 100644
--- a/src/main/java/org/apache/commons/math3/geometry/euclidean/twod/PolygonsSet.java
+++ b/src/main/java/org/apache/commons/math3/geometry/euclidean/twod/PolygonsSet.java
@@ -133,7 +133,7 @@ public class PolygonsSet extends AbstractRegion<Euclidean2D, Euclidean1D> {
 
         if (v.length == 0) {
             final BSPTree<Euclidean2D> tree = getTree(false);
-            if (tree.getCut() == null && (Boolean) tree.getAttribute()) {
+            if ((Boolean) tree.getAttribute()) {
                 // the instance covers the whole space
                 setSize(Double.POSITIVE_INFINITY);
                 setBarycenter(Vector2D.NaN);

```

## 40 NopolPC 

org.apache.commons.math3.geometry.partitioning.AbstractRegion:214

```Java
((!((boundary.size()) - (plusList.size()) < minusList.size())) && (1 <= plusList.size())) || (minusList.size() == boundary.size() + -1)
```

Nb Angelic value: 1

Nb analyzed Statement: 175

Execution time: 0:20:53.969000

Grid5000 node: griffon-19.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math3/geometry/euclidean/twod/PolygonsSet.java b/src/main/java/org/apache/commons/math3/geometry/euclidean/twod/PolygonsSet.java
index add24ac..c6e7cf1 100644
--- a/src/main/java/org/apache/commons/math3/geometry/euclidean/twod/PolygonsSet.java
+++ b/src/main/java/org/apache/commons/math3/geometry/euclidean/twod/PolygonsSet.java
@@ -133,7 +133,7 @@ public class PolygonsSet extends AbstractRegion<Euclidean2D, Euclidean1D> {
 
         if (v.length == 0) {
             final BSPTree<Euclidean2D> tree = getTree(false);
-            if (tree.getCut() == null && (Boolean) tree.getAttribute()) {
+            if ((Boolean) tree.getAttribute()) {
                 // the instance covers the whole space
                 setSize(Double.POSITIVE_INFINITY);
                 setBarycenter(Vector2D.NaN);

```

## 41 BrutpolC 

org.apache.commons.math3.geometry.euclidean.twod.PolygonsSet:136

```Java
this.isEmpty((org.apache.commons.math3.geometry.partitioning.BSPTree) tree)
```

Nb Angelic value: 1

Nb analyzed Statement: 4

Execution time: 0:14:47.503000

Grid5000 node: griffon-11.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math3/optimization/linear/SimplexTableau.java b/src/main/java/org/apache/commons/math3/optimization/linear/SimplexTableau.java
index 327b2ae..9a6993a 100644
--- a/src/main/java/org/apache/commons/math3/optimization/linear/SimplexTableau.java
+++ b/src/main/java/org/apache/commons/math3/optimization/linear/SimplexTableau.java
@@ -335,7 +335,7 @@ class SimplexTableau implements Serializable {
         // positive cost non-artificial variables
         for (int i = getNumObjectiveFunctions(); i < getArtificialVariableOffset(); i++) {
             final double entry = tableau.getEntry(0, i);
-            if (Precision.compareTo(entry, 0d, epsilon) > 0) {
+            if (Precision.compareTo(entry, 0d, maxUlps) > 0) {
                 columnsToDrop.add(i);
             }
         }

```

## 42 NopolPC 

org.apache.commons.math3.optimization.linear.SimplexTableau:339

```Java
(org.apache.commons.math3.optimization.linear.SimplexTableau.NEGATIVE_VAR_COLUMN_LABEL.length()) != (org.apache.commons.math3.optimization.linear.SimplexTableau.this.numArtificialVariables)
```

Nb Angelic value: 1

Nb analyzed Statement: 4

Execution time: 0:15:11.870000

Grid5000 node: griffon-15.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math3/optimization/linear/SimplexTableau.java b/src/main/java/org/apache/commons/math3/optimization/linear/SimplexTableau.java
index 327b2ae..9a6993a 100644
--- a/src/main/java/org/apache/commons/math3/optimization/linear/SimplexTableau.java
+++ b/src/main/java/org/apache/commons/math3/optimization/linear/SimplexTableau.java
@@ -335,7 +335,7 @@ class SimplexTableau implements Serializable {
         // positive cost non-artificial variables
         for (int i = getNumObjectiveFunctions(); i < getArtificialVariableOffset(); i++) {
             final double entry = tableau.getEntry(0, i);
-            if (Precision.compareTo(entry, 0d, epsilon) > 0) {
+            if (Precision.compareTo(entry, 0d, maxUlps) > 0) {
                 columnsToDrop.add(i);
             }
         }

```

## 43 NopolC 

org.apache.commons.math3.optimization.linear.SimplexTableau:338

```Java
((org.apache.commons.math3.optimization.linear.SimplexTableau.NEGATIVE_VAR_COLUMN_LABEL.length()) != (org.apache.commons.math3.optimization.linear.SimplexTableau.this.numArtificialVariables)) && ((0.0 < entry) || (org.apache.commons.math3.optimization.linear.SimplexTableau.this.constraints.isEmpty()))
```

Nb Angelic value: 1

Nb analyzed Statement: 31

Execution time: 0:14:16.134000

Grid5000 node: griffon-23.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math3/optimization/linear/SimplexTableau.java b/src/main/java/org/apache/commons/math3/optimization/linear/SimplexTableau.java
index 327b2ae..9a6993a 100644
--- a/src/main/java/org/apache/commons/math3/optimization/linear/SimplexTableau.java
+++ b/src/main/java/org/apache/commons/math3/optimization/linear/SimplexTableau.java
@@ -335,7 +335,7 @@ class SimplexTableau implements Serializable {
         // positive cost non-artificial variables
         for (int i = getNumObjectiveFunctions(); i < getArtificialVariableOffset(); i++) {
             final double entry = tableau.getEntry(0, i);
-            if (Precision.compareTo(entry, 0d, epsilon) > 0) {
+            if (Precision.compareTo(entry, 0d, maxUlps) > 0) {
                 columnsToDrop.add(i);
             }
         }

```

## 44 BrutpolPC 

org.apache.commons.math3.optimization.linear.SimplexTableau:339

```Java
this.restrictToNonNegative == this.isOptimal()
```

Nb Angelic value: 1

Nb analyzed Statement: 4

Execution time: 0:13:38.561000

Grid5000 node: graphene-1.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math/analysis/solvers/BracketingNthOrderBrentSolver.java b/src/main/java/org/apache/commons/math/analysis/solvers/BracketingNthOrderBrentSolver.java
index 59dc461..93dd3bb 100644
--- a/src/main/java/org/apache/commons/math/analysis/solvers/BracketingNthOrderBrentSolver.java
+++ b/src/main/java/org/apache/commons/math/analysis/solvers/BracketingNthOrderBrentSolver.java
@@ -232,16 +232,10 @@ public class BracketingNthOrderBrentSolver
             double targetY;
             if (agingA >= MAXIMAL_AGING) {
                 // we keep updating the high bracket, try to compensate this
-                final int p = agingA - MAXIMAL_AGING;
-                final double weightA = (1 << p) - 1;
-                final double weightB = p + 1;
-                targetY = (weightA * yA - weightB * REDUCTION_FACTOR * yB) / (weightA + weightB);
+                targetY = -REDUCTION_FACTOR * yB;
             } else if (agingB >= MAXIMAL_AGING) {
                 // we keep updating the low bracket, try to compensate this
-                final int p = agingB - MAXIMAL_AGING;
-                final double weightA = p + 1;
-                final double weightB = (1 << p) - 1;
-                targetY = (weightB * yB - weightA * REDUCTION_FACTOR * yA) / (weightA + weightB);
+                targetY = -REDUCTION_FACTOR * yA;
             } else {
                 // bracketing is balanced, try to find the root itself
                 targetY = 0;

```

## 45 NopolC 

org.apache.commons.math.analysis.solvers.BracketingNthOrderBrentSolver:260

```Java
(xA <= org.apache.commons.math.analysis.solvers.BracketingNthOrderBrentSolver.REDUCTION_FACTOR) || ((signChangeIndex - start) >= (end - signChangeIndex))
```

Nb Angelic value: 1

Nb analyzed Statement: 46

Execution time: 0:17:57.799000

Grid5000 node: griffon-17.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math/stat/descriptive/moment/Variance.java b/src/main/java/org/apache/commons/math/stat/descriptive/moment/Variance.java
index 1de139f..e5518e3 100644
--- a/src/main/java/org/apache/commons/math/stat/descriptive/moment/Variance.java
+++ b/src/main/java/org/apache/commons/math/stat/descriptive/moment/Variance.java
@@ -517,7 +517,7 @@ public class Variance extends AbstractStorelessUnivariateStatistic implements Se
                 }
 
                 double sumWts = 0;
-                for (int i = begin; i < begin + length; i++) {
+                for (int i = 0; i < weights.length; i++) {
                     sumWts += weights[i];
                 }
 

```

## 46 BrutpolPC 

org.apache.commons.math.stat.descriptive.moment.Variance:524

```Java
mean <= length
```

Nb Angelic value: 2

Nb analyzed Statement: 4

Execution time: 0:12:46.664000

Grid5000 node: griffon-14.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math/stat/descriptive/moment/Variance.java b/src/main/java/org/apache/commons/math/stat/descriptive/moment/Variance.java
index 1de139f..e5518e3 100644
--- a/src/main/java/org/apache/commons/math/stat/descriptive/moment/Variance.java
+++ b/src/main/java/org/apache/commons/math/stat/descriptive/moment/Variance.java
@@ -517,7 +517,7 @@ public class Variance extends AbstractStorelessUnivariateStatistic implements Se
                 }
 
                 double sumWts = 0;
-                for (int i = begin; i < begin + length; i++) {
+                for (int i = 0; i < weights.length; i++) {
                     sumWts += weights[i];
                 }
 

```

## 47 BrutpolC 

org.apache.commons.math.stat.descriptive.moment.Variance:509

```Java
mean <= length
```

Nb Angelic value: 1

Nb analyzed Statement: 15

Execution time: 0:09:35.969000

Grid5000 node: griffon-17.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math/optimization/linear/SimplexTableau.java b/src/main/java/org/apache/commons/math/optimization/linear/SimplexTableau.java
index d96c916..02c22b5 100644
--- a/src/main/java/org/apache/commons/math/optimization/linear/SimplexTableau.java
+++ b/src/main/java/org/apache/commons/math/optimization/linear/SimplexTableau.java
@@ -407,12 +407,10 @@ class SimplexTableau implements Serializable {
             continue;
           }
           Integer basicRow = getBasicRow(colIndex);
-          if (basicRow != null && basicRow == 0) {
               // if the basic row is found to be the objective function row
               // set the coefficient to 0 -> this case handles unconstrained 
               // variables that are still part of the objective function
-              coefficients[i] = 0;
-          } else if (basicRows.contains(basicRow)) {
+          if (basicRows.contains(basicRow)) {
               // if multiple variables can take a given value
               // then we choose the first and set the rest equal to 0
               coefficients[i] = 0 - (restrictToNonNegative ? 0 : mostNegative);

```

## 48 NopolPC 

org.apache.commons.math.optimization.linear.SimplexTableau:419

```Java
(org.apache.commons.math.optimization.linear.SimplexTableau.this.numSlackVariables) != (org.apache.commons.math.optimization.linear.SimplexTableau.this.numArtificialVariables)
```

Nb Angelic value: 9

Nb analyzed Statement: 28

Execution time: 0:47:47.108000

Grid5000 node: griffon-13.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math/optimization/linear/SimplexTableau.java b/src/main/java/org/apache/commons/math/optimization/linear/SimplexTableau.java
index d96c916..02c22b5 100644
--- a/src/main/java/org/apache/commons/math/optimization/linear/SimplexTableau.java
+++ b/src/main/java/org/apache/commons/math/optimization/linear/SimplexTableau.java
@@ -407,12 +407,10 @@ class SimplexTableau implements Serializable {
             continue;
           }
           Integer basicRow = getBasicRow(colIndex);
-          if (basicRow != null && basicRow == 0) {
               // if the basic row is found to be the objective function row
               // set the coefficient to 0 -> this case handles unconstrained 
               // variables that are still part of the objective function
-              coefficients[i] = 0;
-          } else if (basicRows.contains(basicRow)) {
+          if (basicRows.contains(basicRow)) {
               // if multiple variables can take a given value
               // then we choose the first and set the rest equal to 0
               coefficients[i] = 0 - (restrictToNonNegative ? 0 : mostNegative);

```

## 49 BrutpolPC 

org.apache.commons.math.optimization.linear.SimplexTableau:347

```Java
this.numSlackVariables != 0
```

Nb Angelic value: 1

Nb analyzed Statement: 2

Execution time: 0:09:48.640000

Grid5000 node: griffon-17.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math/complex/Complex.java b/src/main/java/org/apache/commons/math/complex/Complex.java
index dd0b00a..d55c25a 100644
--- a/src/main/java/org/apache/commons/math/complex/Complex.java
+++ b/src/main/java/org/apache/commons/math/complex/Complex.java
@@ -257,7 +257,7 @@ public class Complex implements FieldElement<Complex>, Serializable  {
 
         if (divisor.isZero) {
             // return isZero ? NaN : INF; // See MATH-657
-            return NaN;
+            return isZero ? NaN : INF;
         }
 
         if (divisor.isInfinite() && !isInfinite()) {
@@ -294,7 +294,7 @@ public class Complex implements FieldElement<Complex>, Serializable  {
         }
         if (divisor == 0d) {
             // return isZero ? NaN : INF; // See MATH-657
-            return NaN;
+            return isZero ? NaN : INF;
         }
         if (Double.isInfinite(divisor)) {
             return !isInfinite() ? ZERO : NaN;

```

## 50 BrutpolPC 

org.apache.commons.math.complex.Complex:260

```Java
this.real == this.imaginary
```

Nb Angelic value: 1

Nb analyzed Statement: 2

Execution time: 0:06:22.108000

Grid5000 node: griffon-14.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math/linear/OpenMapRealVector.java b/src/main/java/org/apache/commons/math/linear/OpenMapRealVector.java
index 13ebfd2..5db4884 100644
--- a/src/main/java/org/apache/commons/math/linear/OpenMapRealVector.java
+++ b/src/main/java/org/apache/commons/math/linear/OpenMapRealVector.java
@@ -342,7 +342,7 @@ public class OpenMapRealVector extends AbstractRealVector
     public OpenMapRealVector ebeDivide(RealVector v) {
         checkVectorDimensions(v.getDimension());
         OpenMapRealVector res = new OpenMapRealVector(this);
-        Iterator iter = entries.iterator();
+        Iterator iter = res.entries.iterator();
         while (iter.hasNext()) {
             iter.advance();
             res.setEntry(iter.key(), iter.value() / v.getEntry(iter.key()));
@@ -355,7 +355,7 @@ public class OpenMapRealVector extends AbstractRealVector
     public OpenMapRealVector ebeDivide(double[] v) {
         checkVectorDimensions(v.length);
         OpenMapRealVector res = new OpenMapRealVector(this);
-        Iterator iter = entries.iterator();
+        Iterator iter = res.entries.iterator();
         while (iter.hasNext()) {
             iter.advance();
             res.setEntry(iter.key(), iter.value() / v[iter.key()]);
@@ -367,7 +367,7 @@ public class OpenMapRealVector extends AbstractRealVector
     public OpenMapRealVector ebeMultiply(RealVector v) {
         checkVectorDimensions(v.getDimension());
         OpenMapRealVector res = new OpenMapRealVector(this);
-        Iterator iter = entries.iterator();
+        Iterator iter = res.entries.iterator();
         while (iter.hasNext()) {
             iter.advance();
             res.setEntry(iter.key(), iter.value() * v.getEntry(iter.key()));
@@ -380,7 +380,7 @@ public class OpenMapRealVector extends AbstractRealVector
     public OpenMapRealVector ebeMultiply(double[] v) {
         checkVectorDimensions(v.length);
         OpenMapRealVector res = new OpenMapRealVector(this);
-        Iterator iter = entries.iterator();
+        Iterator iter = res.entries.iterator();
         while (iter.hasNext()) {
             iter.advance();
             res.setEntry(iter.key(), iter.value() * v[iter.key()]);

```

## 51 NopolPC 

org.apache.commons.math.linear.OpenMapRealVector:667

```Java
org.apache.commons.math.linear.OpenMapRealVector.this.epsilon == org.apache.commons.math.linear.OpenMapRealVector.DEFAULT_ZERO_TOLERANCE
```

Nb Angelic value: 1

Nb analyzed Statement: 14

Execution time: 0:06:24

Grid5000 node: griffon-11.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math/linear/OpenMapRealVector.java b/src/main/java/org/apache/commons/math/linear/OpenMapRealVector.java
index 13ebfd2..5db4884 100644
--- a/src/main/java/org/apache/commons/math/linear/OpenMapRealVector.java
+++ b/src/main/java/org/apache/commons/math/linear/OpenMapRealVector.java
@@ -342,7 +342,7 @@ public class OpenMapRealVector extends AbstractRealVector
     public OpenMapRealVector ebeDivide(RealVector v) {
         checkVectorDimensions(v.getDimension());
         OpenMapRealVector res = new OpenMapRealVector(this);
-        Iterator iter = entries.iterator();
+        Iterator iter = res.entries.iterator();
         while (iter.hasNext()) {
             iter.advance();
             res.setEntry(iter.key(), iter.value() / v.getEntry(iter.key()));
@@ -355,7 +355,7 @@ public class OpenMapRealVector extends AbstractRealVector
     public OpenMapRealVector ebeDivide(double[] v) {
         checkVectorDimensions(v.length);
         OpenMapRealVector res = new OpenMapRealVector(this);
-        Iterator iter = entries.iterator();
+        Iterator iter = res.entries.iterator();
         while (iter.hasNext()) {
             iter.advance();
             res.setEntry(iter.key(), iter.value() / v[iter.key()]);
@@ -367,7 +367,7 @@ public class OpenMapRealVector extends AbstractRealVector
     public OpenMapRealVector ebeMultiply(RealVector v) {
         checkVectorDimensions(v.getDimension());
         OpenMapRealVector res = new OpenMapRealVector(this);
-        Iterator iter = entries.iterator();
+        Iterator iter = res.entries.iterator();
         while (iter.hasNext()) {
             iter.advance();
             res.setEntry(iter.key(), iter.value() * v.getEntry(iter.key()));
@@ -380,7 +380,7 @@ public class OpenMapRealVector extends AbstractRealVector
     public OpenMapRealVector ebeMultiply(double[] v) {
         checkVectorDimensions(v.length);
         OpenMapRealVector res = new OpenMapRealVector(this);
-        Iterator iter = entries.iterator();
+        Iterator iter = res.entries.iterator();
         while (iter.hasNext()) {
             iter.advance();
             res.setEntry(iter.key(), iter.value() * v[iter.key()]);

```

## 52 NopolC 

org.apache.commons.math.linear.OpenMapRealVector:666

```Java
org.apache.commons.math.linear.OpenMapRealVector.DEFAULT_ZERO_TOLERANCE == org.apache.commons.math.linear.OpenMapRealVector.this.epsilon
```

Nb Angelic value: 1

Nb analyzed Statement: 15

Execution time: 0:04:45.267000

Grid5000 node: grimoire-4.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math/linear/OpenMapRealVector.java b/src/main/java/org/apache/commons/math/linear/OpenMapRealVector.java
index 13ebfd2..5db4884 100644
--- a/src/main/java/org/apache/commons/math/linear/OpenMapRealVector.java
+++ b/src/main/java/org/apache/commons/math/linear/OpenMapRealVector.java
@@ -342,7 +342,7 @@ public class OpenMapRealVector extends AbstractRealVector
     public OpenMapRealVector ebeDivide(RealVector v) {
         checkVectorDimensions(v.getDimension());
         OpenMapRealVector res = new OpenMapRealVector(this);
-        Iterator iter = entries.iterator();
+        Iterator iter = res.entries.iterator();
         while (iter.hasNext()) {
             iter.advance();
             res.setEntry(iter.key(), iter.value() / v.getEntry(iter.key()));
@@ -355,7 +355,7 @@ public class OpenMapRealVector extends AbstractRealVector
     public OpenMapRealVector ebeDivide(double[] v) {
         checkVectorDimensions(v.length);
         OpenMapRealVector res = new OpenMapRealVector(this);
-        Iterator iter = entries.iterator();
+        Iterator iter = res.entries.iterator();
         while (iter.hasNext()) {
             iter.advance();
             res.setEntry(iter.key(), iter.value() / v[iter.key()]);
@@ -367,7 +367,7 @@ public class OpenMapRealVector extends AbstractRealVector
     public OpenMapRealVector ebeMultiply(RealVector v) {
         checkVectorDimensions(v.getDimension());
         OpenMapRealVector res = new OpenMapRealVector(this);
-        Iterator iter = entries.iterator();
+        Iterator iter = res.entries.iterator();
         while (iter.hasNext()) {
             iter.advance();
             res.setEntry(iter.key(), iter.value() * v.getEntry(iter.key()));
@@ -380,7 +380,7 @@ public class OpenMapRealVector extends AbstractRealVector
     public OpenMapRealVector ebeMultiply(double[] v) {
         checkVectorDimensions(v.length);
         OpenMapRealVector res = new OpenMapRealVector(this);
-        Iterator iter = entries.iterator();
+        Iterator iter = res.entries.iterator();
         while (iter.hasNext()) {
             iter.advance();
             res.setEntry(iter.key(), iter.value() * v[iter.key()]);

```

## 53 BrutpolPC 

org.apache.commons.math.linear.OpenMapRealVector:667

```Java
this.DEFAULT_ZERO_TOLERANCE == this.epsilon
```

Nb Angelic value: 1

Nb analyzed Statement: 14

Execution time: 0:06:32.261000

Grid5000 node: griffon-14.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math/linear/OpenMapRealVector.java b/src/main/java/org/apache/commons/math/linear/OpenMapRealVector.java
index 13ebfd2..5db4884 100644
--- a/src/main/java/org/apache/commons/math/linear/OpenMapRealVector.java
+++ b/src/main/java/org/apache/commons/math/linear/OpenMapRealVector.java
@@ -342,7 +342,7 @@ public class OpenMapRealVector extends AbstractRealVector
     public OpenMapRealVector ebeDivide(RealVector v) {
         checkVectorDimensions(v.getDimension());
         OpenMapRealVector res = new OpenMapRealVector(this);
-        Iterator iter = entries.iterator();
+        Iterator iter = res.entries.iterator();
         while (iter.hasNext()) {
             iter.advance();
             res.setEntry(iter.key(), iter.value() / v.getEntry(iter.key()));
@@ -355,7 +355,7 @@ public class OpenMapRealVector extends AbstractRealVector
     public OpenMapRealVector ebeDivide(double[] v) {
         checkVectorDimensions(v.length);
         OpenMapRealVector res = new OpenMapRealVector(this);
-        Iterator iter = entries.iterator();
+        Iterator iter = res.entries.iterator();
         while (iter.hasNext()) {
             iter.advance();
             res.setEntry(iter.key(), iter.value() / v[iter.key()]);
@@ -367,7 +367,7 @@ public class OpenMapRealVector extends AbstractRealVector
     public OpenMapRealVector ebeMultiply(RealVector v) {
         checkVectorDimensions(v.getDimension());
         OpenMapRealVector res = new OpenMapRealVector(this);
-        Iterator iter = entries.iterator();
+        Iterator iter = res.entries.iterator();
         while (iter.hasNext()) {
             iter.advance();
             res.setEntry(iter.key(), iter.value() * v.getEntry(iter.key()));
@@ -380,7 +380,7 @@ public class OpenMapRealVector extends AbstractRealVector
     public OpenMapRealVector ebeMultiply(double[] v) {
         checkVectorDimensions(v.length);
         OpenMapRealVector res = new OpenMapRealVector(this);
-        Iterator iter = entries.iterator();
+        Iterator iter = res.entries.iterator();
         while (iter.hasNext()) {
             iter.advance();
             res.setEntry(iter.key(), iter.value() * v[iter.key()]);

```

## 54 BrutpolC 

org.apache.commons.math.linear.OpenMapRealVector:666

```Java
this.DEFAULT_ZERO_TOLERANCE == this.epsilon
```

Nb Angelic value: 1

Nb analyzed Statement: 15

Execution time: 0:06:29.968000

Grid5000 node: griffon-11.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math/analysis/solvers/BaseSecantSolver.java b/src/main/java/org/apache/commons/math/analysis/solvers/BaseSecantSolver.java
index c781a90..e47d982 100644
--- a/src/main/java/org/apache/commons/math/analysis/solvers/BaseSecantSolver.java
+++ b/src/main/java/org/apache/commons/math/analysis/solvers/BaseSecantSolver.java
@@ -184,6 +184,10 @@ public abstract class BaseSecantSolver
                     break;
                 case REGULA_FALSI:
                     // Nothing.
+                    if (x == x1) {
+                        x0 = 0.5 * (x0 + x1 - FastMath.max(rtol * FastMath.abs(x1), atol));
+                        f0 = computeObjectiveValue(x0);
+                    }
                     break;
                 default:
                     // Should never happen.

```

## 55 NopolPC 

org.apache.commons.math.analysis.solvers.BaseSecantSolver:187

```Java
!((x == 1) || ((1 < x) && (inverted)))
```

Nb Angelic value: 1

Nb analyzed Statement: 4

Execution time: 0:23:15.420000

Grid5000 node: griffon-14.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math/analysis/solvers/BaseSecantSolver.java b/src/main/java/org/apache/commons/math/analysis/solvers/BaseSecantSolver.java
index c781a90..e47d982 100644
--- a/src/main/java/org/apache/commons/math/analysis/solvers/BaseSecantSolver.java
+++ b/src/main/java/org/apache/commons/math/analysis/solvers/BaseSecantSolver.java
@@ -184,6 +184,10 @@ public abstract class BaseSecantSolver
                     break;
                 case REGULA_FALSI:
                     // Nothing.
+                    if (x == x1) {
+                        x0 = 0.5 * (x0 + x1 - FastMath.max(rtol * FastMath.abs(x1), atol));
+                        f0 = computeObjectiveValue(x0);
+                    }
                     break;
                 default:
                     // Should never happen.

```

## 56 NopolC 

org.apache.commons.math.analysis.solvers.BaseSecantSolver:187

```Java
f0 < -1
```

Nb Angelic value: 1

Nb analyzed Statement: 4

Execution time: 0:14:13.334000

Grid5000 node: griffon-23.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math/analysis/solvers/BaseSecantSolver.java b/src/main/java/org/apache/commons/math/analysis/solvers/BaseSecantSolver.java
index c781a90..e47d982 100644
--- a/src/main/java/org/apache/commons/math/analysis/solvers/BaseSecantSolver.java
+++ b/src/main/java/org/apache/commons/math/analysis/solvers/BaseSecantSolver.java
@@ -184,6 +184,10 @@ public abstract class BaseSecantSolver
                     break;
                 case REGULA_FALSI:
                     // Nothing.
+                    if (x == x1) {
+                        x0 = 0.5 * (x0 + x1 - FastMath.max(rtol * FastMath.abs(x1), atol));
+                        f0 = computeObjectiveValue(x0);
+                    }
                     break;
                 default:
                     // Should never happen.

```

## 57 BrutpolPC 

org.apache.commons.math.analysis.solvers.BaseSecantSolver:188

```Java
this.isBracketing((double) x0, (double) f0)
```

Nb Angelic value: 1

Nb analyzed Statement: 2

Execution time: 0:06:47.347000

Grid5000 node: griffon-17.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math/analysis/solvers/BaseSecantSolver.java b/src/main/java/org/apache/commons/math/analysis/solvers/BaseSecantSolver.java
index c781a90..e47d982 100644
--- a/src/main/java/org/apache/commons/math/analysis/solvers/BaseSecantSolver.java
+++ b/src/main/java/org/apache/commons/math/analysis/solvers/BaseSecantSolver.java
@@ -184,6 +184,10 @@ public abstract class BaseSecantSolver
                     break;
                 case REGULA_FALSI:
                     // Nothing.
+                    if (x == x1) {
+                        x0 = 0.5 * (x0 + x1 - FastMath.max(rtol * FastMath.abs(x1), atol));
+                        f0 = computeObjectiveValue(x0);
+                    }
                     break;
                 default:
                     // Should never happen.

```

## 58 BrutpolC 

org.apache.commons.math.analysis.solvers.BaseSecantSolver:187

```Java
this.isBracketing((double) x0, (double) f0)
```

Nb Angelic value: 1

Nb analyzed Statement: 4

Execution time: 0:08:10.415000

Grid5000 node: griffon-15.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math/stat/clustering/KMeansPlusPlusClusterer.java b/src/main/java/org/apache/commons/math/stat/clustering/KMeansPlusPlusClusterer.java
index e09bbc3..b73ac9d 100644
--- a/src/main/java/org/apache/commons/math/stat/clustering/KMeansPlusPlusClusterer.java
+++ b/src/main/java/org/apache/commons/math/stat/clustering/KMeansPlusPlusClusterer.java
@@ -172,7 +172,7 @@ public class KMeansPlusPlusClusterer<T extends Clusterable<T>> {
         while (resultSet.size() < k) {
             // For each data point x, compute D(x), the distance between x and
             // the nearest center that has already been chosen.
-            double sum = 0;
+            int sum = 0;
             for (int i = 0; i < pointSet.size(); i++) {
                 final T p = pointSet.get(i);
                 final Cluster<T> nearest = getNearestCluster(resultSet, p);

```

## 59 NopolPC 

org.apache.commons.math.stat.clustering.EuclideanIntegerPoint:86

```Java
(1) != (org.apache.commons.math.stat.clustering.EuclideanIntegerPoint.this.point.length)
```

Nb Angelic value: 1

Nb analyzed Statement: 16

Execution time: 0:15:14.789000

Grid5000 node: griffon-23.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math/stat/clustering/KMeansPlusPlusClusterer.java b/src/main/java/org/apache/commons/math/stat/clustering/KMeansPlusPlusClusterer.java
index e09bbc3..b73ac9d 100644
--- a/src/main/java/org/apache/commons/math/stat/clustering/KMeansPlusPlusClusterer.java
+++ b/src/main/java/org/apache/commons/math/stat/clustering/KMeansPlusPlusClusterer.java
@@ -172,7 +172,7 @@ public class KMeansPlusPlusClusterer<T extends Clusterable<T>> {
         while (resultSet.size() < k) {
             // For each data point x, compute D(x), the distance between x and
             // the nearest center that has already been chosen.
-            double sum = 0;
+            int sum = 0;
             for (int i = 0; i < pointSet.size(); i++) {
                 final T p = pointSet.get(i);
                 final Cluster<T> nearest = getNearestCluster(resultSet, p);

```

## 60 NopolC 

org.apache.commons.math.stat.clustering.EuclideanIntegerPoint:85

```Java
((point[i]) != (otherPoint[i])) && (1 < org.apache.commons.math.stat.clustering.EuclideanIntegerPoint.this.point.length)
```

Nb Angelic value: 1

Nb analyzed Statement: 45

Execution time: 0:10:20.971000

Grid5000 node: griffon-23.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math/stat/clustering/KMeansPlusPlusClusterer.java b/src/main/java/org/apache/commons/math/stat/clustering/KMeansPlusPlusClusterer.java
index e09bbc3..b73ac9d 100644
--- a/src/main/java/org/apache/commons/math/stat/clustering/KMeansPlusPlusClusterer.java
+++ b/src/main/java/org/apache/commons/math/stat/clustering/KMeansPlusPlusClusterer.java
@@ -172,7 +172,7 @@ public class KMeansPlusPlusClusterer<T extends Clusterable<T>> {
         while (resultSet.size() < k) {
             // For each data point x, compute D(x), the distance between x and
             // the nearest center that has already been chosen.
-            double sum = 0;
+            int sum = 0;
             for (int i = 0; i < pointSet.size(); i++) {
                 final T p = pointSet.get(i);
                 final Cluster<T> nearest = getNearestCluster(resultSet, p);

```

## 61 BrutpolPC 

org.apache.commons.math.stat.clustering.EuclideanIntegerPoint:86

```Java
otherPoint.length != 1
```

Nb Angelic value: 1

Nb analyzed Statement: 16

Execution time: 0:14:57.770000

Grid5000 node: graphene-1.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math/optimization/fitting/GaussianFitter.java b/src/main/java/org/apache/commons/math/optimization/fitting/GaussianFitter.java
index e1b54f4..ae7ac39 100644
--- a/src/main/java/org/apache/commons/math/optimization/fitting/GaussianFitter.java
+++ b/src/main/java/org/apache/commons/math/optimization/fitting/GaussianFitter.java
@@ -118,7 +118,7 @@ public class GaussianFitter extends CurveFitter {
      */
     public double[] fit() {
         final double[] guess = (new ParameterGuesser(getObservations())).guess();
-        return fit(guess);
+        return fit(new Gaussian.Parametric(), guess);
     }
 
     /**

```

## 62 NopolPC 

org.apache.commons.math.optimization.general.LevenbergMarquardtOptimizer:620

```Java
org.apache.commons.math.optimization.general.LevenbergMarquardtOptimizer.this.orthoTolerance < gNorm
```

Nb Angelic value: 2

Nb analyzed Statement: 79

Execution time: 0:07:26.837000

Grid5000 node: griffon-15.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math/optimization/fitting/GaussianFitter.java b/src/main/java/org/apache/commons/math/optimization/fitting/GaussianFitter.java
index e1b54f4..ae7ac39 100644
--- a/src/main/java/org/apache/commons/math/optimization/fitting/GaussianFitter.java
+++ b/src/main/java/org/apache/commons/math/optimization/fitting/GaussianFitter.java
@@ -118,7 +118,7 @@ public class GaussianFitter extends CurveFitter {
      */
     public double[] fit() {
         final double[] guess = (new ParameterGuesser(getObservations())).guess();
-        return fit(guess);
+        return fit(new Gaussian.Parametric(), guess);
     }
 
     /**

```

## 63 NopolC 

org.apache.commons.math.optimization.general.LevenbergMarquardtOptimizer:613

```Java
(fp > 0) || ((!(org.apache.commons.math.optimization.general.LevenbergMarquardtOptimizer.this.orthoTolerance < gNorm)) && (org.apache.commons.math.optimization.general.LevenbergMarquardtOptimizer.this.permutation!=null))
```

Nb Angelic value: 1

Nb analyzed Statement: 80

Execution time: 0:12:50.822000

Grid5000 node: griffon-13.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math/optimization/fitting/GaussianFitter.java b/src/main/java/org/apache/commons/math/optimization/fitting/GaussianFitter.java
index e1b54f4..ae7ac39 100644
--- a/src/main/java/org/apache/commons/math/optimization/fitting/GaussianFitter.java
+++ b/src/main/java/org/apache/commons/math/optimization/fitting/GaussianFitter.java
@@ -118,7 +118,7 @@ public class GaussianFitter extends CurveFitter {
      */
     public double[] fit() {
         final double[] guess = (new ParameterGuesser(getObservations())).guess();
-        return fit(guess);
+        return fit(new Gaussian.Parametric(), guess);
     }
 
     /**

```

## 64 BrutpolPC 

org.apache.commons.math.optimization.general.LevenbergMarquardtOptimizer:620

```Java
this.costRelativeTolerance != this.orthoTolerance
```

Nb Angelic value: 1

Nb analyzed Statement: 79

Execution time: 0:07:15.266000

Grid5000 node: griffon-12.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math/stat/correlation/PearsonsCorrelation.java b/src/main/java/org/apache/commons/math/stat/correlation/PearsonsCorrelation.java
index dc83314..83b4c41 100644
--- a/src/main/java/org/apache/commons/math/stat/correlation/PearsonsCorrelation.java
+++ b/src/main/java/org/apache/commons/math/stat/correlation/PearsonsCorrelation.java
@@ -168,7 +168,7 @@ public class PearsonsCorrelation {
                 } else {
                     double r = correlationMatrix.getEntry(i, j);
                     double t = Math.abs(r * Math.sqrt((nObs - 2)/(1 - r * r)));
-                    out[i][j] = 2 * tDistribution.cumulativeProbability(-t);
+                    out[i][j] = 2 * (1 - tDistribution.cumulativeProbability(t));
                 }
             }
         }

```

## 65 NopolPC 

org.apache.commons.math.stat.correlation.PearsonsCorrelation:193

```Java
(1) - (nVars) < -1
```

Nb Angelic value: 1

Nb analyzed Statement: 15

Execution time: 0:01:20.935000

Grid5000 node: griffon-14.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math/stat/correlation/PearsonsCorrelation.java b/src/main/java/org/apache/commons/math/stat/correlation/PearsonsCorrelation.java
index dc83314..83b4c41 100644
--- a/src/main/java/org/apache/commons/math/stat/correlation/PearsonsCorrelation.java
+++ b/src/main/java/org/apache/commons/math/stat/correlation/PearsonsCorrelation.java
@@ -168,7 +168,7 @@ public class PearsonsCorrelation {
                 } else {
                     double r = correlationMatrix.getEntry(i, j);
                     double t = Math.abs(r * Math.sqrt((nObs - 2)/(1 - r * r)));
-                    out[i][j] = 2 * tDistribution.cumulativeProbability(-t);
+                    out[i][j] = 2 * (1 - tDistribution.cumulativeProbability(t));
                 }
             }
         }

```

## 66 BrutpolPC 

org.apache.commons.math.stat.correlation.PearsonsCorrelation:193

```Java
outMatrix.getDeterminant() != matrix.getEntry((int) j, (int) 0)
```

Nb Angelic value: 1

Nb analyzed Statement: 15

Execution time: 0:02:04.573000

Grid5000 node: griffon-7.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math/ode/nonstiff/EmbeddedRungeKuttaIntegrator.java b/src/main/java/org/apache/commons/math/ode/nonstiff/EmbeddedRungeKuttaIntegrator.java
index e03be9e..0840ac1 100644
--- a/src/main/java/org/apache/commons/math/ode/nonstiff/EmbeddedRungeKuttaIntegrator.java
+++ b/src/main/java/org/apache/commons/math/ode/nonstiff/EmbeddedRungeKuttaIntegrator.java
@@ -297,10 +297,6 @@ public abstract class EmbeddedRungeKuttaIntegrator
                   // it is so small (much probably exactly 0 due to limited accuracy)
                   // that the code above would fail handling it.
                   // So we set up an artificial 0 size step by copying states
-                  interpolator.storeTime(stepStart);
-                  System.arraycopy(y, 0, yTmp, 0, y0.length);
-                  hNew     = 0;
-                  stepSize = 0;
                   loop     = false;
               } else {
                   // reject the step to match exactly the next switch time
diff --git a/src/main/java/org/apache/commons/math/ode/nonstiff/RungeKuttaIntegrator.java b/src/main/java/org/apache/commons/math/ode/nonstiff/RungeKuttaIntegrator.java
index b61b0b1..255b1f4 100644
--- a/src/main/java/org/apache/commons/math/ode/nonstiff/RungeKuttaIntegrator.java
+++ b/src/main/java/org/apache/commons/math/ode/nonstiff/RungeKuttaIntegrator.java
@@ -177,9 +177,6 @@ public abstract class RungeKuttaIntegrator extends AbstractIntegrator {
                 // it is so small (much probably exactly 0 due to limited accuracy)
                 // that the code above would fail handling it.
                 // So we set up an artificial 0 size step by copying states
-                interpolator.storeTime(stepStart);
-                System.arraycopy(y, 0, yTmp, 0, y0.length);
-                stepSize = 0;
                 loop     = false;
             } else {
                 // reject the step to match exactly the next switch time

```

## 67 NopolC 

org.apache.commons.math.analysis.solvers.BrentSolver:334

```Java
(org.apache.commons.math.analysis.solvers.BrentSolver.DEFAULT_ABSOLUTE_ACCURACY < tolerance) || (!(delta <= 0.0))
```

Nb Angelic value: 2

Nb analyzed Statement: 102

Execution time: 0:45:32.650000

Grid5000 node: graphene-1.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math/ode/nonstiff/EmbeddedRungeKuttaIntegrator.java b/src/main/java/org/apache/commons/math/ode/nonstiff/EmbeddedRungeKuttaIntegrator.java
index e03be9e..0840ac1 100644
--- a/src/main/java/org/apache/commons/math/ode/nonstiff/EmbeddedRungeKuttaIntegrator.java
+++ b/src/main/java/org/apache/commons/math/ode/nonstiff/EmbeddedRungeKuttaIntegrator.java
@@ -297,10 +297,6 @@ public abstract class EmbeddedRungeKuttaIntegrator
                   // it is so small (much probably exactly 0 due to limited accuracy)
                   // that the code above would fail handling it.
                   // So we set up an artificial 0 size step by copying states
-                  interpolator.storeTime(stepStart);
-                  System.arraycopy(y, 0, yTmp, 0, y0.length);
-                  hNew     = 0;
-                  stepSize = 0;
                   loop     = false;
               } else {
                   // reject the step to match exactly the next switch time
diff --git a/src/main/java/org/apache/commons/math/ode/nonstiff/RungeKuttaIntegrator.java b/src/main/java/org/apache/commons/math/ode/nonstiff/RungeKuttaIntegrator.java
index b61b0b1..255b1f4 100644
--- a/src/main/java/org/apache/commons/math/ode/nonstiff/RungeKuttaIntegrator.java
+++ b/src/main/java/org/apache/commons/math/ode/nonstiff/RungeKuttaIntegrator.java
@@ -177,9 +177,6 @@ public abstract class RungeKuttaIntegrator extends AbstractIntegrator {
                 // it is so small (much probably exactly 0 due to limited accuracy)
                 // that the code above would fail handling it.
                 // So we set up an artificial 0 size step by copying states
-                interpolator.storeTime(stepStart);
-                System.arraycopy(y, 0, yTmp, 0, y0.length);
-                stepSize = 0;
                 loop     = false;
             } else {
                 // reject the step to match exactly the next switch time

```

## 68 BrutpolPC 

org.apache.commons.math.ode.events.EventState:260

```Java
t1 != this.pendingEventTime
```

Nb Angelic value: 4

Nb analyzed Statement: 55

Execution time: 0:48:19.433000

Grid5000 node: griffon-11.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math/analysis/solvers/BrentSolver.java b/src/main/java/org/apache/commons/math/analysis/solvers/BrentSolver.java
index e0cb427..8142b5e 100644
--- a/src/main/java/org/apache/commons/math/analysis/solvers/BrentSolver.java
+++ b/src/main/java/org/apache/commons/math/analysis/solvers/BrentSolver.java
@@ -133,10 +133,6 @@ public class BrentSolver extends UnivariateRealSolverImpl {
             return solve(f, initial, yInitial, max, yMax, initial, yInitial);
         }
 
-        if (yMin * yMax > 0) {
-            throw MathRuntimeException.createIllegalArgumentException(
-                  NON_BRACKETING_MESSAGE, min, max, yMin, yMax);
-        }
 
         // full Brent algorithm starting with provided initial guess
         return solve(f, min, yMin, max, yMax, initial, yInitial);

```

## 69 NopolC 

org.apache.commons.math.analysis.solvers.UnivariateRealSolverImpl:225

```Java
((!((1) != (lower))) && (org.apache.commons.math.analysis.solvers.UnivariateRealSolverImpl.this.result < org.apache.commons.math.analysis.solvers.UnivariateRealSolverImpl.this.defaultFunctionValueAccuracy)) || (initial <= lower)
```

Nb Angelic value: 1

Nb analyzed Statement: 17

Execution time: 0:01:01.743000

Grid5000 node: griffon-15.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math/ode/events/EventState.java b/src/main/java/org/apache/commons/math/ode/events/EventState.java
index ff09646..5006065 100644
--- a/src/main/java/org/apache/commons/math/ode/events/EventState.java
+++ b/src/main/java/org/apache/commons/math/ode/events/EventState.java
@@ -188,7 +188,6 @@ public class EventState {
                 if (g0Positive ^ (gb >= 0)) {
                     // there is a sign change: an event is expected during this step
 
-                    if (ga * gb > 0) {
                         // this is a corner case:
                         // - there was an event near ta,
                         // - there is another event between ta and tb
@@ -196,17 +195,7 @@ public class EventState {
                         // this implies that the real sign of ga is the same as gb, so we need to slightly
                         // shift ta to make sure ga and gb get opposite signs and the solver won't complain
                         // about bracketing
-                        final double epsilon = (forward ? 0.25 : -0.25) * convergence;
-                        for (int k = 0; (k < 4) && (ga * gb > 0); ++k) {
-                            ta += epsilon;
-                            interpolator.setInterpolatedTime(ta);
-                            ga = handler.g(ta, interpolator.getInterpolatedState());
-                        }
-                        if (ga * gb > 0) {
                             // this should never happen
-                            throw MathRuntimeException.createInternalError(null);
-                        }
-                    }
                          
                     // variation direction, with respect to the integration direction
                     increasing = gb >= ga;

```

## 70 BrutpolPC 

org.apache.commons.math.ode.events.EventState:216

```Java
t1 <= this.maxIterationCount
```

Nb Angelic value: 2

Nb analyzed Statement: 34

Execution time: 0:02:13.957000

Grid5000 node: griffon-13.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math/linear/EigenDecompositionImpl.java b/src/main/java/org/apache/commons/math/linear/EigenDecompositionImpl.java
index 9d1b797..3fc328d 100644
--- a/src/main/java/org/apache/commons/math/linear/EigenDecompositionImpl.java
+++ b/src/main/java/org/apache/commons/math/linear/EigenDecompositionImpl.java
@@ -1132,7 +1132,7 @@ public class EigenDecompositionImpl implements EigenDecomposition {
     private boolean flipIfWarranted(final int n, final int step) {
         if (1.5 * work[pingPong] < work[4 * (n - 1) + pingPong]) {
             // flip array
-            int j = 4 * (n - 1);
+            int j = 4 * n - 1;
             for (int i = 0; i < j; i += 4) {
                 for (int k = 0; k < 4; k += step) {
                     final double tmp = work[i + k];

```

## 71 NopolPC 

org.apache.commons.math.linear.EigenDecompositionImpl:1139

```Java
org.apache.commons.math.linear.EigenDecompositionImpl.this.cachedD!=null
```

Nb Angelic value: 1

Nb analyzed Statement: 14

Execution time: 0:01:21.552000

Grid5000 node: griffon-11.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math/linear/EigenDecompositionImpl.java b/src/main/java/org/apache/commons/math/linear/EigenDecompositionImpl.java
index 9d1b797..3fc328d 100644
--- a/src/main/java/org/apache/commons/math/linear/EigenDecompositionImpl.java
+++ b/src/main/java/org/apache/commons/math/linear/EigenDecompositionImpl.java
@@ -1132,7 +1132,7 @@ public class EigenDecompositionImpl implements EigenDecomposition {
     private boolean flipIfWarranted(final int n, final int step) {
         if (1.5 * work[pingPong] < work[4 * (n - 1) + pingPong]) {
             // flip array
-            int j = 4 * (n - 1);
+            int j = 4 * n - 1;
             for (int i = 0; i < j; i += 4) {
                 for (int k = 0; k < 4; k += step) {
                     final double tmp = work[i + k];

```

## 72 BrutpolPC 

org.apache.commons.math.linear.EigenDecompositionImpl:1137

```Java
step == j
```

Nb Angelic value: 2

Nb analyzed Statement: 16

Execution time: 0:40:01.198000

Grid5000 node: griffon-8.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math/linear/EigenDecompositionImpl.java b/src/main/java/org/apache/commons/math/linear/EigenDecompositionImpl.java
index 3fc328d..2d0d72f 100644
--- a/src/main/java/org/apache/commons/math/linear/EigenDecompositionImpl.java
+++ b/src/main/java/org/apache/commons/math/linear/EigenDecompositionImpl.java
@@ -600,7 +600,6 @@ public class EigenDecompositionImpl implements EigenDecomposition {
         lowerSpectra = Math.min(lowerSpectra, lower);
         final double upper = dCurrent + eCurrent;
         work[upperStart + m - 1] = upper;
-        upperSpectra = Math.max(upperSpectra, upper);
         minPivot = MathUtils.SAFE_MIN * Math.max(1.0, eMax * eMax);
 
     }
@@ -903,8 +902,8 @@ public class EigenDecompositionImpl implements EigenDecomposition {
                     diagMax    = work[4 * i0];
                     offDiagMin = work[4 * i0 + 2];
                     double previousEMin = work[4 * i0 + 3];
-                    for (int i = 4 * i0; i < 4 * n0 - 16; i += 4) {
-                        if ((work[i + 3] <= TOLERANCE_2 * work[i]) ||
+                    for (int i = 4 * i0; i < 4 * n0 - 11; i += 4) {
+                        if ((work[i + 3] <= TOLERANCE_2 * work[i]) &&
                             (work[i + 2] <= TOLERANCE_2 * sigma)) {
                             // insert a split
                             work[i + 2]  = -sigma;
@@ -1541,7 +1540,7 @@ public class EigenDecompositionImpl implements EigenDecomposition {
                 double a2 = (work[np - 8] / b2) * (1 + work[np - 4] / b1);
 
                 // approximate contribution to norm squared from i < nn-2.
-                if (end - start > 3) {
+                if (end - start > 2) {
                     b2 = work[nn - 13] / work[nn - 15];
                     a2 = a2 + b2;
                     for (int i4 = nn - 17; i4 >= 4 * start + 2 + pingPong; i4 -= 4) {

```

## 73 NopolPC 

org.apache.commons.math.linear.EigenDecompositionImpl:1544

```Java
(org.apache.commons.math.linear.EigenDecompositionImpl.this.eMin) != (b2)
```

Nb Angelic value: 1

Nb analyzed Statement: 5

Execution time: 0:01:10.301000

Grid5000 node: griffon-11.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math/linear/EigenDecompositionImpl.java b/src/main/java/org/apache/commons/math/linear/EigenDecompositionImpl.java
index 3fc328d..2d0d72f 100644
--- a/src/main/java/org/apache/commons/math/linear/EigenDecompositionImpl.java
+++ b/src/main/java/org/apache/commons/math/linear/EigenDecompositionImpl.java
@@ -600,7 +600,6 @@ public class EigenDecompositionImpl implements EigenDecomposition {
         lowerSpectra = Math.min(lowerSpectra, lower);
         final double upper = dCurrent + eCurrent;
         work[upperStart + m - 1] = upper;
-        upperSpectra = Math.max(upperSpectra, upper);
         minPivot = MathUtils.SAFE_MIN * Math.max(1.0, eMax * eMax);
 
     }
@@ -903,8 +902,8 @@ public class EigenDecompositionImpl implements EigenDecomposition {
                     diagMax    = work[4 * i0];
                     offDiagMin = work[4 * i0 + 2];
                     double previousEMin = work[4 * i0 + 3];
-                    for (int i = 4 * i0; i < 4 * n0 - 16; i += 4) {
-                        if ((work[i + 3] <= TOLERANCE_2 * work[i]) ||
+                    for (int i = 4 * i0; i < 4 * n0 - 11; i += 4) {
+                        if ((work[i + 3] <= TOLERANCE_2 * work[i]) &&
                             (work[i + 2] <= TOLERANCE_2 * sigma)) {
                             // insert a split
                             work[i + 2]  = -sigma;
@@ -1541,7 +1540,7 @@ public class EigenDecompositionImpl implements EigenDecomposition {
                 double a2 = (work[np - 8] / b2) * (1 + work[np - 4] / b1);
 
                 // approximate contribution to norm squared from i < nn-2.
-                if (end - start > 3) {
+                if (end - start > 2) {
                     b2 = work[nn - 13] / work[nn - 15];
                     a2 = a2 + b2;
                     for (int i4 = nn - 17; i4 >= 4 * start + 2 + pingPong; i4 -= 4) {

```

## 74 NopolC 

org.apache.commons.math.linear.EigenDecompositionImpl:1543

```Java
org.apache.commons.math.linear.EigenDecompositionImpl.this.lowerSpectra <= org.apache.commons.math.linear.EigenDecompositionImpl.this.imagEigenvalues.length
```

Nb Angelic value: 1

Nb analyzed Statement: 6

Execution time: 0:00:59.760000

Grid5000 node: graphene-1.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math/optimization/linear/SimplexSolver.java b/src/main/java/org/apache/commons/math/optimization/linear/SimplexSolver.java
index 60a1b3a..8309d7b 100644
--- a/src/main/java/org/apache/commons/math/optimization/linear/SimplexSolver.java
+++ b/src/main/java/org/apache/commons/math/optimization/linear/SimplexSolver.java
@@ -79,7 +79,7 @@ public class SimplexSolver extends AbstractLinearOptimizer {
         for (int i = tableau.getNumObjectiveFunctions(); i < tableau.getHeight(); i++) {
             final double rhs = tableau.getEntry(i, tableau.getWidth() - 1);
             final double entry = tableau.getEntry(i, col);
-            if (MathUtils.compareTo(entry, 0, epsilon) > 0) {
+            if (MathUtils.compareTo(entry, 0, epsilon) >= 0) {
                 final double ratio = rhs / entry;
                 if (ratio < minRatio) {
                     minRatio = ratio;

```

## 75 NopolPC 

org.apache.commons.math.optimization.linear.SimplexSolver:63

```Java
(0) != (minValue)
```

Nb Angelic value: 2

Nb analyzed Statement: 55

Execution time: 0:06:14.987000

Grid5000 node: griffon-11.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math/optimization/linear/SimplexSolver.java b/src/main/java/org/apache/commons/math/optimization/linear/SimplexSolver.java
index 60a1b3a..8309d7b 100644
--- a/src/main/java/org/apache/commons/math/optimization/linear/SimplexSolver.java
+++ b/src/main/java/org/apache/commons/math/optimization/linear/SimplexSolver.java
@@ -79,7 +79,7 @@ public class SimplexSolver extends AbstractLinearOptimizer {
         for (int i = tableau.getNumObjectiveFunctions(); i < tableau.getHeight(); i++) {
             final double rhs = tableau.getEntry(i, tableau.getWidth() - 1);
             final double entry = tableau.getEntry(i, col);
-            if (MathUtils.compareTo(entry, 0, epsilon) > 0) {
+            if (MathUtils.compareTo(entry, 0, epsilon) >= 0) {
                 final double ratio = rhs / entry;
                 if (ratio < minRatio) {
                     minRatio = ratio;

```

## 76 BrutpolPC 

org.apache.commons.math.optimization.linear.SimplexSolver:63

```Java
this.isOptimal((org.apache.commons.math.optimization.linear.SimplexTableau) tableau)
```

Nb Angelic value: 2

Nb analyzed Statement: 55

Execution time: 0:18:22.060000

Grid5000 node: griffon-60.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/java/org/apache/commons/math/analysis/solvers/UnivariateRealSolverUtils.java b/src/java/org/apache/commons/math/analysis/solvers/UnivariateRealSolverUtils.java
index e6398f6..bf3e4bf 100644
--- a/src/java/org/apache/commons/math/analysis/solvers/UnivariateRealSolverUtils.java
+++ b/src/java/org/apache/commons/math/analysis/solvers/UnivariateRealSolverUtils.java
@@ -195,7 +195,7 @@ public class UnivariateRealSolverUtils {
         } while ((fa * fb > 0.0) && (numIterations < maximumIterations) && 
                 ((a > lowerBound) || (b < upperBound)));
    
-        if (fa * fb > 0.0 ) {
+        if (fa * fb >= 0.0 ) {
             throw new ConvergenceException(
                       "number of iterations={0}, maximum iterations={1}, " +
                       "initial={2}, lower bound={3}, upper bound={4}, final a value={5}, " +

```

## 77 NopolPC 

org.apache.commons.math.analysis.solvers.UnivariateRealSolverUtils:198

```Java
(fa * fb) < 0.0
```

Nb Angelic value: 1

Nb analyzed Statement: 37

Execution time: 0:01:03.611000

Grid5000 node: griffon-17.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/java/org/apache/commons/math/analysis/solvers/UnivariateRealSolverUtils.java b/src/java/org/apache/commons/math/analysis/solvers/UnivariateRealSolverUtils.java
index e6398f6..bf3e4bf 100644
--- a/src/java/org/apache/commons/math/analysis/solvers/UnivariateRealSolverUtils.java
+++ b/src/java/org/apache/commons/math/analysis/solvers/UnivariateRealSolverUtils.java
@@ -195,7 +195,7 @@ public class UnivariateRealSolverUtils {
         } while ((fa * fb > 0.0) && (numIterations < maximumIterations) && 
                 ((a > lowerBound) || (b < upperBound)));
    
-        if (fa * fb > 0.0 ) {
+        if (fa * fb >= 0.0 ) {
             throw new ConvergenceException(
                       "number of iterations={0}, maximum iterations={1}, " +
                       "initial={2}, lower bound={3}, upper bound={4}, final a value={5}, " +

```

## 78 NopolC 

org.apache.commons.math.analysis.solvers.UnivariateRealSolverUtils:198

```Java
(fa * fb) == b
```

Nb Angelic value: 1

Nb analyzed Statement: 37

Execution time: 0:00:55.635000

Grid5000 node: graphene-1.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/java/org/apache/commons/math/analysis/solvers/UnivariateRealSolverUtils.java b/src/java/org/apache/commons/math/analysis/solvers/UnivariateRealSolverUtils.java
index e6398f6..bf3e4bf 100644
--- a/src/java/org/apache/commons/math/analysis/solvers/UnivariateRealSolverUtils.java
+++ b/src/java/org/apache/commons/math/analysis/solvers/UnivariateRealSolverUtils.java
@@ -195,7 +195,7 @@ public class UnivariateRealSolverUtils {
         } while ((fa * fb > 0.0) && (numIterations < maximumIterations) && 
                 ((a > lowerBound) || (b < upperBound)));
    
-        if (fa * fb > 0.0 ) {
+        if (fa * fb >= 0.0 ) {
             throw new ConvergenceException(
                       "number of iterations={0}, maximum iterations={1}, " +
                       "initial={2}, lower bound={3}, upper bound={4}, final a value={5}, " +

```

## 79 BrutpolC 

org.apache.commons.math.analysis.solvers.UnivariateRealSolverUtils:198

```Java
fa == 0.0
```

Nb Angelic value: 1

Nb analyzed Statement: 37

Execution time: 0:02:41.921000

Grid5000 node: griffon-13.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/java/org/apache/commons/math/optimization/linear/SimplexTableau.java b/src/java/org/apache/commons/math/optimization/linear/SimplexTableau.java
index b0d114e..0ab790c 100644
--- a/src/java/org/apache/commons/math/optimization/linear/SimplexTableau.java
+++ b/src/java/org/apache/commons/math/optimization/linear/SimplexTableau.java
@@ -272,10 +272,12 @@ class SimplexTableau implements Serializable {
     private Integer getBasicRow(final int col) {
         Integer row = null;
         for (int i = getNumObjectiveFunctions(); i < getHeight(); i++) {
-            if (MathUtils.equals(getEntry(i, col), 1.0, epsilon) && (row == null)) {
+            if (!MathUtils.equals(getEntry(i, col), 0.0, epsilon)) {
+                if (row == null) {
                 row = i;
-            } else if (!MathUtils.equals(getEntry(i, col), 0.0, epsilon)) {
+                } else {
                 return null;
+                }
             }
         }
         return row;

```

## 80 NopolPC 

org.apache.commons.math.optimization.linear.SimplexTableau:161

```Java
(1) != (org.apache.commons.math.optimization.linear.SimplexTableau.this.numSlackVariables)
```

Nb Angelic value: 2

Nb analyzed Statement: 75

Execution time: 0:06:29.761000

Grid5000 node: griffon-14.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/java/org/apache/commons/math/optimization/linear/SimplexTableau.java b/src/java/org/apache/commons/math/optimization/linear/SimplexTableau.java
index b0d114e..0ab790c 100644
--- a/src/java/org/apache/commons/math/optimization/linear/SimplexTableau.java
+++ b/src/java/org/apache/commons/math/optimization/linear/SimplexTableau.java
@@ -272,10 +272,12 @@ class SimplexTableau implements Serializable {
     private Integer getBasicRow(final int col) {
         Integer row = null;
         for (int i = getNumObjectiveFunctions(); i < getHeight(); i++) {
-            if (MathUtils.equals(getEntry(i, col), 1.0, epsilon) && (row == null)) {
+            if (!MathUtils.equals(getEntry(i, col), 0.0, epsilon)) {
+                if (row == null) {
                 row = i;
-            } else if (!MathUtils.equals(getEntry(i, col), 0.0, epsilon)) {
+                } else {
                 return null;
+                }
             }
         }
         return row;

```

## 81 NopolC 

org.apache.commons.math.optimization.linear.SimplexTableau:160

```Java
(!(restrictToNonNegative)) && ((org.apache.commons.math.optimization.linear.SimplexTableau.this.numSlackVariables) != (1))
```

Nb Angelic value: 1

Nb analyzed Statement: 128

Execution time: 0:01:06.111000

Grid5000 node: graphene-1.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/java/org/apache/commons/math/optimization/linear/SimplexTableau.java b/src/java/org/apache/commons/math/optimization/linear/SimplexTableau.java
index b0d114e..0ab790c 100644
--- a/src/java/org/apache/commons/math/optimization/linear/SimplexTableau.java
+++ b/src/java/org/apache/commons/math/optimization/linear/SimplexTableau.java
@@ -272,10 +272,12 @@ class SimplexTableau implements Serializable {
     private Integer getBasicRow(final int col) {
         Integer row = null;
         for (int i = getNumObjectiveFunctions(); i < getHeight(); i++) {
-            if (MathUtils.equals(getEntry(i, col), 1.0, epsilon) && (row == null)) {
+            if (!MathUtils.equals(getEntry(i, col), 0.0, epsilon)) {
+                if (row == null) {
                 row = i;
-            } else if (!MathUtils.equals(getEntry(i, col), 0.0, epsilon)) {
+                } else {
                 return null;
+                }
             }
         }
         return row;

```

## 82 BrutpolPC 

org.apache.commons.math.optimization.linear.SimplexTableau:261

```Java
coefficients.getDimension() != 1
```

Nb Angelic value: 2

Nb analyzed Statement: 72

Execution time: 0:06:39.116000

Grid5000 node: griffon-14.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/java/org/apache/commons/math/optimization/linear/SimplexTableau.java b/src/java/org/apache/commons/math/optimization/linear/SimplexTableau.java
index a6d7419..3bcb17f 100644
--- a/src/java/org/apache/commons/math/optimization/linear/SimplexTableau.java
+++ b/src/java/org/apache/commons/math/optimization/linear/SimplexTableau.java
@@ -326,18 +326,19 @@ class SimplexTableau implements Serializable {
         Integer basicRow =
             getBasicRow(getNumObjectiveFunctions() + getOriginalNumDecisionVariables());
         double mostNegative = basicRow == null ? 0 : getEntry(basicRow, getRhsOffset());
-        Set<Integer> basicRows = new HashSet<Integer>();
         for (int i = 0; i < coefficients.length; i++) {
             basicRow = getBasicRow(getNumObjectiveFunctions() + i);
-            if (basicRows.contains(basicRow)) {
                 // if multiple variables can take a given value 
                 // then we choose the first and set the rest equal to 0
-                coefficients[i] = 0;
-            } else {
-                basicRows.add(basicRow);
                 coefficients[i] =
                     (basicRow == null ? 0 : getEntry(basicRow, getRhsOffset())) -
                     (restrictToNonNegative ? 0 : mostNegative);
+            if (basicRow != null) {
+                for (int j = getNumObjectiveFunctions(); j < getNumObjectiveFunctions() + i; j++) {
+                    if (tableau.getEntry(basicRow, j) == 1) {
+                         coefficients[i] = 0;
+                    }
+                }
             }
         }
         return new RealPointValuePair(coefficients, f.getValue(coefficients));

```

## 83 NopolPC 

org.apache.commons.math.optimization.linear.SimplexTableau:339

```Java
(org.apache.commons.math.optimization.linear.SimplexTableau.this.numDecisionVariables) != (org.apache.commons.math.optimization.linear.SimplexTableau.this.constraints.size())
```

Nb Angelic value: 1

Nb analyzed Statement: 1

Execution time: 0:00:48.706000

Grid5000 node: griffon-14.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/java/org/apache/commons/math/optimization/linear/SimplexTableau.java b/src/java/org/apache/commons/math/optimization/linear/SimplexTableau.java
index a6d7419..3bcb17f 100644
--- a/src/java/org/apache/commons/math/optimization/linear/SimplexTableau.java
+++ b/src/java/org/apache/commons/math/optimization/linear/SimplexTableau.java
@@ -326,18 +326,19 @@ class SimplexTableau implements Serializable {
         Integer basicRow =
             getBasicRow(getNumObjectiveFunctions() + getOriginalNumDecisionVariables());
         double mostNegative = basicRow == null ? 0 : getEntry(basicRow, getRhsOffset());
-        Set<Integer> basicRows = new HashSet<Integer>();
         for (int i = 0; i < coefficients.length; i++) {
             basicRow = getBasicRow(getNumObjectiveFunctions() + i);
-            if (basicRows.contains(basicRow)) {
                 // if multiple variables can take a given value 
                 // then we choose the first and set the rest equal to 0
-                coefficients[i] = 0;
-            } else {
-                basicRows.add(basicRow);
                 coefficients[i] =
                     (basicRow == null ? 0 : getEntry(basicRow, getRhsOffset())) -
                     (restrictToNonNegative ? 0 : mostNegative);
+            if (basicRow != null) {
+                for (int j = getNumObjectiveFunctions(); j < getNumObjectiveFunctions() + i; j++) {
+                    if (tableau.getEntry(basicRow, j) == 1) {
+                         coefficients[i] = 0;
+                    }
+                }
             }
         }
         return new RealPointValuePair(coefficients, f.getValue(coefficients));

```

## 84 BrutpolPC 

org.apache.commons.math.optimization.linear.SimplexTableau:339

```Java
basicRow == this.getBasicRow((int) i)
```

Nb Angelic value: 1

Nb analyzed Statement: 1

Execution time: 0:01:09.830000

Grid5000 node: griffon-59.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/java/org/apache/commons/math/complex/Complex.java b/src/java/org/apache/commons/math/complex/Complex.java
index 8b622cb..3571567 100644
--- a/src/java/org/apache/commons/math/complex/Complex.java
+++ b/src/java/org/apache/commons/math/complex/Complex.java
@@ -255,7 +255,7 @@ public class Complex implements Serializable  {
                 if (rhs.isNaN()) {
                     ret = this.isNaN();
                 } else {
-                    ret = (real == rhs.real) && (imaginary == rhs.imaginary); 
+                    ret = (Double.doubleToRawLongBits(real) == Double.doubleToRawLongBits(rhs.getReal())) && (Double.doubleToRawLongBits(imaginary) == Double.doubleToRawLongBits(rhs.getImaginary())); 
                 }
             } catch (ClassCastException ex) {
                 // ignore exception

```

## 85 BrutpolC 

org.apache.commons.math.complex.Complex:248

```Java
this.real == (this.abs() - 1)
```

Nb Angelic value: 1

Nb analyzed Statement: 100

Execution time: 0:28:37.011000

Grid5000 node: griffon-13.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/java/org/apache/commons/math/analysis/BrentSolver.java b/src/java/org/apache/commons/math/analysis/BrentSolver.java
index 57f64a9..766d87e 100644
--- a/src/java/org/apache/commons/math/analysis/BrentSolver.java
+++ b/src/java/org/apache/commons/math/analysis/BrentSolver.java
@@ -135,31 +135,17 @@ public class BrentSolver extends UnivariateRealSolverImpl {
         
         // Verify bracketing
         double sign = yMin * yMax;
-        if (sign > 0) {
+        if (sign >= 0) {
             // check if either value is close to a zero
-            if (Math.abs(yMin) <= functionValueAccuracy) {
-                setResult(min, 0);
-                ret = min;
-            } else if (Math.abs(yMax) <= functionValueAccuracy) {
-                setResult(max, 0);
-                ret = max;
-            } else {
                 // neither value is close to zero and min and max do not bracket root.
                 throw new IllegalArgumentException
                 ("Function values at endpoints do not have different signs." +
                         "  Endpoints: [" + min + "," + max + "]" + 
                         "  Values: [" + yMin + "," + yMax + "]");
-            }
-        } else if (sign < 0){
+        } else {
             // solve using only the first endpoint as initial guess
             ret = solve(min, yMin, max, yMax, min, yMin);
-        } else {
             // either min or max is a root
-            if (yMin == 0.0) {
-                ret = min;
-            } else {
-                ret = max;
-            }
         }
 
         return ret;

```

## 86 BrutpolC 

org.apache.commons.math.analysis.BrentSolver:138

```Java
this.relativeAccuracy <= sign
```

Nb Angelic value: 1

Nb analyzed Statement: 87

Execution time: 0:00:58.731000

Grid5000 node: griffon-19.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/java/org/apache/commons/math/complex/ComplexFormat.java b/src/java/org/apache/commons/math/complex/ComplexFormat.java
index 0757d9b..b404bc4 100644
--- a/src/java/org/apache/commons/math/complex/ComplexFormat.java
+++ b/src/java/org/apache/commons/math/complex/ComplexFormat.java
@@ -374,8 +374,7 @@ public class ComplexFormat extends Format implements Serializable {
         int n = getImaginaryCharacter().length();
         startIndex = pos.getIndex();
         int endIndex = startIndex + n;
-        if ((startIndex >= source.length()) ||
-            (endIndex > source.length()) ||
+        if (
             source.substring(startIndex, endIndex).compareTo(
             getImaginaryCharacter()) != 0) {
             // set index back to initial, error index should be the start index

```

## 87 BrutpolC 

org.apache.commons.math.complex.ComplexFormat:377

```Java
startIndex == source.length()
```

Nb Angelic value: 1

Nb analyzed Statement: 71

Execution time: 0:00:49.228000

Grid5000 node: griffon-15.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/java/org/apache/commons/math/special/Gamma.java b/src/java/org/apache/commons/math/special/Gamma.java
index ba2c4db..8c565cb 100644
--- a/src/java/org/apache/commons/math/special/Gamma.java
+++ b/src/java/org/apache/commons/math/special/Gamma.java
@@ -34,7 +34,7 @@ public class Gamma implements Serializable {
     private static final long serialVersionUID = -6587513359895466954L;
 
     /** Maximum allowed numerical error. */
-    private static final double DEFAULT_EPSILON = 10e-15;
+    private static final double DEFAULT_EPSILON = 10e-9;
 
     /** Lanczos coefficients */
     private static double[] lanczos =

```

## 88 NopolC 

org.apache.commons.math.special.Gamma:162

```Java
((1 == a) || ((a >= 1.0) && (x > a))) && (org.apache.commons.math.special.Gamma.HALF_LOG_2_PI < x)
```

Nb Angelic value: 1

Nb analyzed Statement: 88

Execution time: 0:01:29.001000

Grid5000 node: graphene-1.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/java/org/apache/commons/math/stat/regression/SimpleRegression.java b/src/java/org/apache/commons/math/stat/regression/SimpleRegression.java
index d9fa592..dcf512b 100644
--- a/src/java/org/apache/commons/math/stat/regression/SimpleRegression.java
+++ b/src/java/org/apache/commons/math/stat/regression/SimpleRegression.java
@@ -261,7 +261,7 @@ public class SimpleRegression implements Serializable {
      * @return sum of squared errors associated with the regression model
      */
     public double getSumSquaredErrors() {
-        return Math.max(0d, sumYY - sumXY * sumXY / sumXX);
+        return sumYY - sumXY * sumXY / sumXX;
     }
 
     /**

```

## 89 NopolPC 

org.apache.commons.math.stat.regression.SimpleRegression:108

```Java
(org.apache.commons.math.stat.regression.SimpleRegression.this.xbar <= 1) || ((y < x) && (y < x))
```

Nb Angelic value: 4

Nb analyzed Statement: 80

Execution time: 0:06:42.082000

Grid5000 node: griffon-12.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/java/org/apache/commons/math/stat/regression/SimpleRegression.java b/src/java/org/apache/commons/math/stat/regression/SimpleRegression.java
index d9fa592..dcf512b 100644
--- a/src/java/org/apache/commons/math/stat/regression/SimpleRegression.java
+++ b/src/java/org/apache/commons/math/stat/regression/SimpleRegression.java
@@ -261,7 +261,7 @@ public class SimpleRegression implements Serializable {
      * @return sum of squared errors associated with the regression model
      */
     public double getSumSquaredErrors() {
-        return Math.max(0d, sumYY - sumXY * sumXY / sumXX);
+        return sumYY - sumXY * sumXY / sumXX;
     }
 
     /**

```

## 90 BrutpolPC 

org.apache.commons.math.stat.regression.SimpleRegression:116

```Java
dy <= this.getRegressionSumSquares((double) x)
```

Nb Angelic value: 1

Nb analyzed Statement: 73

Execution time: 0:00:44.038000

Grid5000 node: griffon-15.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/main/java/org/joda/time/Partial.java b/src/main/java/org/joda/time/Partial.java
index 8e8e603..0d4edf4 100644
--- a/src/main/java/org/joda/time/Partial.java
+++ b/src/main/java/org/joda/time/Partial.java
@@ -461,7 +461,7 @@ public final class Partial
             System.arraycopy(iValues, i, newValues, i + 1, newValues.length - i - 1);
             // use public constructor to ensure full validation
             // this isn't overly efficient, but is safe
-            Partial newPartial = new Partial(newTypes, newValues, iChronology);
+            Partial newPartial = new Partial(iChronology, newTypes, newValues);
             iChronology.validate(newPartial, newValues);
             return newPartial;
         }

```

## 91 NopolPC 

org.joda.time.Partial:459

```Java
((1) != ((value) - (org.joda.time.Partial.this.iTypes.length + newValues.length))) || (index == org.joda.time.Partial.this.iValues.length)
```

Nb Angelic value: 1

Nb analyzed Statement: 23

Execution time: 0:00:54.097000

Grid5000 node: grisou-29.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/main/java/org/joda/time/Partial.java b/src/main/java/org/joda/time/Partial.java
index 8e8e603..0d4edf4 100644
--- a/src/main/java/org/joda/time/Partial.java
+++ b/src/main/java/org/joda/time/Partial.java
@@ -461,7 +461,7 @@ public final class Partial
             System.arraycopy(iValues, i, newValues, i + 1, newValues.length - i - 1);
             // use public constructor to ensure full validation
             // this isn't overly efficient, but is safe
-            Partial newPartial = new Partial(newTypes, newValues, iChronology);
+            Partial newPartial = new Partial(iChronology, newTypes, newValues);
             iChronology.validate(newPartial, newValues);
             return newPartial;
         }

```

## 92 NopolC 

org.joda.time.Partial:427

```Java
!((value <= (org.joda.time.Partial.this.iValues.length) - (-1)) || ((org.joda.time.Partial.this.iValues.length) - (-1) + (org.joda.time.Partial.this.iValues.length) - (-1) < value))
```

Nb Angelic value: 1

Nb analyzed Statement: 34

Execution time: 0:01:00.527000

Grid5000 node: grisou-6.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/main/java/org/joda/time/Partial.java b/src/main/java/org/joda/time/Partial.java
index 8e8e603..0d4edf4 100644
--- a/src/main/java/org/joda/time/Partial.java
+++ b/src/main/java/org/joda/time/Partial.java
@@ -461,7 +461,7 @@ public final class Partial
             System.arraycopy(iValues, i, newValues, i + 1, newValues.length - i - 1);
             // use public constructor to ensure full validation
             // this isn't overly efficient, but is safe
-            Partial newPartial = new Partial(newTypes, newValues, iChronology);
+            Partial newPartial = new Partial(iChronology, newTypes, newValues);
             iChronology.validate(newPartial, newValues);
             return newPartial;
         }

```

## 93 BrutpolPC 

org.joda.time.Partial:459

```Java
fieldType != fieldType.clockhourOfDay()
```

Nb Angelic value: 1

Nb analyzed Statement: 23

Execution time: 0:01:01.253000

Grid5000 node: grisou-12.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/main/java/org/joda/time/format/DateTimeFormatter.java b/src/main/java/org/joda/time/format/DateTimeFormatter.java
index 913d036..447674a 100644
--- a/src/main/java/org/joda/time/format/DateTimeFormatter.java
+++ b/src/main/java/org/joda/time/format/DateTimeFormatter.java
@@ -705,9 +705,9 @@ public class DateTimeFormatter {
         
         long instantMillis = instant.getMillis();
         Chronology chrono = instant.getChronology();
-        int defaultYear = DateTimeUtils.getChronology(chrono).year().get(instantMillis);
         long instantLocal = instantMillis + chrono.getZone().getOffset(instantMillis);
         chrono = selectChronology(chrono);
+        int defaultYear = chrono.year().get(instantLocal);
         
         DateTimeParserBucket bucket = new DateTimeParserBucket(
             instantLocal, chrono, iLocale, iPivotYear, defaultYear);

```

## 94 BrutpolPC 

org.joda.time.format.DateTimeParserBucket:359

```Java
resetFields
```

Nb Angelic value: 1

Nb analyzed Statement: 19

Execution time: 0:00:56.806000

Grid5000 node: grisou-3.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/main/java/org/joda/time/tz/ZoneInfoCompiler.java b/src/main/java/org/joda/time/tz/ZoneInfoCompiler.java
index 64da5ea..6efe071 100644
--- a/src/main/java/org/joda/time/tz/ZoneInfoCompiler.java
+++ b/src/main/java/org/joda/time/tz/ZoneInfoCompiler.java
@@ -65,11 +65,10 @@ public class ZoneInfoCompiler {
 
     static Chronology cLenientISO;
 
-    static ThreadLocal<Boolean> cVerbose = new ThreadLocal<Boolean>() {
-        protected Boolean initialValue() {
-            return Boolean.FALSE;
-        }
-    };
+    static ThreadLocal<Boolean> cVerbose = new ThreadLocal<Boolean>();
+    static {
+        cVerbose.set(Boolean.FALSE);
+    }
 
     /**
      * Gets a flag indicating that verbose logging is required.

```

## 95 NopolPC 

org.joda.time.tz.DateTimeZoneBuilder:372

```Java
(!(outputID)) || (1 < ruleSetCount)
```

Nb Angelic value: 3

Nb analyzed Statement: 25

Execution time: 0:03:39.533000

Grid5000 node: grisou-14.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/main/java/org/joda/time/tz/ZoneInfoCompiler.java b/src/main/java/org/joda/time/tz/ZoneInfoCompiler.java
index 64da5ea..6efe071 100644
--- a/src/main/java/org/joda/time/tz/ZoneInfoCompiler.java
+++ b/src/main/java/org/joda/time/tz/ZoneInfoCompiler.java
@@ -65,11 +65,10 @@ public class ZoneInfoCompiler {
 
     static Chronology cLenientISO;
 
-    static ThreadLocal<Boolean> cVerbose = new ThreadLocal<Boolean>() {
-        protected Boolean initialValue() {
-            return Boolean.FALSE;
-        }
-    };
+    static ThreadLocal<Boolean> cVerbose = new ThreadLocal<Boolean>();
+    static {
+        cVerbose.set(Boolean.FALSE);
+    }
 
     /**
      * Gets a flag indicating that verbose logging is required.

```

## 96 NopolC 

org.joda.time.tz.DateTimeZoneBuilder:371

```Java
((tailZone == null) && (i == (ruleSetCount - 1))) && ((1 <= (ruleSetCount - 1)) || (!(outputID)))
```

Nb Angelic value: 2

Nb analyzed Statement: 26

Execution time: 0:07:36.278000

Grid5000 node: grisou-34.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/main/java/org/joda/time/tz/ZoneInfoCompiler.java b/src/main/java/org/joda/time/tz/ZoneInfoCompiler.java
index 64da5ea..6efe071 100644
--- a/src/main/java/org/joda/time/tz/ZoneInfoCompiler.java
+++ b/src/main/java/org/joda/time/tz/ZoneInfoCompiler.java
@@ -65,11 +65,10 @@ public class ZoneInfoCompiler {
 
     static Chronology cLenientISO;
 
-    static ThreadLocal<Boolean> cVerbose = new ThreadLocal<Boolean>() {
-        protected Boolean initialValue() {
-            return Boolean.FALSE;
-        }
-    };
+    static ThreadLocal<Boolean> cVerbose = new ThreadLocal<Boolean>();
+    static {
+        cVerbose.set(Boolean.FALSE);
+    }
 
     /**
      * Gets a flag indicating that verbose logging is required.

```

## 97 BrutpolPC 

org.joda.time.tz.DateTimeZoneBuilder:372

```Java
transitions.contains((java.lang.Object) this)
```

Nb Angelic value: 1

Nb analyzed Statement: 25

Execution time: 0:01:12.541000

Grid5000 node: grisou-24.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/main/java/org/joda/time/chrono/BasicMonthOfYearDateTimeField.java b/src/main/java/org/joda/time/chrono/BasicMonthOfYearDateTimeField.java
index 2892a2d..afca44e 100644
--- a/src/main/java/org/joda/time/chrono/BasicMonthOfYearDateTimeField.java
+++ b/src/main/java/org/joda/time/chrono/BasicMonthOfYearDateTimeField.java
@@ -206,12 +206,7 @@ class BasicMonthOfYearDateTimeField extends ImpreciseDateTimeField {
         if (valueToAdd == 0) {
             return values;
         }
-        if (partial.size() > 0 && partial.getFieldType(0).equals(DateTimeFieldType.monthOfYear()) && fieldIndex == 0) {
             // month is largest field and being added to, such as month-day
-            int curMonth0 = partial.getValue(0) - 1;
-            int newMonth = ((curMonth0 + (valueToAdd % 12) + 12) % 12) + 1;
-            return set(partial, 0, values, newMonth);
-        }
         if (DateTimeUtils.isContiguous(partial)) {
             long instant = 0L;
             for (int i = 0, isize = partial.size(); i < isize; i++) {

```

## 98 BrutpolC 

org.joda.time.chrono.BasicMonthOfYearDateTimeField:210

```Java
partial.getValue((int) 1) <= this.iMax
```

Nb Angelic value: 1

Nb analyzed Statement: 7

Execution time: 0:00:51.981000

Grid5000 node: grisou-48.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/main/java/org/joda/time/format/DateTimeFormatter.java b/src/main/java/org/joda/time/format/DateTimeFormatter.java
index baa276a..a4b1612 100644
--- a/src/main/java/org/joda/time/format/DateTimeFormatter.java
+++ b/src/main/java/org/joda/time/format/DateTimeFormatter.java
@@ -706,7 +706,7 @@ public class DateTimeFormatter {
         chrono = selectChronology(chrono);
         
         DateTimeParserBucket bucket = new DateTimeParserBucket(
-            instantLocal, chrono, iLocale, iPivotYear, chrono.year().get(instantLocal));
+            instantLocal, chrono, iLocale, iPivotYear, iDefaultYear);
         int newPos = parser.parseInto(bucket, text, position);
         instant.setMillis(bucket.computeMillis(false, text));
         if (iOffsetParsed && bucket.getOffsetInteger() != null) {

```

## 99 NopolPC 

org.joda.time.format.DateTimeParserBucket:358

```Java
resetFields
```

Nb Angelic value: 1

Nb analyzed Statement: 15

Execution time: 0:00:50.026000

Grid5000 node: grisou-21.nancy.grid5000.fr


## Human Patch 

```Java
diff --git a/src/main/java/org/joda/time/format/DateTimeFormatter.java b/src/main/java/org/joda/time/format/DateTimeFormatter.java
index baa276a..a4b1612 100644
--- a/src/main/java/org/joda/time/format/DateTimeFormatter.java
+++ b/src/main/java/org/joda/time/format/DateTimeFormatter.java
@@ -706,7 +706,7 @@ public class DateTimeFormatter {
         chrono = selectChronology(chrono);
         
         DateTimeParserBucket bucket = new DateTimeParserBucket(
-            instantLocal, chrono, iLocale, iPivotYear, chrono.year().get(instantLocal));
+            instantLocal, chrono, iLocale, iPivotYear, iDefaultYear);
         int newPos = parser.parseInto(bucket, text, position);
         instant.setMillis(bucket.computeMillis(false, text));
         if (iOffsetParsed && bucket.getOffsetInteger() != null) {

```

## 100 BrutpolPC 

org.joda.time.format.DateTimeParserBucket:358

```Java
resetFields
```

Nb Angelic value: 1

Nb analyzed Statement: 15

Execution time: 0:00:57.377000

Grid5000 node: grisou-37.nancy.grid5000.fr

