# All fixed bugs

| #   | BugId             | DynaMoth  | jGenProg  | jKali     | Nopol     | Total |
----- | ----------------- | --------- | --------- | --------- | --------- | ------
   1 | [C1](#chart-1)    | Yes       |           |           |           |      1
   4 | [C4](#chart-4)    | Yes       |           |           |           |      1
   5 | [C5](#chart-5)    | Yes       |           |           |           |      1
   6 | [C6](#chart-6)    | Yes       |           |           |           |      1
   9 | [C9](#chart-9)    | Yes       |           |           |           |      1
  13 | [C13](#chart-13)  | Yes       |           |           |           |      1
  15 | [C15](#chart-15)  | Yes       |           |           |           |      1
  17 | [C17](#chart-17)  | Yes       |           |           |           |      1
  21 | [C21](#chart-21)  | Yes       |           |           |           |      1
  25 | [C25](#chart-25)  | Yes       |           |           |           |      1
  26 | [C26](#chart-26)  | Yes       |           |           |           |      1
  27 | [C1](#closure-1)  | Yes       |           |           |           |      1
  28 | [C2](#closure-2)  | Yes       |           |           | T_OUT     |      1
  29 | [C3](#closure-3)  | Yes       |           |           |           |      1
  30 | [C4](#closure-4)  | Yes       |           |           |           |      1
  31 | [C5](#closure-5)  | Yes       |           |           |           |      1
  32 | [C6](#closure-6)  | Yes       |           |           |           |      1
  33 | [C7](#closure-7)  | Yes       |           |           | Yes       |      2
  34 | [C8](#closure-8)  | Yes       |           |           |           |      1
  35 | [C9](#closure-9)  | Yes       |           |           |           |      1
  36 | [C10](#closure-10) | Yes       |           |           |           |      1
  37 | [C11](#closure-11) | Yes       |           |           |           |      1
  38 | [C12](#closure-12) | Yes       |           |           |           |      1
  39 | [C13](#closure-13) | Yes       |           |           |           |      1
  40 | [C14](#closure-14) | Yes       |           |           | Yes       |      2
  41 | [C15](#closure-15) | Yes       |           |           | Yes       |      2
  42 | [C16](#closure-16) | Yes       |           |           |           |      1
  43 | [C17](#closure-17) | Yes       |           |           |           |      1
  44 | [C18](#closure-18) | Yes       |           |           |           |      1
  45 | [C19](#closure-19) | Yes       |           |           |           |      1
  46 | [C20](#closure-20) | Yes       |           |           |           |      1
  47 | [C21](#closure-21) | Yes       |           |           |           |      1
  48 | [C22](#closure-22) | Yes       |           |           |           |      1
  49 | [C23](#closure-23) | Yes       |           |           |           |      1
  50 | [C24](#closure-24) | Yes       |           |           |           |      1
  51 | [C25](#closure-25) | Yes       |           |           |           |      1
  52 | [C26](#closure-26) | Yes       |           |           |           |      1
  53 | [C27](#closure-27) | Yes       |           |           |           |      1
  54 | [C28](#closure-28) | Yes       |           |           |           |      1
  55 | [C29](#closure-29) | Yes       |           |           |           |      1
  56 | [C30](#closure-30) | Yes       |           |           |           |      1
  57 | [C31](#closure-31) | Yes       |           |           |           |      1
  58 | [C32](#closure-32) | Yes       |           |           |           |      1
  59 | [C33](#closure-33) | Yes       |           |           |           |      1
  60 | [C34](#closure-34) | Yes       |           |           |           |      1
  61 | [C35](#closure-35) | Yes       |           |           |           |      1
  62 | [C36](#closure-36) | Yes       |           |           | Yes       |      2
  63 | [C37](#closure-37) | Yes       |           |           |           |      1
  64 | [C38](#closure-38) | Yes       |           |           | Yes       |      2
  65 | [C39](#closure-39) | Yes       |           |           |           |      1
  66 | [C40](#closure-40) | Yes       |           |           |           |      1
  67 | [C41](#closure-41) | Yes       |           |           |           |      1
  68 | [C42](#closure-42) | Yes       |           |           |           |      1
  69 | [C43](#closure-43) | Yes       |           |           |           |      1
  70 | [C44](#closure-44) | Yes       |           |           |           |      1
  71 | [C45](#closure-45) | Yes       |           |           |           |      1
  72 | [C46](#closure-46) | Yes       |           |           |           |      1
  73 | [C47](#closure-47) | Yes       |           |           |           |      1
  74 | [C48](#closure-48) | Yes       |           |           |           |      1
  75 | [C49](#closure-49) | Yes       |           |           |           |      1
  76 | [C50](#closure-50) | Yes       |           |           |           |      1
  77 | [C51](#closure-51) | Yes       |           |           |           |      1
  78 | [C52](#closure-52) | Yes       |           |           |           |      1
  79 | [C53](#closure-53) | Yes       |           |           |           |      1
  80 | [C54](#closure-54) | Yes       |           |           |           |      1
  81 | [C55](#closure-55) | Yes       |           |           |           |      1
  82 | [C56](#closure-56) | Yes       |           |           |           |      1
  83 | [C57](#closure-57) | Yes       |           |           |           |      1
  84 | [C58](#closure-58) | Yes       |           |           |           |      1
  85 | [C59](#closure-59) | Yes       |           |           |           |      1
  86 | [C60](#closure-60) | Yes       |           |           |           |      1
  87 | [C61](#closure-61) | Yes       |           |           |           |      1
  88 | [C62](#closure-62) | Yes       |           |           |           |      1
  89 | [C63](#closure-63) | Yes       |           |           |           |      1
  90 | [C64](#closure-64) | Yes       |           |           |           |      1
  91 | [C65](#closure-65) | Yes       |           |           |           |      1
  92 | [C66](#closure-66) | Yes       |           |           |           |      1
  93 | [C67](#closure-67) | Yes       |           |           |           |      1
  94 | [C68](#closure-68) | Yes       |           |           |           |      1
  95 | [C69](#closure-69) | Yes       |           |           |           |      1
  96 | [C70](#closure-70) | Yes       |           |           |           |      1
  97 | [C71](#closure-71) | Yes       |           |           |           |      1
  98 | [C72](#closure-72) | Yes       |           |           |           |      1
  99 | [C73](#closure-73) | Yes       |           |           |           |      1
 101 | [C75](#closure-75) | Yes       |           |           |           |      1
 102 | [C76](#closure-76) | Yes       |           |           |           |      1
 103 | [C77](#closure-77) | Yes       |           |           |           |      1
 104 | [C78](#closure-78) | Yes       |           |           |           |      1
 135 | [C109](#closure-109) | Yes       |           |           |           |      1
 136 | [C110](#closure-110) | Yes       |           |           |           |      1
 137 | [C111](#closure-111) | Yes       |           |           | Yes       |      2
 140 | [C114](#closure-114) | Yes       |           |           | Yes       |      2
 141 | [C115](#closure-115) | Yes       |           |           | Yes       |      2
 142 | [C116](#closure-116) | Yes       |           |           |           |      1
 145 | [C119](#closure-119) | Yes       |           |           | T_OUT     |      1
 146 | [C120](#closure-120) | Yes       |           |           | Yes       |      2
 147 | [C121](#closure-121) | Yes       |           |           | Yes       |      2
 148 | [C122](#closure-122) | Yes       |           |           |           |      1
 149 | [C123](#closure-123) | Yes       |           |           |           |      1
 150 | [C124](#closure-124) | Yes       |           |           |           |      1
 151 | [C125](#closure-125) | Yes       |           |           |           |      1
 152 | [C126](#closure-126) | Yes       |           |           |           |      1
 153 | [C127](#closure-127) | Yes       |           |           |           |      1
 154 | [C128](#closure-128) | Yes       |           |           |           |      1
 155 | [C129](#closure-129) | Yes       |           |           |           |      1
 156 | [C130](#closure-130) | Yes       |           |           |           |      1
 157 | [C131](#closure-131) | Yes       |           |           |           |      1
 158 | [C132](#closure-132) | Yes       |           |           |           |      1
 159 | [C133](#closure-133) | Yes       |           |           |           |      1
 198 | [L39](#lang-39)   | Yes       |           |           |           |      1
 203 | [L44](#lang-44)   | Yes       |           |           |           |      1
 210 | [L51](#lang-51)   | Yes       |           |           |           |      1
 214 | [L55](#lang-55)   | Yes       |           |           |           |      1
 217 | [L58](#lang-58)   | Yes       |           |           |           |      1
 222 | [L63](#lang-63)   | Yes       |           |           |           |      1
 226 | [M2](#math-2)     | Yes       |           |           |           |      1
 228 | [M4](#math-4)     | Yes       |           |           |           |      1
 229 | [M5](#math-5)     | Yes       |           |           |           |      1
 248 | [M24](#math-24)   | Yes       |           |           |           |      1
 252 | [M28](#math-28)   | Yes       |           |           |           |      1
 256 | [M32](#math-32)   | Yes       |           |           |           |      1
 257 | [M33](#math-33)   | Yes       |           |           |           |      1
 264 | [M40](#math-40)   | Yes       |           |           |           |      1
 265 | [M41](#math-41)   | Yes       |           |           |           |      1
 266 | [M42](#math-42)   | Yes       |           |           |           |      1
 268 | [M44](#math-44)   | Yes       |           |           |           |      1
 270 | [M46](#math-46)   | Yes       |           |           |           |      1
 273 | [M49](#math-49)   | Yes       |           |           |           |      1
 274 | [M50](#math-50)   | Yes       |           |           |           |      1
 281 | [M57](#math-57)   | Yes       |           |           |           |      1
 282 | [M58](#math-58)   | Yes       |           |           |           |      1
 293 | [M69](#math-69)   | Yes       |           |           |           |      1
 295 | [M71](#math-71)   | Yes       |           |           |           |      1
 302 | [M78](#math-78)   | Yes       |           |           |           |      1
 304 | [M80](#math-80)   | Yes       |           |           |           |      1
 306 | [M82](#math-82)   | Yes       |           |           |           |      1
 309 | [M85](#math-85)   | Yes       |           |           |           |      1
 311 | [M87](#math-87)   | Yes       |           |           |           |      1
 312 | [M88](#math-88)   | Yes       |           |           |           |      1
 320 | [M96](#math-96)   | Yes       |           |           |           |      1
 321 | [M97](#math-97)   | Yes       |           |           |           |      1
 325 | [M101](#math-101) | Yes       |           |           |           |      1
 329 | [M105](#math-105) | Yes       |           |           |           |      1
 359 | [M29](#mockito-29) | Yes       |           |           |           |      1
 368 | [M38](#mockito-38) | Yes       |           |           |           |      1
 372 | [T4](#time-4)     | Yes       |           |           |           |      1
 375 | [T7](#time-7)     | Yes       |           |           |           |      1
 379 | [T11](#time-11)   | Yes       |           |           |           |      1
 380 | [T12](#time-12)   | T_OUT     |           |           | Yes       |      1
 382 | [T14](#time-14)   | Yes       |           |           |           |      1
 384 | [T16](#time-16)   | Yes       |           |           |           |      1
 386 | [T18](#time-18)   | T_OUT     |           |           | Yes       |      1
 387 | [T19](#time-19)   | T_OUT     |           |           | Yes       |      1
     | Total             | 150 (37%) | 0 (0%)    | 0 (0%)    | 13 (3%)   |    163
Fixed bugs: 153/395 (38%)

Nb bugs ends with an execution error: 18

Nb bugs ends with an empty log: 0

Nb bugs ends with the Grid5000 timeout: 18

Total execution time: 9 days, 4:35:49.977000
# All bugs

| #   | BugId             | DynaMoth  | jGenProg  | jKali     | Nopol     | Total |
----- | ----------------- | --------- | --------- | --------- | --------- | ------
   1 | [C1](#chart-1)    | Yes       |           |           |           |      1
   2 | [C2](#chart-2)    | T_OUT     |           |           |           |      0
   3 | [C3](#chart-3)    | T_OUT     |           |           |           |      0
   4 | [C4](#chart-4)    | Yes       |           |           |           |      1
   5 | [C5](#chart-5)    | Yes       |           |           |           |      1
   6 | [C6](#chart-6)    | Yes       |           |           |           |      1
   7 | [C7](#chart-7)    | 0 AV      |           |           |           |      0
   8 | [C8](#chart-8)    | IGNORED   | IGNORED   | IGNORED   | IGNORED   |      0
   9 | [C9](#chart-9)    | Yes       |           |           |           |      1
  10 | [C10](#chart-10)  | 0 AV      |           |           |           |      0
  11 | [C11](#chart-11)  | 0 AV      |           |           |           |      0
  12 | [C12](#chart-12)  | 0 AV      |           |           |           |      0
  13 | [C13](#chart-13)  | Yes       |           |           |           |      1
  14 | [C14](#chart-14)  | 0 AV      |           |           |           |      0
  15 | [C15](#chart-15)  | Yes       |           |           |           |      1
  16 | [C16](#chart-16)  | 0 AV      |           |           |           |      0
  17 | [C17](#chart-17)  | Yes       |           |           |           |      1
  18 | [C18](#chart-18)  | 1 AV      |           |           |           |      0
  19 | [C19](#chart-19)  | 0 AV      |           |           |           |      0
  20 | [C20](#chart-20)  | 0 AV      |           |           |           |      0
  21 | [C21](#chart-21)  | Yes       |           |           |           |      1
  22 | [C22](#chart-22)  | 0 AV      |           |           |           |      0
  23 | [C23](#chart-23)  | 0 AV      |           |           |           |      0
  24 | [C24](#chart-24)  | 0 AV      |           |           |           |      0
  25 | [C25](#chart-25)  | Yes       |           |           |           |      1
  26 | [C26](#chart-26)  | Yes       |           |           |           |      1
  27 | [C1](#closure-1)  | Yes       |           |           |           |      1
  28 | [C2](#closure-2)  | Yes       |           |           | T_OUT     |      1
  29 | [C3](#closure-3)  | Yes       |           |           |           |      1
  30 | [C4](#closure-4)  | Yes       |           |           |           |      1
  31 | [C5](#closure-5)  | Yes       |           |           |           |      1
  32 | [C6](#closure-6)  | Yes       |           |           |           |      1
  33 | [C7](#closure-7)  | Yes       |           |           | Yes       |      2
  34 | [C8](#closure-8)  | Yes       |           |           |           |      1
  35 | [C9](#closure-9)  | Yes       |           |           |           |      1
  36 | [C10](#closure-10) | Yes       |           |           |           |      1
  37 | [C11](#closure-11) | Yes       |           |           |           |      1
  38 | [C12](#closure-12) | Yes       |           |           |           |      1
  39 | [C13](#closure-13) | Yes       |           |           |           |      1
  40 | [C14](#closure-14) | Yes       |           |           | Yes       |      2
  41 | [C15](#closure-15) | Yes       |           |           | Yes       |      2
  42 | [C16](#closure-16) | Yes       |           |           |           |      1
  43 | [C17](#closure-17) | Yes       |           |           |           |      1
  44 | [C18](#closure-18) | Yes       |           |           |           |      1
  45 | [C19](#closure-19) | Yes       |           |           |           |      1
  46 | [C20](#closure-20) | Yes       |           |           |           |      1
  47 | [C21](#closure-21) | Yes       |           |           |           |      1
  48 | [C22](#closure-22) | Yes       |           |           |           |      1
  49 | [C23](#closure-23) | Yes       |           |           |           |      1
  50 | [C24](#closure-24) | Yes       |           |           |           |      1
  51 | [C25](#closure-25) | Yes       |           |           |           |      1
  52 | [C26](#closure-26) | Yes       |           |           |           |      1
  53 | [C27](#closure-27) | Yes       |           |           |           |      1
  54 | [C28](#closure-28) | Yes       |           |           |           |      1
  55 | [C29](#closure-29) | Yes       |           |           |           |      1
  56 | [C30](#closure-30) | Yes       |           |           |           |      1
  57 | [C31](#closure-31) | Yes       |           |           |           |      1
  58 | [C32](#closure-32) | Yes       |           |           |           |      1
  59 | [C33](#closure-33) | Yes       |           |           |           |      1
  60 | [C34](#closure-34) | Yes       |           |           |           |      1
  61 | [C35](#closure-35) | Yes       |           |           |           |      1
  62 | [C36](#closure-36) | Yes       |           |           | Yes       |      2
  63 | [C37](#closure-37) | Yes       |           |           |           |      1
  64 | [C38](#closure-38) | Yes       |           |           | Yes       |      2
  65 | [C39](#closure-39) | Yes       |           |           |           |      1
  66 | [C40](#closure-40) | Yes       |           |           |           |      1
  67 | [C41](#closure-41) | Yes       |           |           |           |      1
  68 | [C42](#closure-42) | Yes       |           |           |           |      1
  69 | [C43](#closure-43) | Yes       |           |           |           |      1
  70 | [C44](#closure-44) | Yes       |           |           |           |      1
  71 | [C45](#closure-45) | Yes       |           |           |           |      1
  72 | [C46](#closure-46) | Yes       |           |           |           |      1
  73 | [C47](#closure-47) | Yes       |           |           |           |      1
  74 | [C48](#closure-48) | Yes       |           |           |           |      1
  75 | [C49](#closure-49) | Yes       |           |           |           |      1
  76 | [C50](#closure-50) | Yes       |           |           |           |      1
  77 | [C51](#closure-51) | Yes       |           |           |           |      1
  78 | [C52](#closure-52) | Yes       |           |           |           |      1
  79 | [C53](#closure-53) | Yes       |           |           |           |      1
  80 | [C54](#closure-54) | Yes       |           |           |           |      1
  81 | [C55](#closure-55) | Yes       |           |           |           |      1
  82 | [C56](#closure-56) | Yes       |           |           |           |      1
  83 | [C57](#closure-57) | Yes       |           |           |           |      1
  84 | [C58](#closure-58) | Yes       |           |           |           |      1
  85 | [C59](#closure-59) | Yes       |           |           |           |      1
  86 | [C60](#closure-60) | Yes       |           |           |           |      1
  87 | [C61](#closure-61) | Yes       |           |           |           |      1
  88 | [C62](#closure-62) | Yes       |           |           |           |      1
  89 | [C63](#closure-63) | Yes       |           |           |           |      1
  90 | [C64](#closure-64) | Yes       |           |           |           |      1
  91 | [C65](#closure-65) | Yes       |           |           |           |      1
  92 | [C66](#closure-66) | Yes       |           |           |           |      1
  93 | [C67](#closure-67) | Yes       |           |           |           |      1
  94 | [C68](#closure-68) | Yes       |           |           |           |      1
  95 | [C69](#closure-69) | Yes       |           |           |           |      1
  96 | [C70](#closure-70) | Yes       |           |           |           |      1
  97 | [C71](#closure-71) | Yes       |           |           |           |      1
  98 | [C72](#closure-72) | Yes       |           |           |           |      1
  99 | [C73](#closure-73) | Yes       |           |           |           |      1
 100 | [C74](#closure-74) | ERROR     |           |           |           |      0
 101 | [C75](#closure-75) | Yes       |           |           |           |      1
 102 | [C76](#closure-76) | Yes       |           |           |           |      1
 103 | [C77](#closure-77) | Yes       |           |           |           |      1
 104 | [C78](#closure-78) | Yes       |           |           |           |      1
 105 | [C79](#closure-79) | 0 AV      |           |           |           |      0
 106 | [C80](#closure-80) | 0 AV      |           |           |           |      0
 107 | [C81](#closure-81) | 0 AV      |           |           |           |      0
 108 | [C82](#closure-82) | 0 AV      |           |           |           |      0
 109 | [C83](#closure-83) | 0 AV      |           |           |           |      0
 110 | [C84](#closure-84) | 0 AV      |           |           |           |      0
 111 | [C85](#closure-85) | 0 AV      |           |           |           |      0
 112 | [C86](#closure-86) | 0 AV      |           |           |           |      0
 113 | [C87](#closure-87) | 0 AV      |           |           |           |      0
 114 | [C88](#closure-88) | ERROR     |           |           |           |      0
 115 | [C89](#closure-89) | 0 AV      |           |           |           |      0
 116 | [C90](#closure-90) | ERROR     |           |           |           |      0
 117 | [C91](#closure-91) | ERROR     |           |           |           |      0
 118 | [C92](#closure-92) | ERROR     |           |           |           |      0
 119 | [C93](#closure-93) | ERROR     |           |           |           |      0
 120 | [C94](#closure-94) | ERROR     |           |           |           |      0
 121 | [C95](#closure-95) | ERROR     |           |           |           |      0
 122 | [C96](#closure-96) | ERROR     |           |           |           |      0
 123 | [C97](#closure-97) | 0 AV      |           |           |           |      0
 124 | [C98](#closure-98) | 0 AV      |           |           |           |      0
 125 | [C99](#closure-99) | 0 AV      |           |           |           |      0
 126 | [C100](#closure-100) | 0 AV      |           |           |           |      0
 127 | [C101](#closure-101) | 11 AV     |           |           |           |      0
 128 | [C102](#closure-102) | 11 AV     |           |           |           |      0
 129 | [C103](#closure-103) | 11 AV     |           |           |           |      0
 130 | [C104](#closure-104) | 11 AV     |           |           |           |      0
 131 | [C105](#closure-105) | 11 AV     |           |           |           |      0
 132 | [C106](#closure-106) | 11 AV     |           |           |           |      0
 133 | [C107](#closure-107) | ERROR     |           |           |           |      0
 134 | [C108](#closure-108) | 0 AV      |           |           |           |      0
 135 | [C109](#closure-109) | Yes       |           |           |           |      1
 136 | [C110](#closure-110) | Yes       |           |           |           |      1
 137 | [C111](#closure-111) | Yes       |           |           | Yes       |      2
 138 | [C112](#closure-112) | T_OUT     |           |           |           |      0
 139 | [C113](#closure-113) | T_OUT     |           |           | ERROR     |      0
 140 | [C114](#closure-114) | Yes       |           |           | Yes       |      2
 141 | [C115](#closure-115) | Yes       |           |           | Yes       |      2
 142 | [C116](#closure-116) | Yes       |           |           |           |      1
 143 | [C117](#closure-117) | ERROR     |           |           |           |      0
 144 | [C118](#closure-118) | T_OUT     |           |           |           |      0
 145 | [C119](#closure-119) | Yes       |           |           | T_OUT     |      1
 146 | [C120](#closure-120) | Yes       |           |           | Yes       |      2
 147 | [C121](#closure-121) | Yes       |           |           | Yes       |      2
 148 | [C122](#closure-122) | Yes       |           |           |           |      1
 149 | [C123](#closure-123) | Yes       |           |           |           |      1
 150 | [C124](#closure-124) | Yes       |           |           |           |      1
 151 | [C125](#closure-125) | Yes       |           |           |           |      1
 152 | [C126](#closure-126) | Yes       |           |           |           |      1
 153 | [C127](#closure-127) | Yes       |           |           |           |      1
 154 | [C128](#closure-128) | Yes       |           |           |           |      1
 155 | [C129](#closure-129) | Yes       |           |           |           |      1
 156 | [C130](#closure-130) | Yes       |           |           |           |      1
 157 | [C131](#closure-131) | Yes       |           |           |           |      1
 158 | [C132](#closure-132) | Yes       |           |           |           |      1
 159 | [C133](#closure-133) | Yes       |           |           |           |      1
 160 | [L1](#lang-1)     | 0 AV      |           |           |           |      0
 161 | [L2](#lang-2)     | 0 AV      |           |           |           |      0
 162 | [L3](#lang-3)     | 0 AV      |           |           |           |      0
 163 | [L4](#lang-4)     | 0 AV      |           |           |           |      0
 164 | [L5](#lang-5)     | 0 AV      |           |           |           |      0
 165 | [L6](#lang-6)     | 0 AV      |           |           |           |      0
 166 | [L7](#lang-7)     | 0 AV      |           |           |           |      0
 167 | [L8](#lang-8)     | 0 AV      |           |           |           |      0
 168 | [L9](#lang-9)     | 0 AV      |           |           |           |      0
 169 | [L10](#lang-10)   | 0 AV      |           |           |           |      0
 170 | [L11](#lang-11)   | 0 AV      |           |           |           |      0
 171 | [L12](#lang-12)   | 0 AV      |           |           |           |      0
 172 | [L13](#lang-13)   | 0 AV      |           |           |           |      0
 173 | [L14](#lang-14)   | 0 AV      |           |           |           |      0
 174 | [L15](#lang-15)   | 0 AV      |           |           |           |      0
 175 | [L16](#lang-16)   | 0 AV      |           |           |           |      0
 176 | [L17](#lang-17)   | 0 AV      |           |           |           |      0
 177 | [L18](#lang-18)   | 0 AV      |           |           |           |      0
 178 | [L19](#lang-19)   | 0 AV      |           |           |           |      0
 179 | [L20](#lang-20)   | 0 AV      |           |           |           |      0
 180 | [L21](#lang-21)   | 0 AV      |           |           |           |      0
 181 | [L22](#lang-22)   | 0 AV      |           |           |           |      0
 182 | [L23](#lang-23)   | 0 AV      |           |           |           |      0
 183 | [L24](#lang-24)   | 0 AV      |           |           |           |      0
 184 | [L25](#lang-25)   | 0 AV      |           |           |           |      0
 185 | [L26](#lang-26)   | 0 AV      |           |           |           |      0
 186 | [L27](#lang-27)   | 0 AV      |           |           |           |      0
 187 | [L28](#lang-28)   | 0 AV      |           |           |           |      0
 188 | [L29](#lang-29)   | 0 AV      |           |           |           |      0
 189 | [L30](#lang-30)   | 0 AV      |           |           |           |      0
 190 | [L31](#lang-31)   | 0 AV      |           |           |           |      0
 191 | [L32](#lang-32)   | 0 AV      |           |           |           |      0
 192 | [L33](#lang-33)   | 0 AV      |           |           |           |      0
 193 | [L34](#lang-34)   | 0 AV      |           |           |           |      0
 194 | [L35](#lang-35)   | 0 AV      |           |           |           |      0
 195 | [L36](#lang-36)   | 0 AV      |           |           |           |      0
 196 | [L37](#lang-37)   | 0 AV      |           |           |           |      0
 197 | [L38](#lang-38)   | 0 AV      |           |           |           |      0
 198 | [L39](#lang-39)   | Yes       |           |           |           |      1
 199 | [L40](#lang-40)   | 0 AV      |           |           |           |      0
 200 | [L41](#lang-41)   | 0 AV      |           |           |           |      0
 201 | [L42](#lang-42)   | 0 AV      |           |           |           |      0
 202 | [L43](#lang-43)   | 0 AV      |           |           |           |      0
 203 | [L44](#lang-44)   | Yes       |           |           |           |      1
 204 | [L45](#lang-45)   | 0 AV      |           |           |           |      0
 205 | [L46](#lang-46)   | 0 AV      |           |           |           |      0
 206 | [L47](#lang-47)   | 0 AV      |           |           |           |      0
 207 | [L48](#lang-48)   | 4 AV      |           |           |           |      0
 208 | [L49](#lang-49)   | 0 AV      |           |           |           |      0
 209 | [L50](#lang-50)   | 0 AV      |           |           |           |      0
 210 | [L51](#lang-51)   | Yes       |           |           |           |      1
 211 | [L52](#lang-52)   | 0 AV      |           |           |           |      0
 212 | [L53](#lang-53)   | 4 AV      |           |           |           |      0
 213 | [L54](#lang-54)   | 0 AV      |           |           |           |      0
 214 | [L55](#lang-55)   | Yes       |           |           |           |      1
 215 | [L56](#lang-56)   | 2 AV      |           |           |           |      0
 216 | [L57](#lang-57)   | 0 AV      |           |           |           |      0
 217 | [L58](#lang-58)   | Yes       |           |           |           |      1
 218 | [L59](#lang-59)   | 0 AV      |           |           |           |      0
 219 | [L60](#lang-60)   | 4 AV      |           |           |           |      0
 220 | [L61](#lang-61)   | 0 AV      |           |           |           |      0
 221 | [L62](#lang-62)   | 0 AV      |           |           |           |      0
 222 | [L63](#lang-63)   | Yes       |           |           |           |      1
 223 | [L64](#lang-64)   | 0 AV      |           |           |           |      0
 224 | [L65](#lang-65)   | 0 AV      |           |           |           |      0
 225 | [M1](#math-1)     | 0 AV      |           |           |           |      0
 226 | [M2](#math-2)     | Yes       |           |           |           |      1
 227 | [M3](#math-3)     | 0 AV      |           |           |           |      0
 228 | [M4](#math-4)     | Yes       |           |           |           |      1
 229 | [M5](#math-5)     | Yes       |           |           |           |      1
 230 | [M6](#math-6)     | T_OUT     |           |           |           |      0
 231 | [M7](#math-7)     | T_OUT     |           |           |           |      0
 232 | [M8](#math-8)     | 3 AV      |           |           |           |      0
 233 | [M9](#math-9)     | 0 AV      |           |           |           |      0
 234 | [M10](#math-10)   | 0 AV      |           |           |           |      0
 235 | [M11](#math-11)   | 1 AV      |           |           |           |      0
 236 | [M12](#math-12)   | T_OUT     |           |           |           |      0
 237 | [M13](#math-13)   | 0 AV      |           |           |           |      0
 238 | [M14](#math-14)   | 0 AV      |           |           |           |      0
 239 | [M15](#math-15)   | 0 AV      |           |           |           |      0
 240 | [M16](#math-16)   | 0 AV      |           |           |           |      0
 241 | [M17](#math-17)   | 0 AV      |           |           |           |      0
 242 | [M18](#math-18)   | 0 AV      |           |           |           |      0
 243 | [M19](#math-19)   | 0 AV      |           |           |           |      0
 244 | [M20](#math-20)   | 0 AV      |           |           |           |      0
 245 | [M21](#math-21)   | 0 AV      |           |           |           |      0
 246 | [M22](#math-22)   | 0 AV      |           |           |           |      0
 247 | [M23](#math-23)   | 3 AV      |           |           |           |      0
 248 | [M24](#math-24)   | Yes       |           |           |           |      1
 249 | [M25](#math-25)   | 0 AV      |           |           |           |      0
 250 | [M26](#math-26)   | 2 AV      |           |           |           |      0
 251 | [M27](#math-27)   | T_OUT     |           |           |           |      0
 252 | [M28](#math-28)   | Yes       |           |           |           |      1
 253 | [M29](#math-29)   | 0 AV      |           |           |           |      0
 254 | [M30](#math-30)   | T_OUT     |           |           |           |      0
 255 | [M31](#math-31)   | T_OUT     |           |           |           |      0
 256 | [M32](#math-32)   | Yes       |           |           |           |      1
 257 | [M33](#math-33)   | Yes       |           |           |           |      1
 258 | [M34](#math-34)   | 0 AV      |           |           |           |      0
 259 | [M35](#math-35)   | 0 AV      |           |           |           |      0
 260 | [M36](#math-36)   | 0 AV      |           |           |           |      0
 261 | [M37](#math-37)   | 0 AV      |           |           |           |      0
 262 | [M38](#math-38)   | 0 AV      |           |           |           |      0
 263 | [M39](#math-39)   | ERROR     |           |           |           |      0
 264 | [M40](#math-40)   | Yes       |           |           |           |      1
 265 | [M41](#math-41)   | Yes       |           |           |           |      1
 266 | [M42](#math-42)   | Yes       |           |           |           |      1
 267 | [M43](#math-43)   | 1 AV      |           |           |           |      0
 268 | [M44](#math-44)   | Yes       |           |           |           |      1
 269 | [M45](#math-45)   | 0 AV      |           |           |           |      0
 270 | [M46](#math-46)   | Yes       |           |           |           |      1
 271 | [M47](#math-47)   | 0 AV      |           |           |           |      0
 272 | [M48](#math-48)   | 0 AV      |           |           |           |      0
 273 | [M49](#math-49)   | Yes       |           |           |           |      1
 274 | [M50](#math-50)   | Yes       |           |           |           |      1
 275 | [M51](#math-51)   | 0 AV      |           |           |           |      0
 276 | [M52](#math-52)   | 0 AV      |           |           |           |      0
 277 | [M53](#math-53)   | 0 AV      |           |           |           |      0
 278 | [M54](#math-54)   | 0 AV      |           |           |           |      0
 279 | [M55](#math-55)   | 0 AV      |           |           |           |      0
 280 | [M56](#math-56)   | 0 AV      |           |           |           |      0
 281 | [M57](#math-57)   | Yes       |           |           |           |      1
 282 | [M58](#math-58)   | Yes       |           |           |           |      1
 283 | [M59](#math-59)   | 0 AV      |           |           |           |      0
 284 | [M60](#math-60)   | 1 AV      |           |           |           |      0
 285 | [M61](#math-61)   | 0 AV      |           |           |           |      0
 286 | [M62](#math-62)   | 0 AV      |           |           |           |      0
 287 | [M63](#math-63)   | 0 AV      |           |           |           |      0
 288 | [M64](#math-64)   | 2 AV      |           |           |           |      0
 289 | [M65](#math-65)   | 0 AV      |           |           |           |      0
 290 | [M66](#math-66)   | 0 AV      |           |           |           |      0
 291 | [M67](#math-67)   | 0 AV      |           |           |           |      0
 292 | [M68](#math-68)   | 0 AV      |           |           |           |      0
 293 | [M69](#math-69)   | Yes       |           |           |           |      1
 294 | [M70](#math-70)   | 0 AV      |           |           |           |      0
 295 | [M71](#math-71)   | Yes       |           |           |           |      1
 296 | [M72](#math-72)   | 0 AV      |           |           |           |      0
 297 | [M73](#math-73)   | 1 AV      |           |           |           |      0
 298 | [M74](#math-74)   | T_OUT     |           |           |           |      0
 299 | [M75](#math-75)   | 0 AV      |           |           |           |      0
 300 | [M76](#math-76)   | 0 AV      |           |           |           |      0
 301 | [M77](#math-77)   | 0 AV      |           |           |           |      0
 302 | [M78](#math-78)   | Yes       |           |           |           |      1
 303 | [M79](#math-79)   | 3 AV      |           |           |           |      0
 304 | [M80](#math-80)   | Yes       |           |           |           |      1
 305 | [M81](#math-81)   | 21 AV     |           |           |           |      0
 306 | [M82](#math-82)   | Yes       |           |           |           |      1
 307 | [M83](#math-83)   | 0 AV      |           |           |           |      0
 308 | [M84](#math-84)   | 1 AV      |           |           |           |      0
 309 | [M85](#math-85)   | Yes       |           |           |           |      1
 310 | [M86](#math-86)   | 5 AV      |           |           |           |      0
 311 | [M87](#math-87)   | Yes       |           |           |           |      1
 312 | [M88](#math-88)   | Yes       |           |           |           |      1
 313 | [M89](#math-89)   | 0 AV      |           |           |           |      0
 314 | [M90](#math-90)   | 0 AV      |           |           |           |      0
 315 | [M91](#math-91)   | 0 AV      |           |           |           |      0
 316 | [M92](#math-92)   | 0 AV      |           |           |           |      0
 317 | [M93](#math-93)   | 0 AV      |           |           |           |      0
 318 | [M94](#math-94)   | 0 AV      |           |           |           |      0
 319 | [M95](#math-95)   | 0 AV      |           |           |           |      0
 320 | [M96](#math-96)   | Yes       |           |           |           |      1
 321 | [M97](#math-97)   | Yes       |           |           |           |      1
 322 | [M98](#math-98)   | 0 AV      |           |           |           |      0
 323 | [M99](#math-99)   | IGNORED   | IGNORED   | IGNORED   | IGNORED   |      0
 324 | [M100](#math-100) | 0 AV      |           |           |           |      0
 325 | [M101](#math-101) | Yes       |           |           |           |      1
 326 | [M102](#math-102) | 0 AV      |           |           |           |      0
 327 | [M103](#math-103) | 0 AV      |           |           |           |      0
 328 | [M104](#math-104) | 1 AV      |           |           |           |      0
 329 | [M105](#math-105) | Yes       |           |           |           |      1
 330 | [M106](#math-106) | 11 AV     |           |           |           |      0
 331 | [M1](#mockito-1)  | ERROR     |           |           |           |      0
 332 | [M2](#mockito-2)  | 0 AV      |           |           |           |      0
 333 | [M3](#mockito-3)  | ERROR     |           |           |           |      0
 334 | [M4](#mockito-4)  | 0 AV      |           |           |           |      0
 335 | [M5](#mockito-5)  | 0 AV      |           |           |           |      0
 336 | [M6](#mockito-6)  | 0 AV      |           |           |           |      0
 337 | [M7](#mockito-7)  | 0 AV      |           |           |           |      0
 338 | [M8](#mockito-8)  | 0 AV      |           |           |           |      0
 339 | [M9](#mockito-9)  | 0 AV      |           |           |           |      0
 340 | [M10](#mockito-10) | 0 AV      |           |           |           |      0
 341 | [M11](#mockito-11) | 0 AV      |           |           |           |      0
 342 | [M12](#mockito-12) | 0 AV      |           |           |           |      0
 343 | [M13](#mockito-13) | 0 AV      |           |           |           |      0
 344 | [M14](#mockito-14) | 4 AV      |           |           |           |      0
 345 | [M15](#mockito-15) | 0 AV      |           |           |           |      0
 346 | [M16](#mockito-16) | 3 AV      |           |           |           |      0
 347 | [M17](#mockito-17) | 0 AV      |           |           |           |      0
 348 | [M18](#mockito-18) | ERROR     |           |           |           |      0
 349 | [M19](#mockito-19) | ERROR     |           |           |           |      0
 350 | [M20](#mockito-20) | ERROR     |           |           |           |      0
 351 | [M21](#mockito-21) | 0 AV      |           |           |           |      0
 352 | [M22](#mockito-22) | 0 AV      |           |           |           |      0
 353 | [M23](#mockito-23) | 0 AV      |           |           |           |      0
 354 | [M24](#mockito-24) | 1 AV      |           |           |           |      0
 355 | [M25](#mockito-25) | 0 AV      |           |           |           |      0
 356 | [M26](#mockito-26) | 0 AV      |           |           |           |      0
 357 | [M27](#mockito-27) | 11 AV     |           |           |           |      0
 358 | [M28](#mockito-28) | 1 AV      |           |           |           |      0
 359 | [M29](#mockito-29) | Yes       |           |           |           |      1
 360 | [M30](#mockito-30) | 0 AV      |           |           |           |      0
 361 | [M31](#mockito-31) | 0 AV      |           |           |           |      0
 362 | [M32](#mockito-32) | 0 AV      |           |           |           |      0
 363 | [M33](#mockito-33) | 0 AV      |           |           |           |      0
 364 | [M34](#mockito-34) | 1 AV      |           |           |           |      0
 365 | [M35](#mockito-35) | 0 AV      |           |           |           |      0
 366 | [M36](#mockito-36) | 0 AV      |           |           |           |      0
 367 | [M37](#mockito-37) | 0 AV      |           |           |           |      0
 368 | [M38](#mockito-38) | Yes       |           |           |           |      1
 369 | [T1](#time-1)     | 1 AV      |           |           |           |      0
 370 | [T2](#time-2)     | 0 AV      |           |           |           |      0
 371 | [T3](#time-3)     | 19 AV     |           |           |           |      0
 372 | [T4](#time-4)     | Yes       |           |           |           |      1
 373 | [T5](#time-5)     | T_OUT     |           |           |           |      0
 374 | [T6](#time-6)     | 123 AV    |           |           |           |      0
 375 | [T7](#time-7)     | Yes       |           |           |           |      1
 376 | [T8](#time-8)     | 20 AV     |           |           |           |      0
 377 | [T9](#time-9)     | 20 AV     |           |           |           |      0
 378 | [T10](#time-10)   | 20 AV     |           |           |           |      0
 379 | [T11](#time-11)   | Yes       |           |           |           |      1
 380 | [T12](#time-12)   | T_OUT     |           |           | Yes       |      1
 381 | [T13](#time-13)   | 29 AV     |           |           |           |      0
 382 | [T14](#time-14)   | Yes       |           |           |           |      1
 383 | [T15](#time-15)   | 20 AV     |           |           |           |      0
 384 | [T16](#time-16)   | Yes       |           |           |           |      1
 385 | [T17](#time-17)   | 22 AV     |           |           |           |      0
 386 | [T18](#time-18)   | T_OUT     |           |           | Yes       |      1
 387 | [T19](#time-19)   | T_OUT     |           |           | Yes       |      1
 388 | [T20](#time-20)   | 20 AV     |           |           |           |      0
 389 | [T21](#time-21)   | 20 AV     |           |           |           |      0
 390 | [T22](#time-22)   | 10 AV     |           |           |           |      0
 391 | [T23](#time-23)   | 10 AV     |           |           |           |      0
 392 | [T24](#time-24)   | 20 AV     |           |           |           |      0
 393 | [T25](#time-25)   | 10 AV     |           |           |           |      0
 394 | [T26](#time-26)   | 20 AV     |           |           |           |      0
 395 | [T27](#time-27)   | 14 AV     |           |           |           |      0
     | Total             | 150 (37%) | 0 (0%)    | 0 (0%)    | 13 (3%)   |    163
Fixed bugs: 153/395 (38%)

Nb bugs ends with an execution error: 18

Nb bugs ends with an empty log: 0

Nb bugs ends with the Grid5000 timeout: 18

Total execution time: 9 days, 4:35:49.977000



# Chart 1


## Human Patch 

```Java
Index: source/org/jfree/chart/renderer/category/AbstractCategoryItemRenderer.java
===================================================================
--- source/org/jfree/chart/renderer/category/AbstractCategoryItemRenderer.java	(revision 2266)
+++ source/org/jfree/chart/renderer/category/AbstractCategoryItemRenderer.java	(revision 2264)
@@ -1794,7 +1794,7 @@
         }
         int index = this.plot.getIndexOf(this);
         CategoryDataset dataset = this.plot.getDataset(index);
+        if (dataset == null) {
-        if (dataset != null) {
             return result;
         }
         int seriesCount = dataset.getRowCount();

```

## Patch #1 DynaMoth 

org.jfree.chart.renderer.category.AbstractCategoryItemRenderer:1797

```Java
--- /tmp/chart_1_Brutpol/source/org/jfree/chart/renderer/category/AbstractCategoryItemRenderer.java
+++ /tmp/chart_1_Brutpol/source/org/jfree/chart/renderer/category/AbstractCategoryItemRenderer.java
@@ -1796,4 +1796,6 @@
         CategoryDataset dataset = this.plot.getDataset(index);
-        if (dataset != null) {
-            return result;
+        if (this.equals((java.lang.Object) result)) {
+            if (dataset != null) {
+                return result;
+            }
         }

```
Execution time: 0:01:50.906000

Grid5000 node: griffon-15.nancy.grid5000.fr


# Chart 4


## Human Patch 

```Java
diff --git a/source/org/jfree/chart/plot/XYPlot.java b/source/org/jfree/chart/plot/XYPlot.java
index 6536d1d..ec26162 100644
--- a/source/org/jfree/chart/plot/XYPlot.java
+++ b/source/org/jfree/chart/plot/XYPlot.java
@@ -4490,7 +4490,6 @@ public class XYPlot extends Plot implements ValueAxisPlot, Pannable,
                     }
                 }
                 
+                if (r != null) {
                     Collection c = r.getAnnotations();
                     Iterator i = c.iterator();
                     while (i.hasNext()) {
@@ -4499,7 +4498,6 @@ public class XYPlot extends Plot implements ValueAxisPlot, Pannable,
                             includedAnnotations.add(a);
                         }
                     }
+                }
             }
         }
 

```

## Patch #2 DynaMoth 

org.jfree.chart.plot.XYPlot:1607

```Java
--- /tmp/chart_4_Brutpol/source/org/jfree/chart/plot/XYPlot.java
+++ /tmp/chart_4_Brutpol/source/org/jfree/chart/plot/XYPlot.java
@@ -1606,3 +1606,5 @@
     public void setRenderer(XYItemRenderer renderer) {
-        setRenderer(0, renderer);
+        if (renderer != null) {
+            setRenderer(0, renderer);
+        }
     }

```
Execution time: 0:11:22.471000

Grid5000 node: griffon-11.nancy.grid5000.fr


# Chart 5


## Human Patch 

```Java
diff --git a/source/org/jfree/data/xy/XYSeries.java b/source/org/jfree/data/xy/XYSeries.java
index b26e11e..0b37e6e 100644
--- a/source/org/jfree/data/xy/XYSeries.java
+++ b/source/org/jfree/data/xy/XYSeries.java
@@ -541,15 +541,11 @@ public class XYSeries extends Series implements Cloneable, Serializable {
         if (x == null) {
             throw new IllegalArgumentException("Null 'x' argument.");
         }
+        if (this.allowDuplicateXValues) {
+            add(x, y);
+            return null;
+        }
 
         // if we get to here, we know that duplicate X values are not permitted
         XYDataItem overwritten = null;
         int index = indexOf(x);
+        if (index >= 0) {
-        if (index >= 0 && !this.allowDuplicateXValues) {
             XYDataItem existing = (XYDataItem) this.data.get(index);
             try {
                 overwritten = (XYDataItem) existing.clone();

```

## Patch #3 DynaMoth 

org.jfree.data.xy.XYSeries:563

```Java
--- /tmp/chart_5_Brutpol/source/org/jfree/data/xy/XYSeries.java
+++ /tmp/chart_5_Brutpol/source/org/jfree/data/xy/XYSeries.java
@@ -562,3 +562,3 @@
             // append the value to the list...
-            if (this.autoSort) {
+            if (this.equals((java.lang.Object) x)) {
                 this.data.add(-index - 1, new XYDataItem(x, y));

```
Execution time: 0:00:56.047000

Grid5000 node: griffon-11.nancy.grid5000.fr


# Chart 6


## Human Patch 

```Java
diff --git a/source/org/jfree/chart/util/ShapeList.java b/source/org/jfree/chart/util/ShapeList.java
index 73ece1c..85f1c81 100644
--- a/source/org/jfree/chart/util/ShapeList.java
+++ b/source/org/jfree/chart/util/ShapeList.java
@@ -108,14 +108,7 @@ public class ShapeList extends AbstractObjectList {
         if (!(obj instanceof ShapeList)) {
             return false;
         }
+        ShapeList that = (ShapeList) obj;
+        int listSize = size();
+        for (int i = 0; i < listSize; i++) {
+           if (!ShapeUtilities.equal((Shape) get(i), (Shape) that.get(i))) {
+               return false;
+           }
+        }
+        return true;
-        return super.equals(obj);
 
     }
 

```

## Patch #4 DynaMoth 

org.jfree.chart.util.AbstractObjectList:194

```Java
--- /tmp/chart_6_Brutpol/source/org/jfree/chart/util/AbstractObjectList.java
+++ /tmp/chart_6_Brutpol/source/org/jfree/chart/util/AbstractObjectList.java
@@ -193,3 +193,5 @@
            if (!ObjectUtilities.equal(get(i), other.get(i))) {
-               return false;
+               if ((i + 1) != (this.DEFAULT_INITIAL_CAPACITY / listSize)) {
+                   return false;
+               }
            }

```
Execution time: 0:02:28.420000

Grid5000 node: graphene-82.nancy.grid5000.fr


# Chart 9


## Human Patch 

```Java
diff --git a/source/org/jfree/data/time/TimeSeries.java b/source/org/jfree/data/time/TimeSeries.java
index d16d447..4067e3e 100644
--- a/source/org/jfree/data/time/TimeSeries.java
+++ b/source/org/jfree/data/time/TimeSeries.java
@@ -941,7 +941,7 @@ public class TimeSeries extends Series implements Cloneable, Serializable {
             endIndex = -(endIndex + 1); // this is first item AFTER end period
             endIndex = endIndex - 1;    // so this is last item BEFORE end
         }
+        if ((endIndex < 0)  || (endIndex < startIndex)) {
-        if (endIndex < 0) {
             emptyRange = true;
         }
         if (emptyRange) {

```

## Patch #5 DynaMoth 

org.jfree.data.time.TimeSeries:947

```Java
--- /tmp/chart_9_Brutpol/source/org/jfree/data/time/TimeSeries.java
+++ /tmp/chart_9_Brutpol/source/org/jfree/data/time/TimeSeries.java
@@ -946,3 +946,3 @@
         }
-        if (emptyRange) {
+        if (endIndex < startIndex) {
             TimeSeries copy = (TimeSeries) super.clone();

```
Execution time: 0:01:00.939000

Grid5000 node: griffon-22.nancy.grid5000.fr


# Chart 13


## Human Patch 

```Java
diff --git a/source/org/jfree/chart/block/BorderArrangement.java b/source/org/jfree/chart/block/BorderArrangement.java
index b3ae54b..730aeb3 100644
--- a/source/org/jfree/chart/block/BorderArrangement.java
+++ b/source/org/jfree/chart/block/BorderArrangement.java
@@ -452,7 +452,7 @@ public class BorderArrangement implements Arrangement, Serializable {
         h[3] = h[2];
         if (this.rightBlock != null) {
             RectangleConstraint c4 = new RectangleConstraint(0.0,
+                    new Range(0.0, Math.max(constraint.getWidth() - w[2], 0.0)),
-                    new Range(0.0, constraint.getWidth() - w[2]),
                     LengthConstraintType.RANGE, h[2], null,
                     LengthConstraintType.FIXED);
             Size2D size = this.rightBlock.arrange(g2, c4);

```

## Patch #6 DynaMoth 

org.jfree.chart.block.BorderArrangement:453

```Java
--- /tmp/chart_13_Brutpol/source/org/jfree/chart/block/BorderArrangement.java
+++ /tmp/chart_13_Brutpol/source/org/jfree/chart/block/BorderArrangement.java
@@ -452,9 +452,11 @@
         h[3] = h[2];
-        if (this.rightBlock != null) {
-            RectangleConstraint c4 = new RectangleConstraint(0.0,
-                    new Range(0.0, constraint.getWidth() - w[2]),
-                    LengthConstraintType.RANGE, h[2], null,
-                    LengthConstraintType.FIXED);
-            Size2D size = this.rightBlock.arrange(g2, c4);
-            w[3] = size.width;
+        if (this.equals((java.lang.Object) container)) {
+            if (this.rightBlock != null) {
+                RectangleConstraint c4 = new RectangleConstraint(0.0,
+                new Range(0.0, constraint.getWidth() - w[2]),
+                LengthConstraintType.RANGE, h[2], null,
+                LengthConstraintType.FIXED);
+                Size2D size = this.rightBlock.arrange(g2, c4);
+                w[3] = size.width;
+            }
         }

```
Execution time: 0:01:06.533000

Grid5000 node: griffon-19.nancy.grid5000.fr


# Chart 15


## Human Patch 

```Java
diff --git a/source/org/jfree/chart/plot/PiePlot.java b/source/org/jfree/chart/plot/PiePlot.java
index 7c3cd04..f575e72 100644
--- a/source/org/jfree/chart/plot/PiePlot.java
+++ b/source/org/jfree/chart/plot/PiePlot.java
@@ -1375,9 +1375,6 @@ public class PiePlot extends Plot implements Cloneable, Serializable {
      * @return The percent.
      */
     public double getMaximumExplodePercent() {
+        if (this.dataset == null) {
+            return 0.0;
+        }
         double result = 0.0;
         Iterator iterator = this.dataset.getKeys().iterator();
         while (iterator.hasNext()) {
@@ -2051,10 +2048,8 @@ public class PiePlot extends Plot implements Cloneable, Serializable {
      
         PiePlotState state = new PiePlotState(info);
         state.setPassesRequired(2);
+        if (this.dataset != null) {
             state.setTotal(DatasetUtilities.calculatePieDatasetTotal(
                     plot.getDataset()));
+        }
         state.setLatestAngle(plot.getStartAngle());
         return state;
         

```

## Patch #7 DynaMoth 

org.jfree.chart.JFreeChart:1219

```Java
--- /tmp/chart_15_Brutpol/source/org/jfree/chart/JFreeChart.java
+++ /tmp/chart_15_Brutpol/source/org/jfree/chart/JFreeChart.java
@@ -1218,3 +1218,5 @@
         }
-        this.plot.draw(g2, plotArea, anchor, null, plotInfo);
+        if (this.borderVisible) {
+            this.plot.draw(g2, plotArea, anchor, null, plotInfo);
+        }
 

```
Execution time: 0:04:38.801000

Grid5000 node: griffon-19.nancy.grid5000.fr


# Chart 17


## Human Patch 

```Java
diff --git a/source/org/jfree/data/time/TimeSeries.java b/source/org/jfree/data/time/TimeSeries.java
index 907fc20..ffd1dff 100644
--- a/source/org/jfree/data/time/TimeSeries.java
+++ b/source/org/jfree/data/time/TimeSeries.java
@@ -854,8 +854,7 @@ public class TimeSeries extends Series implements Cloneable, Serializable {
      *         subclasses may differ.
      */
     public Object clone() throws CloneNotSupportedException {
+        TimeSeries clone = (TimeSeries) super.clone();
+        clone.data = (List) ObjectUtilities.deepClone(this.data);
-        Object clone = createCopy(0, getItemCount() - 1);
         return clone;
     }
 

```

## Patch #8 DynaMoth 

org.jfree.data.time.TimeSeries:880

```Java
--- /tmp/chart_17_Brutpol/source/org/jfree/data/time/TimeSeries.java
+++ /tmp/chart_17_Brutpol/source/org/jfree/data/time/TimeSeries.java
@@ -879,3 +879,5 @@
         if (end < start) {
-            throw new IllegalArgumentException("Requires start <= end.");
+            if (end == 0) {
+                throw new IllegalArgumentException("Requires start <= end.");
+            }
         }

```
Execution time: 0:00:51.469000

Grid5000 node: griffon-28.nancy.grid5000.fr


# Chart 21


## Human Patch 

```Java
diff --git a/source/org/jfree/data/statistics/DefaultBoxAndWhiskerCategoryDataset.java b/source/org/jfree/data/statistics/DefaultBoxAndWhiskerCategoryDataset.java
index a973da9..7fd86f4 100644
--- a/source/org/jfree/data/statistics/DefaultBoxAndWhiskerCategoryDataset.java
+++ b/source/org/jfree/data/statistics/DefaultBoxAndWhiskerCategoryDataset.java
@@ -154,7 +154,6 @@ public class DefaultBoxAndWhiskerCategoryDataset extends AbstractDataset
                 && this.minimumRangeValueColumn == c))  {
             updateBounds();
         }
+        else {
         
             double minval = Double.NaN;
             if (item.getMinOutlier() != null) {
@@ -186,7 +185,6 @@ public class DefaultBoxAndWhiskerCategoryDataset extends AbstractDataset
                 this.minimumRangeValueRow = r;
                 this.minimumRangeValueColumn = c;
             }
+        }
         
         this.rangeBounds = new Range(this.minimumRangeValue,
               this.maximumRangeValue);
@@ -740,44 +738,7 @@ public class DefaultBoxAndWhiskerCategoryDataset extends AbstractDataset
      */
     private void updateBounds() {
         this.minimumRangeValue = Double.NaN;
+        this.minimumRangeValueRow = -1;
+        this.minimumRangeValueColumn = -1;
         this.maximumRangeValue = Double.NaN;
+        this.maximumRangeValueRow = -1;
+        this.maximumRangeValueColumn = -1;
+        int rowCount = getRowCount();
+        int columnCount = getColumnCount();
+        for (int r = 0; r < rowCount; r++) {
+            for (int c = 0; c < columnCount; c++) {
+                BoxAndWhiskerItem item = getItem(r, c);
+                if (item != null) {
+                    Number min = item.getMinOutlier();
+                    if (min != null) {
+                        double minv = min.doubleValue();
+                        if (!Double.isNaN(minv)) {
+                            if (minv < this.minimumRangeValue || Double.isNaN(
+                                    this.minimumRangeValue)) {
+                                this.minimumRangeValue = minv;
+                                this.minimumRangeValueRow = r;
+                                this.minimumRangeValueColumn = c;
+                            }
+                        }
+                    }
+                    Number max = item.getMaxOutlier();
+                    if (max != null) {
+                        double maxv = max.doubleValue();
+                        if (!Double.isNaN(maxv)) {
+                            if (maxv > this.maximumRangeValue || Double.isNaN(
+                                    this.maximumRangeValue)) {
+                                this.maximumRangeValue = maxv;
+                                this.maximumRangeValueRow = r;
+                                this.maximumRangeValueColumn = c;
+                            }
+                        }
+                    }
+                }
+            }
+        }
     }
     
     /**

```

## Patch #9 DynaMoth 

org.jfree.data.Range:335

```Java
--- /tmp/chart_21_Brutpol/source/org/jfree/data/Range.java
+++ /tmp/chart_21_Brutpol/source/org/jfree/data/Range.java
@@ -334,3 +334,5 @@
         if (!(this.lower == range.lower)) {
-            return false;
+            if (range.getLowerBound() == range.getLength()) {
+                return false;
+            }
         }

```
Execution time: 0:00:37.980000

Grid5000 node: graphene-46.nancy.grid5000.fr


# Chart 25


## Human Patch 

```Java
diff --git a/source/org/jfree/chart/renderer/category/StatisticalBarRenderer.java b/source/org/jfree/chart/renderer/category/StatisticalBarRenderer.java
index 6ff5e36..ab65ba3 100644
--- a/source/org/jfree/chart/renderer/category/StatisticalBarRenderer.java
+++ b/source/org/jfree/chart/renderer/category/StatisticalBarRenderer.java
@@ -256,9 +256,6 @@ public class StatisticalBarRenderer extends BarRenderer
 
         // BAR X
         Number meanValue = dataset.getMeanValue(row, column);
+        if (meanValue == null) {
+            return;
+        }
 
         double value = meanValue.doubleValue();
         double base = 0.0;
@@ -315,9 +312,7 @@ public class StatisticalBarRenderer extends BarRenderer
         }
 
         // standard deviation lines
+        Number n = dataset.getStdDevValue(row, column);
+        if (n != null) {
+            double valueDelta = n.doubleValue();
-            double valueDelta = dataset.getStdDevValue(row, column).doubleValue();
             double highVal = rangeAxis.valueToJava2D(meanValue.doubleValue() 
                     + valueDelta, dataArea, yAxisLocation);
             double lowVal = rangeAxis.valueToJava2D(meanValue.doubleValue() 
@@ -346,7 +341,6 @@ public class StatisticalBarRenderer extends BarRenderer
             line = new Line2D.Double(lowVal, rectY + rectHeight * 0.25, 
                                      lowVal, rectY + rectHeight * 0.75);
             g2.draw(line);
+        }
         
         CategoryItemLabelGenerator generator = getItemLabelGenerator(row, 
                 column);
@@ -406,9 +400,6 @@ public class StatisticalBarRenderer extends BarRenderer
 
         // BAR Y
         Number meanValue = dataset.getMeanValue(row, column);
+        if (meanValue == null) {
+            return;
+        }
 
         double value = meanValue.doubleValue();
         double base = 0.0;
@@ -465,9 +456,7 @@ public class StatisticalBarRenderer extends BarRenderer
         }
 
         // standard deviation lines
+        Number n = dataset.getStdDevValue(row, column);
+        if (n != null) {
+            double valueDelta = n.doubleValue();
-            double valueDelta = dataset.getStdDevValue(row, column).doubleValue();
             double highVal = rangeAxis.valueToJava2D(meanValue.doubleValue() 
                     + valueDelta, dataArea, yAxisLocation);
             double lowVal = rangeAxis.valueToJava2D(meanValue.doubleValue() 
@@ -495,7 +484,6 @@ public class StatisticalBarRenderer extends BarRenderer
             line = new Line2D.Double(rectX + rectWidth / 2.0d - 5.0d, lowVal,
                                      rectX + rectWidth / 2.0d + 5.0d, lowVal);
             g2.draw(line);
+        }
         
         CategoryItemLabelGenerator generator = getItemLabelGenerator(row, 
                 column);

```

## Patch #10 DynaMoth 

org.jfree.chart.renderer.category.StatisticalBarRenderer:207

```Java
--- /tmp/chart_25_Brutpol/source/org/jfree/chart/renderer/category/StatisticalBarRenderer.java
+++ /tmp/chart_25_Brutpol/source/org/jfree/chart/renderer/category/StatisticalBarRenderer.java
@@ -206,10 +206,12 @@
         PlotOrientation orientation = plot.getOrientation();
-        if (orientation == PlotOrientation.HORIZONTAL) {
-            drawHorizontalItem(g2, state, dataArea, plot, domainAxis, 
-                    rangeAxis, statData, row, column);
+        if (this.equals((java.lang.Object) g2)) {
+            if (orientation == PlotOrientation.HORIZONTAL) {
+                drawHorizontalItem(g2, state, dataArea, plot, domainAxis,
+                rangeAxis, statData, row, column);
+            }
+            else if (orientation == PlotOrientation.VERTICAL) {
+                drawVerticalItem(g2, state, dataArea, plot, domainAxis, rangeAxis,
+                statData, row, column);
+            }
         }
-        else if (orientation == PlotOrientation.VERTICAL) {
-            drawVerticalItem(g2, state, dataArea, plot, domainAxis, rangeAxis, 
-                    statData, row, column);
-        }
     }

```
Execution time: 0:01:10.741000

Grid5000 node: griffon-11.nancy.grid5000.fr


# Chart 26


## Human Patch 

```Java
diff --git a/source/org/jfree/chart/axis/Axis.java b/source/org/jfree/chart/axis/Axis.java
index 3f74811..78a6c66 100644
--- a/source/org/jfree/chart/axis/Axis.java
+++ b/source/org/jfree/chart/axis/Axis.java
@@ -1189,13 +1189,11 @@ public abstract class Axis implements Cloneable, Serializable {
         }
         if (plotState != null && hotspot != null) {
             ChartRenderingInfo owner = plotState.getOwner();
+            if (owner != null) {
                 EntityCollection entities = owner.getEntityCollection();
                 if (entities != null) {
                     entities.add(new AxisLabelEntity(this, hotspot, 
                             this.labelToolTip, this.labelURL));
                 }
+            }
         }
         return state;
 

```

## Patch #11 DynaMoth 

org.jfree.chart.plot.CategoryPlot:2538

```Java
--- /tmp/chart_26_Brutpol/source/org/jfree/chart/plot/CategoryPlot.java
+++ /tmp/chart_26_Brutpol/source/org/jfree/chart/plot/CategoryPlot.java
@@ -2537,3 +2537,3 @@
         boolean b2 = (area.getHeight() <= MINIMUM_HEIGHT_TO_DRAW);
-        if (b1 || b2) {
+        if (this.rangeGridlinesVisible) {
             return;

```
Execution time: 0:02:31.793000

Grid5000 node: griffon-20.nancy.grid5000.fr


# Closure 1


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/RemoveUnusedVars.java b/src/com/google/javascript/jscomp/RemoveUnusedVars.java
index 4c84735..dfad51b 100644
--- a/src/com/google/javascript/jscomp/RemoveUnusedVars.java
+++ b/src/com/google/javascript/jscomp/RemoveUnusedVars.java
@@ -376,9 +376,6 @@ class RemoveUnusedVars
     // is removing globals, then it's OK to remove unused function args.
     //
     // See http://code.google.com/p/closure-compiler/issues/detail?id=253
+    if (!removeGlobals) {
+      return;
+    }
 
     Node function = fnScope.getRootNode();
 

```

## Patch #12 DynaMoth 

[com.google.javascript.rhino.Node:1411](https://github.com/google/closure-compiler/blob/9fedb84d9af478d5767af43dc3e0cafacc56f06c/src//com/google/javascript/rhino/Node.java#L1411)

```Java
--- /tmp/closure_1_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_1_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1410,7 +1410,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:04:16.767000

Grid5000 node: griffon-23.nancy.grid5000.fr


# Closure 2


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/TypeCheck.java b/src/com/google/javascript/jscomp/TypeCheck.java
index 96f256d..a0f95db 100644
--- a/src/com/google/javascript/jscomp/TypeCheck.java
+++ b/src/com/google/javascript/jscomp/TypeCheck.java
@@ -1569,13 +1569,9 @@ public class TypeCheck implements NodeTraversal.Callback, CompilerPass {
       ObjectType interfaceType) {
     ObjectType implicitProto = interfaceType.getImplicitPrototype();
     Set<String> currentPropertyNames;
+    if (implicitProto == null) {
       // This can be the case if interfaceType is proxy to a non-existent
       // object (which is a bad type annotation, but shouldn't crash).
+      currentPropertyNames = ImmutableSet.of();
+    } else {
       currentPropertyNames = implicitProto.getOwnPropertyNames();
+    }
     for (String name : currentPropertyNames) {
       ObjectType oType = properties.get(name);
       if (oType != null) {

```

## Patch #13 DynaMoth 

[com.google.javascript.rhino.Node:1411](https://github.com/google/closure-compiler/blob/050922cf8041194a6c68624a24c5ed94c70c2936/src//com/google/javascript/rhino/Node.java#L1411)

```Java
--- /tmp/closure_2_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_2_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1410,7 +1410,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:02:04.867000

Grid5000 node: graphene-127.nancy.grid5000.fr


# Closure 3


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/FlowSensitiveInlineVariables.java b/src/com/google/javascript/jscomp/FlowSensitiveInlineVariables.java
index c46ee7d..a77221a 100644
--- a/src/com/google/javascript/jscomp/FlowSensitiveInlineVariables.java
+++ b/src/com/google/javascript/jscomp/FlowSensitiveInlineVariables.java
@@ -152,7 +152,7 @@ class FlowSensitiveInlineVariables extends AbstractPostOrderCallback
     reachingUses = new MaybeReachingVariableUse(cfg, t.getScope(), compiler);
     reachingUses.analyze();
     for (Candidate c : candidates) {
+      if (c.canInline(t.getScope())) {
-      if (c.canInline()) {
         c.inlineVariable();
 
         // If definition c has dependencies, then inlining it may have
@@ -277,7 +277,7 @@ class FlowSensitiveInlineVariables extends AbstractPostOrderCallback
       return defMetadata.node;
     }
 
+    private boolean canInline(final Scope scope) {
-    private boolean canInline() {
       // Cannot inline a parameter.
       if (getDefCfgNode().isFunction()) {
         return false;
@@ -372,12 +372,6 @@ class FlowSensitiveInlineVariables extends AbstractPostOrderCallback
                   case Token.REGEXP:
                   case Token.NEW:
                     return true;
+                  case Token.NAME:
+                    Var var = scope.getOwnSlot(input.getString());
+                    if (var != null
+                        && var.getParentNode().isCatch()) {
+                      return true;
+                    }
                 }
                 return false;
               }

```

## Patch #14 DynaMoth 

[com.google.javascript.rhino.Node:1411](https://github.com/google/closure-compiler/blob/ee12b8deee9403ff847940a0f19b9e4dbb8555ef/src//com/google/javascript/rhino/Node.java#L1411)

```Java
--- /tmp/closure_3_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_3_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1410,7 +1410,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:05:29.604000

Grid5000 node: griffon-23.nancy.grid5000.fr


# Closure 4


## Human Patch 

```Java
diff --git a/src/com/google/javascript/rhino/jstype/NamedType.java b/src/com/google/javascript/rhino/jstype/NamedType.java
index 06988ab..70142c4 100644
--- a/src/com/google/javascript/rhino/jstype/NamedType.java
+++ b/src/com/google/javascript/rhino/jstype/NamedType.java
@@ -187,7 +187,7 @@ class NamedType extends ProxyObjectType {
     // makes more sense. Now, resolution via registry is first in order to
     // avoid triggering the warnings built into the resolution via properties.
     boolean resolved = resolveViaRegistry(t, enclosing);
+    if (detectInheritanceCycle()) {
-    if (detectImplicitPrototypeCycle()) {
       handleTypeCycle(t);
     }
 
@@ -199,7 +199,7 @@ class NamedType extends ProxyObjectType {
     }
 
     resolveViaProperties(t, enclosing);
+    if (detectInheritanceCycle()) {
-    if (detectImplicitPrototypeCycle()) {
       handleTypeCycle(t);
     }
 

```

## Patch #15 DynaMoth 

[com.google.javascript.rhino.Node:1411](https://github.com/google/closure-compiler/blob/8bc947b2edd63caceb5120b3b2ae88401944ae51/src//com/google/javascript/rhino/Node.java#L1411)

```Java
--- /tmp/closure_4_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_4_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1410,7 +1410,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:02:26.189000

Grid5000 node: graphene-90.nancy.grid5000.fr


# Closure 5


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/InlineObjectLiterals.java b/src/com/google/javascript/jscomp/InlineObjectLiterals.java
index d03988c..2b85d84 100644
--- a/src/com/google/javascript/jscomp/InlineObjectLiterals.java
+++ b/src/com/google/javascript/jscomp/InlineObjectLiterals.java
@@ -173,9 +173,6 @@ class InlineObjectLiterals implements CompilerPass {
 
           // Deleting a property has different semantics from deleting
           // a variable, so deleted properties should not be inlined.
+          if (gramps.isDelProp()) {
+            return false;
+          }
 
           // NOTE(nicksantos): This pass's object-splitting algorithm has
           // a blind spot. It assumes that if a property isn't defined on an

```

## Patch #16 DynaMoth 

[com.google.javascript.rhino.Node:1411](https://github.com/google/closure-compiler/blob/9c91a088c44b970a0dab4a022f8097ae76c30dc2/src//com/google/javascript/rhino/Node.java#L1411)

```Java
--- /tmp/closure_5_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_5_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1410,7 +1410,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:03:02.776000

Grid5000 node: griffon-2.nancy.grid5000.fr


# Closure 6


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/TypeValidator.java b/src/com/google/javascript/jscomp/TypeValidator.java
index 12ce5b3..8cdb02a 100644
--- a/src/com/google/javascript/jscomp/TypeValidator.java
+++ b/src/com/google/javascript/jscomp/TypeValidator.java
@@ -363,6 +363,9 @@ class TypeValidator {
       JSType leftType, Node owner, String propName) {
     // The NoType check is a hack to make typedefs work OK.
     if (!leftType.isNoType() && !rightType.canAssignTo(leftType)) {
-      if ((leftType.isConstructor() || leftType.isEnumType()) && (rightType.isConstructor() || rightType.isEnumType())) {
-        registerMismatch(rightType, leftType, null);
-      } else {
       // Do not type-check interface methods, because we expect that
       // they will have dummy implementations that do not match the type
       // annotations.
@@ -379,6 +382,7 @@ class TypeValidator {
           "assignment to property " + propName + " of " +
           getReadableJSTypeName(owner, true),
           rightType, leftType);
-      }
       return false;
     }
     return true;
@@ -398,7 +402,11 @@ class TypeValidator {
   boolean expectCanAssignTo(NodeTraversal t, Node n, JSType rightType,
       JSType leftType, String msg) {
     if (!rightType.canAssignTo(leftType)) {
-      if ((leftType.isConstructor() || leftType.isEnumType()) && (rightType.isConstructor() || rightType.isEnumType())) {
-        registerMismatch(rightType, leftType, null);
-      } else {
       mismatch(t, n, msg, rightType, leftType);
-      }
       return false;
     }
     return true;

```

## Patch #17 DynaMoth 

[com.google.javascript.rhino.Node:1411](https://github.com/google/closure-compiler/blob/5fafd9b0bbe59fa4de3a683e8de7a8ce07b88067/src//com/google/javascript/rhino/Node.java#L1411)

```Java
--- /tmp/closure_6_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_6_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1410,7 +1410,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:02:22.236000

Grid5000 node: graphene-70.nancy.grid5000.fr


# Closure 7


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/type/ChainableReverseAbstractInterpreter.java b/src/com/google/javascript/jscomp/type/ChainableReverseAbstractInterpreter.java
index fa7d47d..0afabc8 100644
--- a/src/com/google/javascript/jscomp/type/ChainableReverseAbstractInterpreter.java
+++ b/src/com/google/javascript/jscomp/type/ChainableReverseAbstractInterpreter.java
@@ -610,13 +610,9 @@ public abstract class ChainableReverseAbstractInterpreter
     public JSType caseObjectType(ObjectType type) {
       if (value.equals("function")) {
         JSType ctorType = getNativeType(U2U_CONSTRUCTOR_TYPE);
+        if (resultEqualsValue) {
-        return resultEqualsValue && ctorType.isSubtype(type) ? ctorType : null;
           // Objects are restricted to "Function", subtypes are left
+          return ctorType.getGreatestSubtype(type);
+        } else {
           // Only filter out subtypes of "function"
+          return type.isSubtype(ctorType) ? null : type;
+        }
       }
       return matchesExpectation("object") ? type : null;
     }

```

## Patch #18 DynaMoth 

[com.google.javascript.rhino.Node:1411](https://github.com/google/closure-compiler/blob/cb942ca0b4d8dc8a3ee23aaa66ce62a17cb3e4d1/src//com/google/javascript/rhino/Node.java#L1411)

```Java
--- /tmp/closure_7_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_7_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1410,7 +1410,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:02:05.779000

Grid5000 node: graphene-114.nancy.grid5000.fr


## Patch #19 Nopol 

[com.google.javascript.rhino.testing.Asserts:103](https://github.com/google/closure-compiler/blob/cb942ca0b4d8dc8a3ee23aaa66ce62a17cb3e4d1/src//com/google/javascript/rhino/testing/Asserts.java#L103)

```Java
--- /tmp/closure_7_Nopol/src/com/google/javascript/rhino/testing/Asserts.java
+++ /tmp/closure_7_Nopol/src/com/google/javascript/rhino/testing/Asserts.java
@@ -102,3 +102,3 @@
         (a == null) == (b == null));
-    if (a == null) {
+    if (message!=null) {
       return;

```
Execution time: 0:08:59.201000

Grid5000 node: griffon-7.nancy.grid5000.fr


# Closure 8


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/CollapseVariableDeclarations.java b/src/com/google/javascript/jscomp/CollapseVariableDeclarations.java
index e0466ea..f2d36f5 100644
--- a/src/com/google/javascript/jscomp/CollapseVariableDeclarations.java
+++ b/src/com/google/javascript/jscomp/CollapseVariableDeclarations.java
@@ -201,14 +201,10 @@ class CollapseVariableDeclarations implements CompilerPass {
       Var var = s.getVar(lhs.getString());
       return var != null
           && var.getScope() == s
+          && !isNamedParameter(var)
           && !blacklistedVars.contains(var);
     }
   }
 
+  private boolean isNamedParameter(Var v) {
+    return v.getParentNode().isParamList();
+  }
 
   private void applyCollapses() {
     for (Collapse collapse : collapses) {

```

## Patch #20 DynaMoth 

[com.google.javascript.rhino.Node:1411](https://github.com/google/closure-compiler/blob/a6fe1aed66ed1fedf69ff4077aa2c8608e0d5500/src//com/google/javascript/rhino/Node.java#L1411)

```Java
--- /tmp/closure_8_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_8_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1410,7 +1410,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:02:51.585000

Grid5000 node: griffon-23.nancy.grid5000.fr


# Closure 9


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/ProcessCommonJSModules.java b/src/com/google/javascript/jscomp/ProcessCommonJSModules.java
index 6777957..2987bda 100644
--- a/src/com/google/javascript/jscomp/ProcessCommonJSModules.java
+++ b/src/com/google/javascript/jscomp/ProcessCommonJSModules.java
@@ -116,7 +116,6 @@ public class ProcessCommonJSModules implements CompilerPass {
   private String normalizeSourceName(String filename) {
     // The DOS command shell will normalize "/" to "\", so we have to
     // wrestle it back.
+    filename = filename.replace("\\", "/");
 
     if (filename.indexOf(filenamePrefix) == 0) {
       filename = filename.substring(filenamePrefix.length());
@@ -181,7 +180,7 @@ public class ProcessCommonJSModules implements CompilerPass {
       Preconditions.checkArgument(scriptNodeCount == 1,
           "ProcessCommonJSModules supports only one invocation per " +
           "CompilerInput / script node");
+      String moduleName = guessCJSModuleName(script.getSourceFileName());
-      String moduleName = guessCJSModuleName(normalizeSourceName(script.getSourceFileName()));
       script.addChildToFront(IR.var(IR.name(moduleName), IR.objectlit())
           .copyInformationFromForTree(script));
       if (reportDependencies) {

```

## Patch #21 DynaMoth 

[com.google.javascript.rhino.Node:1411](https://github.com/google/closure-compiler/blob/ec5ad49f7d9cff90f5a8e2b027ac8dfa163ecb74/src//com/google/javascript/rhino/Node.java#L1411)

```Java
--- /tmp/closure_9_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_9_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1410,7 +1410,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:02:03.435000

Grid5000 node: graphene-45.nancy.grid5000.fr


# Closure 10


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/NodeUtil.java b/src/com/google/javascript/jscomp/NodeUtil.java
index eeb12d4..eef2792 100644
--- a/src/com/google/javascript/jscomp/NodeUtil.java
+++ b/src/com/google/javascript/jscomp/NodeUtil.java
@@ -1414,7 +1414,7 @@ public final class NodeUtil {
 
   static boolean mayBeString(Node n, boolean recurse) {
     if (recurse) {
+      return anyResultsMatch(n, MAY_BE_STRING_PREDICATE);
-      return allResultsMatch(n, MAY_BE_STRING_PREDICATE);
     } else {
       return mayBeStringHelper(n);
     }

```

## Patch #22 DynaMoth 

[com.google.javascript.rhino.Node:1433](https://github.com/google/closure-compiler/blob/bb61f738f57cb77c0a75b3469a6201e620043bbf/src//com/google/javascript/rhino/Node.java#L1433)

```Java
--- /tmp/closure_10_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_10_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1432,7 +1432,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:05:08.287000

Grid5000 node: griffon-23.nancy.grid5000.fr


# Closure 11


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/TypeCheck.java b/src/com/google/javascript/jscomp/TypeCheck.java
index e428dfa..ae8a320 100644
--- a/src/com/google/javascript/jscomp/TypeCheck.java
+++ b/src/com/google/javascript/jscomp/TypeCheck.java
@@ -1311,6 +1311,8 @@ public class TypeCheck implements NodeTraversal.Callback, CompilerPass {
 
     if (childType.isDict()) {
       report(t, property, TypeValidator.ILLEGAL_PROPERTY_ACCESS, "'.'", "dict");
-    } else if (n.getJSType() != null && parent.isAssign()) {
-      return;
     } else if (validator.expectNotNullOrUndefined(t, n, childType,
         "No properties on this expression", getNativeType(OBJECT_TYPE))) {
       checkPropertyAccess(childType, property.getString(), t, n);

```

## Patch #23 DynaMoth 

[com.google.javascript.rhino.Node:1433](https://github.com/google/closure-compiler/blob/a5933df31ffb7e095ee77393606dfaf5dc47b7ee/src//com/google/javascript/rhino/Node.java#L1433)

```Java
--- /tmp/closure_11_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_11_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1432,7 +1432,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:02:04.248000

Grid5000 node: graphene-49.nancy.grid5000.fr


# Closure 12


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/MaybeReachingVariableUse.java b/src/com/google/javascript/jscomp/MaybeReachingVariableUse.java
index 8361ac9..add5c66 100644
--- a/src/com/google/javascript/jscomp/MaybeReachingVariableUse.java
+++ b/src/com/google/javascript/jscomp/MaybeReachingVariableUse.java
@@ -157,12 +157,6 @@ class MaybeReachingVariableUse extends
   }
 
   private boolean hasExceptionHandler(Node cfgNode) {
+    List<DiGraphEdge<Node, Branch>> branchEdges = getCfg().getOutEdges(cfgNode);
+    for (DiGraphEdge<Node, Branch> edge : branchEdges) {
+      if (edge.getValue() == Branch.ON_EX) {
+        return true;
+      }
+    }
     return false;
   }
 

```

## Patch #24 DynaMoth 

[com.google.javascript.rhino.Node:1433](https://github.com/google/closure-compiler/blob/41988e1cd05e8ced1bebffba6fc0801aaefc2960/src//com/google/javascript/rhino/Node.java#L1433)

```Java
--- /tmp/closure_12_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_12_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1432,7 +1432,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:13:19.082000

Grid5000 node: griffon-23.nancy.grid5000.fr


# Closure 13


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/PeepholeOptimizationsPass.java b/src/com/google/javascript/jscomp/PeepholeOptimizationsPass.java
index eeeb6a9..b51c088 100644
--- a/src/com/google/javascript/jscomp/PeepholeOptimizationsPass.java
+++ b/src/com/google/javascript/jscomp/PeepholeOptimizationsPass.java
@@ -123,8 +123,8 @@ class PeepholeOptimizationsPass
     do {
       Node c = node.getFirstChild();
       while(c != null) {
+        Node next = c.getNext();
         traverse(c);
-        Node next = c.getNext();
         c = next;
       }
 

```

## Patch #25 DynaMoth 

[com.google.javascript.rhino.Node:1430](https://github.com/google/closure-compiler/blob/adf9f9ff392d93e627ae31214d4e32848bc3de05/src//com/google/javascript/rhino/Node.java#L1430)

```Java
--- /tmp/closure_13_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_13_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1429,7 +1429,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:04:37.632000

Grid5000 node: griffon-12.nancy.grid5000.fr


# Closure 14


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/ControlFlowAnalysis.java b/src/com/google/javascript/jscomp/ControlFlowAnalysis.java
index 980deff..5c6927f 100644
--- a/src/com/google/javascript/jscomp/ControlFlowAnalysis.java
+++ b/src/com/google/javascript/jscomp/ControlFlowAnalysis.java
@@ -764,7 +764,7 @@ final class ControlFlowAnalysis implements Callback, CompilerPass {
         } else if (parent.getLastChild() == node){
           if (cfa != null) {
             for (Node finallyNode : cfa.finallyMap.get(parent)) {
+              cfa.createEdge(fromNode, Branch.ON_EX, finallyNode);
-              cfa.createEdge(fromNode, Branch.UNCOND, finallyNode);
             }
           }
           return computeFollowNode(fromNode, parent, cfa);

```

## Patch #26 DynaMoth 

[com.google.javascript.rhino.Node:1430](https://github.com/google/closure-compiler/blob/d97570fa45b9cc20a4cb094bdddc63d4556c2c49/src//com/google/javascript/rhino/Node.java#L1430)

```Java
--- /tmp/closure_14_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_14_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1429,7 +1429,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:02:07.299000

Grid5000 node: graphene-105.nancy.grid5000.fr


## Patch #27 Nopol 

[com.google.javascript.jscomp.ControlFlowAnalysis:664](https://github.com/google/closure-compiler/blob/d97570fa45b9cc20a4cb094bdddc63d4556c2c49/src//com/google/javascript/jscomp/ControlFlowAnalysis.java#L664)

```Java
--- /tmp/closure_14_Nopol/src/com/google/javascript/jscomp/ControlFlowAnalysis.java
+++ /tmp/closure_14_Nopol/src/com/google/javascript/jscomp/ControlFlowAnalysis.java
@@ -663,3 +663,5 @@
     } else {
-      finallyMap.put(lastJump, null);
+      if (com.google.javascript.jscomp.ControlFlowAnalysis.this.shouldTraverseFunctions) {
+        finallyMap.put(lastJump, null);
+      }
     }

```
Execution time: 0:03:23.835000

Grid5000 node: griffon-29.nancy.grid5000.fr


# Closure 15


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/FlowSensitiveInlineVariables.java b/src/com/google/javascript/jscomp/FlowSensitiveInlineVariables.java
index 20196bf..a8e92fc 100644
--- a/src/com/google/javascript/jscomp/FlowSensitiveInlineVariables.java
+++ b/src/com/google/javascript/jscomp/FlowSensitiveInlineVariables.java
@@ -99,9 +99,6 @@ class FlowSensitiveInlineVariables extends AbstractPostOrderCallback
           return true;
         }
 
+        if (n.isDelProp()) {
+          return true;
+        }
 
         for (Node c = n.getFirstChild(); c != null; c = c.getNext()) {
           if (!ControlFlowGraph.isEnteringNewCfgNode(c) && apply(c)) {

```

## Patch #28 DynaMoth 

[com.google.javascript.rhino.Node:1430](https://github.com/google/closure-compiler/blob/0eaf00955843010256ddf10e9475a0a16b208d88/src//com/google/javascript/rhino/Node.java#L1430)

```Java
--- /tmp/closure_15_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_15_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1429,7 +1429,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:02:06.319000

Grid5000 node: graphene-111.nancy.grid5000.fr


## Patch #29 Nopol 

[com.google.javascript.rhino.Node:1430](https://github.com/google/closure-compiler/blob/0eaf00955843010256ddf10e9475a0a16b208d88/src//com/google/javascript/rhino/Node.java#L1430)

```Java
--- /tmp/closure_15_Nopol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_15_Nopol/src/com/google/javascript/rhino/Node.java
@@ -1429,7 +1429,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (com.google.javascript.rhino.Node.this.type < 32) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:07:49.170000

Grid5000 node: griffon-58.nancy.grid5000.fr


# Closure 16


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/ScopedAliases.java b/src/com/google/javascript/jscomp/ScopedAliases.java
index e2f0538..26fb230 100644
--- a/src/com/google/javascript/jscomp/ScopedAliases.java
+++ b/src/com/google/javascript/jscomp/ScopedAliases.java
@@ -167,23 +167,17 @@ class ScopedAliases implements HotSwapCompilerPass {
 
   private class AliasedTypeNode implements AliasUsage {
     private final Node typeReference;
+    private final Node aliasDefinition;
     private final String aliasName;
 
+    AliasedTypeNode(Node typeReference, Node aliasDefinition,
-    AliasedTypeNode(Node typeReference,
         String aliasName) {
       this.typeReference = typeReference;
+      this.aliasDefinition = aliasDefinition;
       this.aliasName = aliasName;
     }
 
     @Override
     public void applyAlias() {
+      String typeName = typeReference.getString();
+      String aliasExpanded =
+          Preconditions.checkNotNull(aliasDefinition.getQualifiedName());
+      Preconditions.checkState(typeName.startsWith(aliasName));
+      typeReference.setString(typeName.replaceFirst(aliasName, aliasExpanded));
-      typeReference.setString(aliasName);
     }
   }
 
@@ -471,7 +465,7 @@ class ScopedAliases implements HotSwapCompilerPass {
         Var aliasVar = aliases.get(baseName);
         if (aliasVar != null) {
           Node aliasedNode = aliasVar.getInitialValue();
+          aliasUsages.add(new AliasedTypeNode(typeNode, aliasedNode, baseName));
-          aliasUsages.add(new AliasedTypeNode(typeNode, aliasedNode.getQualifiedName() + name.substring(endIndex)));
         }
       }
 

```

## Patch #30 DynaMoth 

[com.google.javascript.rhino.Node:1430](https://github.com/google/closure-compiler/blob/ce38d60d28faa4342337c95030a21d8512b796f5/src//com/google/javascript/rhino/Node.java#L1430)

```Java
--- /tmp/closure_16_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_16_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1429,7 +1429,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:03:58.337000

Grid5000 node: griffon-12.nancy.grid5000.fr


# Closure 17


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/TypedScopeCreator.java b/src/com/google/javascript/jscomp/TypedScopeCreator.java
index 8bc7bda..efaba2c 100644
--- a/src/com/google/javascript/jscomp/TypedScopeCreator.java
+++ b/src/com/google/javascript/jscomp/TypedScopeCreator.java
@@ -1288,12 +1288,8 @@ final class TypedScopeCreator implements ScopeCreator {
           if (info.isConstant()) {
             JSType knownType = null;
             if (rValue != null) {
+              JSDocInfo rValueInfo = rValue.getJSDocInfo();
+              if (rValueInfo != null && rValueInfo.hasType()) {
-              if (rValue.getJSType() != null && !rValue.getJSType().isUnknownType()) {
                 // If rValue has a type-cast, we use the type in the type-cast.
+                return rValueInfo.getType().evaluate(scope, typeRegistry);
+              } else if (rValue.getJSType() != null
+                  && !rValue.getJSType().isUnknownType()) {
                 // If rValue's type was already computed during scope creation,
                 // then we can safely use that.
                 return rValue.getJSType();

```

## Patch #31 DynaMoth 

[com.google.javascript.jscomp.TypedScopeCreator$AbstractScopeBuilder:1291](https://github.com/google/closure-compiler/blob/262f8f28fb1654d728431370294682ad1002367d/src//com/google/javascript/jscomp/TypedScopeCreator$AbstractScopeBuilder.java#L1291)

```Java
--- /tmp/closure_17_Brutpol/src/com/google/javascript/jscomp/TypedScopeCreator.java
+++ /tmp/closure_17_Brutpol/src/com/google/javascript/jscomp/TypedScopeCreator.java
@@ -1290,3 +1290,3 @@
             if (rValue != null) {
-              if (rValue.getJSType() != null && !rValue.getJSType().isUnknownType()) {
+              if (lValue.getIndexOfChild((com.google.javascript.rhino.Node) rValue) == rValue.getChildCount()) {
                 // If rValue has a type-cast, we use the type in the type-cast.
@@ -1303,6 +1303,6 @@
                 boolean namesMatch = firstClause.isName()
-                    && lValue.isName()
-                    && firstClause.getString().equals(lValue.getString());
+                && lValue.isName()
+                && firstClause.getString().equals(lValue.getString());
                 if (namesMatch && secondClause.getJSType() != null
-                    && !secondClause.getJSType().isUnknownType()) {
+                && !secondClause.getJSType().isUnknownType()) {
                   return secondClause.getJSType();

```
Execution time: 0:04:09.632000

Grid5000 node: griffon-22.nancy.grid5000.fr


# Closure 18


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/Compiler.java b/src/com/google/javascript/jscomp/Compiler.java
index 3756b99..8898f77 100644
--- a/src/com/google/javascript/jscomp/Compiler.java
+++ b/src/com/google/javascript/jscomp/Compiler.java
@@ -1285,7 +1285,7 @@ public class Compiler extends AbstractCompiler {
 
       // Check if the sources need to be re-ordered.
       boolean staleInputs = false;
+      if (options.dependencyOptions.needsManagement()) {
-      if (options.dependencyOptions.needsManagement() && options.closurePass) {
         for (CompilerInput input : inputs) {
           // Forward-declare all the provided types, so that they
           // are not flagged even if they are dropped from the process.

```

## Patch #32 DynaMoth 

[com.google.javascript.rhino.Node:1430](https://github.com/google/closure-compiler/blob/7716527b0932b832ca6ac9c1551a93ae42c44687/src//com/google/javascript/rhino/Node.java#L1430)

```Java
--- /tmp/closure_18_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_18_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1429,7 +1429,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:02:46.838000

Grid5000 node: griffon-12.nancy.grid5000.fr


# Closure 19


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/type/ChainableReverseAbstractInterpreter.java b/src/com/google/javascript/jscomp/type/ChainableReverseAbstractInterpreter.java
index 752e04f..0345c85 100644
--- a/src/com/google/javascript/jscomp/type/ChainableReverseAbstractInterpreter.java
+++ b/src/com/google/javascript/jscomp/type/ChainableReverseAbstractInterpreter.java
@@ -169,9 +169,7 @@ public abstract class ChainableReverseAbstractInterpreter
         scope.inferQualifiedSlot(node, qualifiedName, origType, type);
         break;
 
+      case Token.THIS:
         // "this" references aren't currently modeled in the CFG.
+        break;
 
       default:
         throw new IllegalArgumentException("Node cannot be refined. \n" +

```

## Patch #33 DynaMoth 

[com.google.javascript.jscomp.type.ClosureReverseAbstractInterpreter:239](https://github.com/google/closure-compiler/blob/32b5c97666e817a1a7808571fd17e1e5cb80da18/src//com/google/javascript/jscomp/type/ClosureReverseAbstractInterpreter.java#L239)

```Java
--- /tmp/closure_19_Brutpol/src/com/google/javascript/jscomp/type/ClosureReverseAbstractInterpreter.java
+++ /tmp/closure_19_Brutpol/src/com/google/javascript/jscomp/type/ClosureReverseAbstractInterpreter.java
@@ -238,3 +238,5 @@
       FlowScope informed = blindScope.createChildFlowScope();
-      declareNameInScope(informed, parameter, type);
+      if (parameter.hasChildren() || parameter.isUnscopedQualifiedName()) {
+        declareNameInScope(informed, parameter, type);
+      }
       return informed;

```
Execution time: 0:04:39.815000

Grid5000 node: griffon-14.nancy.grid5000.fr


# Closure 20


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/PeepholeSubstituteAlternateSyntax.java b/src/com/google/javascript/jscomp/PeepholeSubstituteAlternateSyntax.java
index 86521bd..bfa1707 100644
--- a/src/com/google/javascript/jscomp/PeepholeSubstituteAlternateSyntax.java
+++ b/src/com/google/javascript/jscomp/PeepholeSubstituteAlternateSyntax.java
@@ -217,8 +217,7 @@ class PeepholeSubstituteAlternateSyntax
       // slightly different semantics than '' + (a). See
       // http://code.google.com/p/closure-compiler/issues/detail?id=759
       Node value = callTarget.getNext();
+      if (value != null && value.getNext() == null &&
+          NodeUtil.isImmutableValue(value)) {
-      if (value != null) {
         Node addition = IR.add(
             IR.string("").srcref(callTarget),
             value.detachFromParent());

```

## Patch #34 DynaMoth 

[com.google.javascript.rhino.Node:1430](https://github.com/google/closure-compiler/blob/adb216dd387359923170fd7bdba64e7818de967a/src//com/google/javascript/rhino/Node.java#L1430)

```Java
--- /tmp/closure_20_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_20_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1429,7 +1429,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:03:01.119000

Grid5000 node: griffon-12.nancy.grid5000.fr


# Closure 21


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/CheckSideEffects.java b/src/com/google/javascript/jscomp/CheckSideEffects.java
index 722d225..0d1e95a 100644
--- a/src/com/google/javascript/jscomp/CheckSideEffects.java
+++ b/src/com/google/javascript/jscomp/CheckSideEffects.java
@@ -98,7 +98,7 @@ final class CheckSideEffects extends AbstractPostOrderCallback
     // Do not try to remove a block or an expr result. We already handle
     // these cases when we visit the child, and the peephole passes will
     // fix up the tree in more clever ways when these are removed.
+    if (n.isExprResult() || n.isBlock()) {
-    if (n.isExprResult()) {
       return;
     }
 
@@ -110,7 +110,24 @@ final class CheckSideEffects extends AbstractPostOrderCallback
 
     boolean isResultUsed = NodeUtil.isExpressionResultUsed(n);
     boolean isSimpleOp = NodeUtil.isSimpleOperatorType(n.getType());
+    if (!isResultUsed &&
-    if (parent.getType() == Token.COMMA) {
-      if (isResultUsed) {
-        return;
-      }
-      if (n == parent.getLastChild()) {
-        for (Node an : parent.getAncestors()) {
-          int ancestorType = an.getType();
-          if (ancestorType == Token.COMMA) continue;
-          if (ancestorType != Token.EXPR_RESULT && ancestorType != Token.BLOCK) return;
-          else break;
-        }
-      }
-    } else if (parent.getType() != Token.EXPR_RESULT && parent.getType() != Token.BLOCK) {
-      if (! (parent.getType() == Token.FOR && parent.getChildCount() == 4 && (n == parent.getFirstChild() || n == parent.getFirstChild().getNext().getNext()))) {
-        return;
-      }
-    }
-    if (
         (isSimpleOp || !NodeUtil.mayHaveSideEffects(n, t.getCompiler()))) {
       String msg = "This code lacks side-effects. Is there a bug?";
       if (n.isString()) {

```

## Patch #35 DynaMoth 

[com.google.javascript.jscomp.CheckSideEffects:118](https://github.com/google/closure-compiler/blob/786629c775c5eabc52f8e67118aa67f0c918ff86/src//com/google/javascript/jscomp/CheckSideEffects.java#L118)

```Java
--- /tmp/closure_21_Brutpol/src/com/google/javascript/jscomp/CheckSideEffects.java
+++ /tmp/closure_21_Brutpol/src/com/google/javascript/jscomp/CheckSideEffects.java
@@ -117,7 +117,9 @@
       if (n == parent.getLastChild()) {
-        for (Node an : parent.getAncestors()) {
-          int ancestorType = an.getType();
-          if (ancestorType == Token.COMMA) continue;
-          if (ancestorType != Token.EXPR_RESULT && ancestorType != Token.BLOCK) return;
-          else break;
+        if (isResultUsed) {
+          for (Node an : parent.getAncestors()) {
+            int ancestorType = an.getType();
+            if (ancestorType == Token.COMMA) continue;
+            if (ancestorType != Token.EXPR_RESULT && ancestorType != Token.BLOCK) return;
+            else break;
+          }
         }

```
Execution time: 0:02:39.477000

Grid5000 node: griffon-12.nancy.grid5000.fr


# Closure 22


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/CheckSideEffects.java b/src/com/google/javascript/jscomp/CheckSideEffects.java
index 722d225..b9aa412 100644
--- a/src/com/google/javascript/jscomp/CheckSideEffects.java
+++ b/src/com/google/javascript/jscomp/CheckSideEffects.java
@@ -98,20 +98,44 @@ final class CheckSideEffects extends AbstractPostOrderCallback
     // Do not try to remove a block or an expr result. We already handle
     // these cases when we visit the child, and the peephole passes will
     // fix up the tree in more clever ways when these are removed.
+    if (n.isExprResult() || n.isBlock()) {
-    if (parent.getType() == Token.COMMA) {
-      Node gramps = parent.getParent();
-      if (gramps.isCall() && parent == gramps.getFirstChild()) {
-        if (n == parent.getFirstChild() && parent.getChildCount() == 2 && n.getNext().isName() && "eval".equals(n.getNext().getString())) {
       return;
-        }
     }
 
     // This no-op statement was there so that JSDoc information could
     // be attached to the name. This check should not complain about it.
+    if (n.isQualifiedName() && n.getJSDocInfo() != null) {
-      if (n == parent.getLastChild()) {
-        for (Node an : parent.getAncestors()) {
-          int ancestorType = an.getType();
-          if (ancestorType == Token.COMMA)
-            continue;
-          if (ancestorType != Token.EXPR_RESULT && ancestorType != Token.BLOCK)
-            return;
-          else
-            break;
-        }
-      }
-    } else if (parent.getType() != Token.EXPR_RESULT && parent.getType() != Token.BLOCK) {
-      if (parent.getType() == Token.FOR && parent.getChildCount() == 4 && (n == parent.getFirstChild() ||
-           n == parent.getFirstChild().getNext().getNext())) {
-      } else {
       return;
-      }
     }
 
     boolean isResultUsed = NodeUtil.isExpressionResultUsed(n);
     boolean isSimpleOp = NodeUtil.isSimpleOperatorType(n.getType());
     if (!isResultUsed &&
         (isSimpleOp || !NodeUtil.mayHaveSideEffects(n, t.getCompiler()))) {
-      if (n.isQualifiedName() && n.getJSDocInfo() != null) {
-        return;
-      } else if (n.isExprResult()) {
-        return;
-      }
       String msg = "This code lacks side-effects. Is there a bug?";
       if (n.isString()) {
         msg = "Is there a missing '+' on the previous line?";

```

## Patch #36 DynaMoth 

[com.google.javascript.jscomp.CheckSideEffects:116](https://github.com/google/closure-compiler/blob/6ebbc3a68f5986b786fb1dffb88f517e57934301/src//com/google/javascript/jscomp/CheckSideEffects.java#L116)

```Java
--- /tmp/closure_22_Brutpol/src/com/google/javascript/jscomp/CheckSideEffects.java
+++ /tmp/closure_22_Brutpol/src/com/google/javascript/jscomp/CheckSideEffects.java
@@ -115,6 +115,8 @@
             continue;
-          if (ancestorType != Token.EXPR_RESULT && ancestorType != Token.BLOCK)
+          if (n.getBooleanProp((int) ancestorType)) {
+            if (ancestorType != Token.EXPR_RESULT && ancestorType != Token.BLOCK)
             return;
-          else
+            else
             break;
+          }
         }

```
Execution time: 0:02:52.148000

Grid5000 node: griffon-12.nancy.grid5000.fr


# Closure 23


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/PeepholeFoldConstants.java b/src/com/google/javascript/jscomp/PeepholeFoldConstants.java
index 7a0313c..f777b1c 100644
--- a/src/com/google/javascript/jscomp/PeepholeFoldConstants.java
+++ b/src/com/google/javascript/jscomp/PeepholeFoldConstants.java
@@ -1448,14 +1448,8 @@ class PeepholeFoldConstants extends AbstractPeepholeOptimization {
 
     Node current = left.getFirstChild();
     Node elem = null;
+    for (int i = 0; current != null; i++) {
+      if (i != intIndex) {
+        if (mayHaveSideEffects(current)) {
+          return n;
+        }
+      } else {
-    for (int i = 0; current != null && i < intIndex; i++) {
         elem = current;
+      }
 
       current = current.getNext();
     }

```

## Patch #37 DynaMoth 

[com.google.javascript.rhino.Node:1430](https://github.com/google/closure-compiler/blob/5a4a033e34b1c403b23f0f2bfcfad9662d22705f/src//com/google/javascript/rhino/Node.java#L1430)

```Java
--- /tmp/closure_23_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_23_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1429,7 +1429,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:02:39.947000

Grid5000 node: graphene-97.nancy.grid5000.fr


# Closure 24


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/ScopedAliases.java b/src/com/google/javascript/jscomp/ScopedAliases.java
index c248002..30d29d0 100644
--- a/src/com/google/javascript/jscomp/ScopedAliases.java
+++ b/src/com/google/javascript/jscomp/ScopedAliases.java
@@ -275,8 +275,8 @@ class ScopedAliases implements HotSwapCompilerPass {
         Node n = v.getNode();
         int type = n.getType();
         Node parent = n.getParent();
+        if (parent.isVar() &&
+            n.hasChildren() && n.getFirstChild().isQualifiedName()) {
-        if (parent.isVar()) {
-          if (n.hasChildren() && n.getFirstChild().isQualifiedName()) {
           String name = n.getString();
           Var aliasVar = scope.getVar(name);
           aliases.put(name, aliasVar);
@@ -284,16 +284,15 @@ class ScopedAliases implements HotSwapCompilerPass {
           String qualifiedName =
               aliasVar.getInitialValue().getQualifiedName();
           transformation.addAlias(name, qualifiedName);
+        } else if (v.isBleedingFunction()) {
           // Bleeding functions already get a BAD_PARAMETERS error, so just
           // do nothing.
+        } else if (parent.getType() == Token.LP) {
           // Parameters of the scope function also get a BAD_PARAMETERS
           // error.
         } else {
           // TODO(robbyw): Support using locals for private variables.
           report(t, n, GOOG_SCOPE_NON_ALIAS_LOCAL, n.getString());
         }
-        }
       }
     }
 

```

## Patch #38 DynaMoth 

[com.google.javascript.rhino.Node:1430](https://github.com/google/closure-compiler/blob/fe2971fee417b9f009051b24680dfbff59058a68/src//com/google/javascript/rhino/Node.java#L1430)

```Java
--- /tmp/closure_24_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_24_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1429,7 +1429,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:01:59.386000

Grid5000 node: graphene-63.nancy.grid5000.fr


# Closure 25


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/TypeInference.java b/src/com/google/javascript/jscomp/TypeInference.java
index 74728ee..7e218d8 100644
--- a/src/com/google/javascript/jscomp/TypeInference.java
+++ b/src/com/google/javascript/jscomp/TypeInference.java
@@ -1033,9 +1033,9 @@ class TypeInference
   }
 
   private FlowScope traverseNew(Node n, FlowScope scope) {
+    scope = traverseChildren(n, scope);
 
     Node constructor = n.getFirstChild();
-    scope = traverse(constructor, scope);
     JSType constructorType = constructor.getJSType();
     JSType type = null;
     if (constructorType != null) {
@@ -1052,11 +1052,13 @@ class TypeInference
         }
         if (ct != null && ct.isConstructor()) {
           type = ct.getInstanceType();
+          backwardsInferenceFromCallSite(n, ct);
         }
       }
     }
     n.setJSType(type);
-    for (Node arg = constructor.getNext(); arg != null; arg = arg.getNext()) {
-      scope = traverse(arg, scope);
-    }
     return scope;
   }
 

```

## Patch #39 DynaMoth 

[com.google.javascript.rhino.Node:1430](https://github.com/google/closure-compiler/blob/ac49d10c98c43fed6a3062b01676ea7f2c88535c/src//com/google/javascript/rhino/Node.java#L1430)

```Java
--- /tmp/closure_25_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_25_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1429,7 +1429,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:02:01.935000

Grid5000 node: graphene-64.nancy.grid5000.fr


# Closure 26


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/ProcessCommonJSModules.java b/src/com/google/javascript/jscomp/ProcessCommonJSModules.java
index fa01cd9..1744a58 100644
--- a/src/com/google/javascript/jscomp/ProcessCommonJSModules.java
+++ b/src/com/google/javascript/jscomp/ProcessCommonJSModules.java
@@ -125,7 +125,6 @@ public class ProcessCommonJSModules implements CompilerPass {
       AbstractPostOrderCallback {
 
     private int scriptNodeCount = 0;
+    private Set<String> modulesWithExports = Sets.newHashSet();
 
     @Override
     public void visit(NodeTraversal t, Node n, Node parent) {
@@ -205,9 +204,6 @@ public class ProcessCommonJSModules implements CompilerPass {
      */
     private void emitOptionalModuleExportsOverride(Node script,
         String moduleName) {
+      if (!modulesWithExports.contains(moduleName)) {
+        return;
+      }
 
       Node moduleExportsProp = IR.getprop(IR.name(moduleName),
           IR.string("module$exports"));
@@ -229,7 +225,6 @@ public class ProcessCommonJSModules implements CompilerPass {
       Node exports = prop.getChildAtIndex(1);
       exports.putProp(Node.ORIGINALNAME_PROP, "exports");
       exports.setString("module$exports");
+      modulesWithExports.add(moduleName);
     }
 
     /**

```

## Patch #40 DynaMoth 

[com.google.javascript.rhino.Node:1430](https://github.com/google/closure-compiler/blob/4c0c5b199d9588820d5c1ffabb618d47ff6f53f1/src//com/google/javascript/rhino/Node.java#L1430)

```Java
--- /tmp/closure_26_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_26_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1429,7 +1429,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:04:59.477000

Grid5000 node: griffon-12.nancy.grid5000.fr


# Closure 27


## Human Patch 

```Java
diff --git a/src/com/google/javascript/rhino/IR.java b/src/com/google/javascript/rhino/IR.java
index 002acd6..081f01f 100644
--- a/src/com/google/javascript/rhino/IR.java
+++ b/src/com/google/javascript/rhino/IR.java
@@ -108,9 +108,6 @@ public class IR {
     return block;
   }
 
+  private static Node blockUnchecked(Node stmt) {
+    return new Node(Token.BLOCK, stmt);
+  }
 
   public static Node script(Node ... stmts) {
     // TODO(johnlenz): finish setting up the SCRIPT node
@@ -224,8 +221,8 @@ public class IR {
   }
 
   public static Node tryFinally(Node tryBody, Node finallyBody) {
+    Preconditions.checkState(tryBody.isBlock());
+    Preconditions.checkState(finallyBody.isBlock());
-    Preconditions.checkState(tryBody.isLabelName());
-    Preconditions.checkState(finallyBody.isLabelName());
     Node catchBody = block().copyInformationFrom(tryBody);
     return new Node(Token.TRY, tryBody, catchBody, finallyBody);
   }
@@ -233,7 +230,7 @@ public class IR {
   public static Node tryCatch(Node tryBody, Node catchNode) {
     Preconditions.checkState(tryBody.isBlock());
     Preconditions.checkState(catchNode.isCatch());
+    Node catchBody = blockUnchecked(catchNode).copyInformationFrom(catchNode);
-    Node catchBody = block(catchNode).copyInformationFrom(catchNode);
     return new Node(Token.TRY, tryBody, catchBody);
   }
 

```

## Patch #41 DynaMoth 

[com.google.javascript.rhino.Node:1430](https://github.com/google/closure-compiler/blob/9f97e69db03bc84d5ad8150560def365b08425ba/src//com/google/javascript/rhino/Node.java#L1430)

```Java
--- /tmp/closure_27_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_27_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1429,7 +1429,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:02:02.607000

Grid5000 node: graphene-67.nancy.grid5000.fr


# Closure 28


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/InlineCostEstimator.java b/src/com/google/javascript/jscomp/InlineCostEstimator.java
index 65694ab..76a5d0a 100644
--- a/src/com/google/javascript/jscomp/InlineCostEstimator.java
+++ b/src/com/google/javascript/jscomp/InlineCostEstimator.java
@@ -99,9 +99,5 @@ class InlineCostEstimator {
      * Constants (true, false, null) are considered basically free,
      * because it's likely that they will get folded when we're done.
      */
+    @Override
+    void addConstant(String newcode) {
+      add("0");
+    }
   }
 }

```

## Patch #42 DynaMoth 

[com.google.javascript.rhino.Node:1430](https://github.com/google/closure-compiler/blob/bc14ffbe06f6ad96d3699159802596721564906e/src//com/google/javascript/rhino/Node.java#L1430)

```Java
--- /tmp/closure_28_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_28_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1429,7 +1429,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:02:43.619000

Grid5000 node: griffon-19.nancy.grid5000.fr


# Closure 29


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/InlineObjectLiterals.java b/src/com/google/javascript/jscomp/InlineObjectLiterals.java
index 8c3159d..9f5c607 100644
--- a/src/com/google/javascript/jscomp/InlineObjectLiterals.java
+++ b/src/com/google/javascript/jscomp/InlineObjectLiterals.java
@@ -154,7 +154,6 @@ class InlineObjectLiterals implements CompilerPass {
      */
     private boolean isInlinableObject(List<Reference> refs) {
       boolean ret = false;
+      Set<String> validProperties = Sets.newHashSet();
       for (Reference ref : refs) {
         Node name = ref.getNode();
         Node parent = ref.getParent();
@@ -179,14 +178,6 @@ class InlineObjectLiterals implements CompilerPass {
           // We short-circuit this problem by bailing out if we see a reference
           // to a property that isn't defined on the object literal. This
           // isn't a perfect algorithm, but it should catch most cases.
+          String propName = parent.getLastChild().getString();
+          if (!validProperties.contains(propName)) {
+            if (NodeUtil.isVarOrSimpleAssignLhs(parent, gramps)) {
+              validProperties.add(propName);
+            } else {
+              return false;
+            }
+          }
           continue;
         }
 
@@ -222,7 +213,6 @@ class InlineObjectLiterals implements CompilerPass {
             return false;
           }
 
+          validProperties.add(child.getString());
 
           Node childVal = child.getFirstChild();
           // Check if childVal is the parent of any of the passed in

```

## Patch #43 DynaMoth 

[com.google.javascript.rhino.Node:1430](https://github.com/google/closure-compiler/blob/1a2bc905854a2f422228298d2f80b88a614b8484/src//com/google/javascript/rhino/Node.java#L1430)

```Java
--- /tmp/closure_29_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_29_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1429,7 +1429,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:03:14.652000

Grid5000 node: griffon-12.nancy.grid5000.fr


# Closure 30


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/FlowSensitiveInlineVariables.java b/src/com/google/javascript/jscomp/FlowSensitiveInlineVariables.java
index 3f39c07..d53a8f8 100644
--- a/src/com/google/javascript/jscomp/FlowSensitiveInlineVariables.java
+++ b/src/com/google/javascript/jscomp/FlowSensitiveInlineVariables.java
@@ -154,7 +154,7 @@ class FlowSensitiveInlineVariables extends AbstractPostOrderCallback
 
   @Override
   public void process(Node externs, Node root) {
+    (new NodeTraversal(compiler, this)).traverseRoots(externs, root);
-    (new NodeTraversal(compiler, this)).traverse(root);
   }
 
   @Override
diff --git a/src/com/google/javascript/jscomp/MustBeReachingVariableDef.java b/src/com/google/javascript/jscomp/MustBeReachingVariableDef.java
index 589f673..1487af3 100644
--- a/src/com/google/javascript/jscomp/MustBeReachingVariableDef.java
+++ b/src/com/google/javascript/jscomp/MustBeReachingVariableDef.java
@@ -68,7 +68,6 @@ final class MustBeReachingVariableDef extends
   private static class Definition {
     final Node node;
     final Set<Var> depends = Sets.newHashSet();
+    private boolean unknownDependencies = false;
 
     Definition(Node node) {
       this.node = node;
@@ -394,13 +393,9 @@ final class MustBeReachingVariableDef extends
         new AbstractCfgNodeTraversalCallback() {
       @Override
       public void visit(NodeTraversal t, Node n, Node parent) {
+        if (n.isName()) {
-        if (n.isName() && jsScope.isDeclared(n.getString(), true)) {
           Var dep = jsScope.getVar(n.getString());
+          if (dep == null) {
+            def.unknownDependencies = true;
+          } else {
             def.depends.add(dep);
+          }
         }
       }
     });
@@ -432,9 +427,6 @@ final class MustBeReachingVariableDef extends
     GraphNode<Node, Branch> n = getCfg().getNode(useNode);
     FlowState<MustDef> state = n.getAnnotation();
     Definition def = state.getIn().reachingDef.get(jsScope.getVar(name));
+    if (def.unknownDependencies) {
+      return true;
+    }
 
     for (Var s : def.depends) {
       if (s.scope != jsScope) {

```

## Patch #44 DynaMoth 

[com.google.javascript.rhino.Node:1430](https://github.com/google/closure-compiler/blob/8b87a7c18bcdc0563fb5e65fbf83fc3f5a5c0fb2/src//com/google/javascript/rhino/Node.java#L1430)

```Java
--- /tmp/closure_30_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_30_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1429,7 +1429,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:02:48.428000

Grid5000 node: griffon-5.nancy.grid5000.fr


# Closure 31


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/Compiler.java b/src/com/google/javascript/jscomp/Compiler.java
index d98be4a..b76bbb5 100644
--- a/src/com/google/javascript/jscomp/Compiler.java
+++ b/src/com/google/javascript/jscomp/Compiler.java
@@ -1282,6 +1282,7 @@ public class Compiler extends AbstractCompiler {
 
       // Check if the sources need to be re-ordered.
       if (options.dependencyOptions.needsManagement() &&
-          !options.skipAllPasses &&
           options.closurePass) {
         for (CompilerInput input : inputs) {
           // Forward-declare all the provided types, so that they

```

## Patch #45 DynaMoth 

[com.google.javascript.rhino.Node:1430](https://github.com/google/closure-compiler/blob/c6009b383432570a869181eb98abbb23e61d899f/src//com/google/javascript/rhino/Node.java#L1430)

```Java
--- /tmp/closure_31_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_31_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1429,7 +1429,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:02:41.353000

Grid5000 node: griffon-19.nancy.grid5000.fr


# Closure 32


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/parsing/JsDocInfoParser.java b/src/com/google/javascript/jscomp/parsing/JsDocInfoParser.java
index cfdccbe..f6a6400 100644
--- a/src/com/google/javascript/jscomp/parsing/JsDocInfoParser.java
+++ b/src/com/google/javascript/jscomp/parsing/JsDocInfoParser.java
@@ -1355,14 +1355,12 @@ public final class JsDocInfoParser {
     // Track the start of the line to count whitespace that
     // the tokenizer skipped. Because this case is rare, it's easier
     // to do this here than in the tokenizer.
+    int lineStartChar = -1;
 
     do {
       switch (token) {
         case STAR:
           if (ignoreStar) {
             // Mark the position after the star as the new start of the line.
+            lineStartChar = stream.getCharno() + 1;
           } else {
             // The star is part of the comment.
             if (builder.length() > 0) {
@@ -1381,7 +1379,6 @@ public final class JsDocInfoParser {
           }
 
           ignoreStar = true;
+          lineStartChar = 0;
           token = next();
           continue;
 
@@ -1389,19 +1386,7 @@ public final class JsDocInfoParser {
           ignoreStar = false;
           state = State.SEARCHING_ANNOTATION;
 
+          boolean isEOC = token == JsDocToken.EOC;
+          if (!isEOC) {
+            if (lineStartChar != -1 && option == WhitespaceOption.PRESERVE) {
+              int numSpaces = stream.getCharno() - lineStartChar;
+              for (int i = 0; i < numSpaces; i++) {
+                builder.append(' ');
+              }
+              lineStartChar = -1;
+            } else if (builder.length() > 0) {
               // All tokens must be separated by a space.
+              builder.append(' ');
+            }
+          }
 
           if (token == JsDocToken.EOC ||
               token == JsDocToken.EOF ||
@@ -1426,6 +1411,9 @@ public final class JsDocInfoParser {
             return new ExtractionInfo(multilineText, token);
           }
 
-          if (builder.length() > 0) {
-            builder.append(' ');
-          }
           builder.append(toString(token));
 
           line = stream.getRemainingJSDocLine();

```

## Patch #46 DynaMoth 

[com.google.javascript.rhino.Node:1430](https://github.com/google/closure-compiler/blob/b48365cfba1ca10c9d03fa536c30c7b6d2011a4d/src//com/google/javascript/rhino/Node.java#L1430)

```Java
--- /tmp/closure_32_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_32_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1429,7 +1429,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:02:41.179000

Grid5000 node: graphene-59.nancy.grid5000.fr


# Closure 33


## Human Patch 

```Java
diff --git a/src/com/google/javascript/rhino/jstype/PrototypeObjectType.java b/src/com/google/javascript/rhino/jstype/PrototypeObjectType.java
index 81a7d89..b6e3fc7 100644
--- a/src/com/google/javascript/rhino/jstype/PrototypeObjectType.java
+++ b/src/com/google/javascript/rhino/jstype/PrototypeObjectType.java
@@ -554,9 +554,6 @@ class PrototypeObjectType extends ObjectType {
   @Override
   public void matchConstraint(ObjectType constraintObj) {
     // We only want to match contraints on anonymous types.
+    if (hasReferenceName()) {
+      return;
+    }
 
     // Handle the case where the constraint object is a record type.
     //

```

## Patch #47 DynaMoth 

[com.google.javascript.rhino.jstype.PrototypeObjectType:576](https://github.com/google/closure-compiler/blob/159b1a5b37616b87a5c86cebc1dd04e13e212d0f/src//com/google/javascript/rhino/jstype/PrototypeObjectType.java#L576)

```Java
--- /tmp/closure_33_Brutpol/src/com/google/javascript/rhino/jstype/PrototypeObjectType.java
+++ /tmp/closure_33_Brutpol/src/com/google/javascript/rhino/jstype/PrototypeObjectType.java
@@ -575,3 +575,5 @@
           }
-          defineInferredProperty(prop, typeToInfer, null);
+          if (propType.isNumberValueType() || propType.isUnionType()) {
+            defineInferredProperty(prop, typeToInfer, null);
+          }
         }

```
Execution time: 0:03:20.799000

Grid5000 node: griffon-5.nancy.grid5000.fr


# Closure 34


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/CodeGenerator.java b/src/com/google/javascript/jscomp/CodeGenerator.java
index d50320a..f28378c 100644
--- a/src/com/google/javascript/jscomp/CodeGenerator.java
+++ b/src/com/google/javascript/jscomp/CodeGenerator.java
@@ -119,7 +119,9 @@ class CodeGenerator {
         cc.addOp(opstr, true);
         addExpr(last, p, rhsContext);
       } else {
+        unrollBinaryOperator(n, type, opstr, context, rhsContext, p, p + 1);
-        addExpr(first, p, context);
-        cc.addOp(opstr, true);
-        addExpr(last, p + 1, rhsContext);
       }
       return;
     }
@@ -749,7 +751,7 @@ class CodeGenerator {
     Node current = firstNonOperator;
     do {
       current = current.getParent();
+      cc.addOp(opStr, true);
-      cc.listSeparator();
       addExpr(current.getFirstChild().getNext(), rightPrecedence, rhsContext);
     } while (current != n);
   }
diff --git a/src/com/google/javascript/jscomp/CodePrinter.java b/src/com/google/javascript/jscomp/CodePrinter.java
index 31c62d9..52dfa9b 100644
--- a/src/com/google/javascript/jscomp/CodePrinter.java
+++ b/src/com/google/javascript/jscomp/CodePrinter.java
@@ -331,7 +331,7 @@ class CodePrinter {
     @Override
     void appendOp(String op, boolean binOp) {
       if (binOp) {
+        if (getLastChar() != ' ' && op.charAt(0) != ',') {
-        if (getLastChar() != ' ') {
           append(" ");
         }
         append(op);

```

## Patch #48 DynaMoth 

[com.google.javascript.rhino.Node:1429](https://github.com/google/closure-compiler/blob/109546c1b34f858279f808b13ed8dab5384d0fdc/src//com/google/javascript/rhino/Node.java#L1429)

```Java
--- /tmp/closure_34_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_34_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1428,7 +1428,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:01:57.724000

Grid5000 node: graphene-68.nancy.grid5000.fr


# Closure 35


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/TypeInference.java b/src/com/google/javascript/jscomp/TypeInference.java
index fb6be1e..13e1092 100644
--- a/src/com/google/javascript/jscomp/TypeInference.java
+++ b/src/com/google/javascript/jscomp/TypeInference.java
@@ -1118,8 +1118,21 @@ class TypeInference
 
     ObjectType constraintObj =
         ObjectType.cast(constraint.restrictByNotNullOrUndefined());
+    if (constraintObj != null) {
+      type.matchConstraint(constraintObj);
-    if (constraintObj != null && constraintObj.isRecordType()) {
-      ObjectType objType = ObjectType.cast(type.restrictByNotNullOrUndefined());
-      if (objType != null) {
-        for (String prop : constraintObj.getOwnPropertyNames()) {
-          JSType propType = constraintObj.getPropertyType(prop);
-          if (!objType.isPropertyTypeDeclared(prop)) {
-            JSType typeToInfer = propType;
-            if (!objType.hasProperty(prop)) {
-              typeToInfer =
-                  getNativeType(VOID_TYPE).getLeastSupertype(propType);
-            }
-            objType.defineInferredProperty(prop, typeToInfer, null);
-          }
-        }
-      }
     }
   }
 

```

## Patch #49 DynaMoth 

[com.google.javascript.rhino.Node:1417](https://github.com/google/closure-compiler/blob/bac02649246344af43201bf01eec685e47a90c01/src//com/google/javascript/rhino/Node.java#L1417)

```Java
--- /tmp/closure_35_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_35_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1416,7 +1416,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:01:52.864000

Grid5000 node: graphene-7.nancy.grid5000.fr


# Closure 36


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/InlineVariables.java b/src/com/google/javascript/jscomp/InlineVariables.java
index 47b8e8a..0b4b3de 100644
--- a/src/com/google/javascript/jscomp/InlineVariables.java
+++ b/src/com/google/javascript/jscomp/InlineVariables.java
@@ -572,9 +572,6 @@ class InlineVariables implements CompilerPass {
 
           // issue 668: Don't inline singleton getter methods
           // calls as this confused class removing logic.
+          if (convention.getSingletonGetterClassName(callNode) != null) {
+            return false;
+          }
         }
       }
 

```

## Patch #50 DynaMoth 

[com.google.javascript.rhino.Node:1417](https://github.com/google/closure-compiler/blob/e91a3a7ef306d66d8773093796158b082a97835f/src//com/google/javascript/rhino/Node.java#L1417)

```Java
--- /tmp/closure_36_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_36_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1416,7 +1416,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:02:52.250000

Grid5000 node: griffon-5.nancy.grid5000.fr


## Patch #51 Nopol 

[com.google.javascript.rhino.Node:1417](https://github.com/google/closure-compiler/blob/e91a3a7ef306d66d8773093796158b082a97835f/src//com/google/javascript/rhino/Node.java#L1417)

```Java
--- /tmp/closure_36_Nopol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_36_Nopol/src/com/google/javascript/rhino/Node.java
@@ -1416,7 +1416,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (com.google.javascript.rhino.Node.this.type <= com.google.javascript.rhino.Node.IS_DISPATCHER) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:02:23.090000

Grid5000 node: griffon-2.nancy.grid5000.fr


# Closure 37


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/NodeTraversal.java b/src/com/google/javascript/jscomp/NodeTraversal.java
index 435b4a8..8201b41 100644
--- a/src/com/google/javascript/jscomp/NodeTraversal.java
+++ b/src/com/google/javascript/jscomp/NodeTraversal.java
@@ -538,7 +538,7 @@ public class NodeTraversal {
 
     // Body
     Preconditions.checkState(body.getNext() == null &&
+            body.isBlock(), body);
-            body.isBlock());
     traverseBranch(body, n);
 
     popScope();
diff --git a/src/com/google/javascript/jscomp/parsing/IRFactory.java b/src/com/google/javascript/jscomp/parsing/IRFactory.java
index 26cbc19..4da4085 100644
--- a/src/com/google/javascript/jscomp/parsing/IRFactory.java
+++ b/src/com/google/javascript/jscomp/parsing/IRFactory.java
@@ -664,13 +664,9 @@ class IRFactory {
       node.addChildToBack(lp);
 
       Node bodyNode = transform(functionNode.getBody());
+      if (!bodyNode.isBlock()) {
         // When in ideMode Rhino tries to parse some constructs the compiler
         // doesn't support, repair it here. see Rhino's
         // Parser#parseFunctionBodyExpr.
+        Preconditions.checkState(config.isIdeMode);
+        bodyNode = IR.block();
+      }
       parseDirectives(bodyNode);
       node.addChildToBack(bodyNode);
      return node;

```

## Patch #52 DynaMoth 

[com.google.javascript.rhino.Node:1412](https://github.com/google/closure-compiler/blob/814e2ef9a1b48f85186cea84264db0fa51d2e83f/src//com/google/javascript/rhino/Node.java#L1412)

```Java
--- /tmp/closure_37_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_37_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1411,7 +1411,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:01:55.837000

Grid5000 node: graphene-71.nancy.grid5000.fr


# Closure 38


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/CodeConsumer.java b/src/com/google/javascript/jscomp/CodeConsumer.java
index 3522e89..4381487 100644
--- a/src/com/google/javascript/jscomp/CodeConsumer.java
+++ b/src/com/google/javascript/jscomp/CodeConsumer.java
@@ -242,7 +242,7 @@ abstract class CodeConsumer {
     // x--4 (which is a syntax error).
     char prev = getLastChar();
     boolean negativeZero = isNegativeZero(x);
+    if ((x < 0 || negativeZero) && prev == '-') {
-    if (x < 0 && prev == '-') {
       add(" ");
     }
 

```

## Patch #53 DynaMoth 

[com.google.javascript.rhino.Node:1412](https://github.com/google/closure-compiler/blob/eb10aad288e565e1def3433b95eabfb747ac3c9e/src//com/google/javascript/rhino/Node.java#L1412)

```Java
--- /tmp/closure_38_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_38_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1411,7 +1411,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:02:52.855000

Grid5000 node: graphite-4.nancy.grid5000.fr


## Patch #54 Nopol 

[com.google.javascript.jscomp.CodeConsumer:245](https://github.com/google/closure-compiler/blob/eb10aad288e565e1def3433b95eabfb747ac3c9e/src//com/google/javascript/jscomp/CodeConsumer.java#L245)

```Java
--- /tmp/closure_38_Nopol/src/com/google/javascript/jscomp/CodeConsumer.java
+++ /tmp/closure_38_Nopol/src/com/google/javascript/jscomp/CodeConsumer.java
@@ -244,3 +244,3 @@
     boolean negativeZero = isNegativeZero(x);
-    if (x < 0 && prev == '-') {
+    if ((prev == '-')) {
       add(" ");

```
Execution time: 0:03:13.661000

Grid5000 node: graphene-49.nancy.grid5000.fr


# Closure 39


## Human Patch 

```Java
diff --git a/src/com/google/javascript/rhino/jstype/PrototypeObjectType.java b/src/com/google/javascript/rhino/jstype/PrototypeObjectType.java
index f4b537d..dffe3a5 100644
--- a/src/com/google/javascript/rhino/jstype/PrototypeObjectType.java
+++ b/src/com/google/javascript/rhino/jstype/PrototypeObjectType.java
@@ -377,10 +377,10 @@ class PrototypeObjectType extends ObjectType {
 
         sb.append(property);
         sb.append(": ");
+        sb.append(getPropertyType(property).toStringHelper(forAnnotations));
-        sb.append(getPropertyType(property).toString());
 
         ++i;
+        if (!forAnnotations && i == MAX_PRETTY_PRINTED_PROPERTIES) {
-        if (i == MAX_PRETTY_PRINTED_PROPERTIES) {
           sb.append(", ...");
           break;
         }
@@ -391,7 +391,7 @@ class PrototypeObjectType extends ObjectType {
       prettyPrint = true;
       return sb.toString();
     } else {
+      return forAnnotations ? "?" : "{...}";
-      return "{...}";
     }
   }
 

```

## Patch #55 DynaMoth 

[com.google.javascript.rhino.Node:1412](https://github.com/google/closure-compiler/blob/8c44877d4067481c0a24a84b08b60bedbecd2540/src//com/google/javascript/rhino/Node.java#L1412)

```Java
--- /tmp/closure_39_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_39_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1411,7 +1411,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:01:53.904000

Grid5000 node: graphene-72.nancy.grid5000.fr


# Closure 40


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/NameAnalyzer.java b/src/com/google/javascript/jscomp/NameAnalyzer.java
index 6e9e470..088a993 100644
--- a/src/com/google/javascript/jscomp/NameAnalyzer.java
+++ b/src/com/google/javascript/jscomp/NameAnalyzer.java
@@ -632,9 +632,11 @@ final class NameAnalyzer implements CompilerPass {
         Node nameNode = n.getFirstChild();
         NameInformation ns = createNameInformation(t, nameNode, n);
         if (ns != null && ns.onlyAffectsClassDef) {
+          JsName name = getName(ns.name, true);
-          JsName name = getName(ns.name, false);
-          if (name != null) {
           refNodes.add(new ClassDefiningFunctionNode(
               name, n, parent, parent.getParent()));
-          }
         }
       }
     }

```

## Patch #56 DynaMoth 

[com.google.javascript.rhino.Node:1412](https://github.com/google/closure-compiler/blob/5c212b25238afc5fe06ff49299bb970f3be0b0f5/src//com/google/javascript/rhino/Node.java#L1412)

```Java
--- /tmp/closure_40_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_40_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1411,7 +1411,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:03:19.536000

Grid5000 node: griffon-20.nancy.grid5000.fr


# Closure 41


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/FunctionTypeBuilder.java b/src/com/google/javascript/jscomp/FunctionTypeBuilder.java
index e20d788..14694ce 100644
--- a/src/com/google/javascript/jscomp/FunctionTypeBuilder.java
+++ b/src/com/google/javascript/jscomp/FunctionTypeBuilder.java
@@ -289,9 +289,6 @@ final class FunctionTypeBuilder {
       }
 
       // Clone any remaining params that aren't in the function literal.
+      while (oldParams.hasNext()) {
+        paramBuilder.newParameterFromNode(oldParams.next());
+      }
 
       parametersNode = paramBuilder.build();
     }
@@ -483,12 +480,6 @@ final class FunctionTypeBuilder {
     }
 
     // Copy over any old parameters that aren't in the param list.
+    if (!isVarArgs) {
+      while (oldParameterType != null && !isVarArgs) {
+        builder.newParameterFromNode(oldParameterType);
+        oldParameterType = oldParameterType.getNext();
+      }
+    }
 
     if (templateTypeName != null && !foundTemplateType) {
       reportError(TEMPLATE_TYPE_EXPECTED, fnName);

```

## Patch #57 DynaMoth 

[com.google.javascript.rhino.Node:1404](https://github.com/google/closure-compiler/blob/6cd3bdf719b2924a3fa72f09c3d7c649fb85bf5d/src//com/google/javascript/rhino/Node.java#L1404)

```Java
--- /tmp/closure_41_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_41_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1403,7 +1403,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:01:53.612000

Grid5000 node: graphene-73.nancy.grid5000.fr


# Closure 42


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/parsing/IRFactory.java b/src/com/google/javascript/jscomp/parsing/IRFactory.java
index c6b70c5..1a95aa2 100644
--- a/src/com/google/javascript/jscomp/parsing/IRFactory.java
+++ b/src/com/google/javascript/jscomp/parsing/IRFactory.java
@@ -565,15 +565,8 @@ class IRFactory {
 
     @Override
     Node processForInLoop(ForInLoop loopNode) {
+      if (loopNode.isForEach()) {
+        errorReporter.error(
+            "unsupported language extension: for each",
+            sourceName,
+            loopNode.getLineno(), "", 0);
 
         // Return the bare minimum to put the AST in a valid state.
+        return newNode(Token.EXPR_RESULT, Node.newNumber(0));
+      }
       return newNode(
           Token.FOR,
           transform(loopNode.getIterator()),

```

## Patch #58 DynaMoth 

[com.google.javascript.rhino.Node:1404](https://github.com/google/closure-compiler/blob/a597025f61878cf2975b39b50688cb518444246b/src//com/google/javascript/rhino/Node.java#L1404)

```Java
--- /tmp/closure_42_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_42_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1403,7 +1403,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:01:53.463000

Grid5000 node: graphene-74.nancy.grid5000.fr


# Closure 43


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/TypedScopeCreator.java b/src/com/google/javascript/jscomp/TypedScopeCreator.java
index f9943a1..92d8715 100644
--- a/src/com/google/javascript/jscomp/TypedScopeCreator.java
+++ b/src/com/google/javascript/jscomp/TypedScopeCreator.java
@@ -417,7 +417,6 @@ final class TypedScopeCreator implements ScopeCreator {
      * For more information, see
      * http://code.google.com/p/closure-compiler/issues/detail?id=314
      */
+    private List<Node> lentObjectLiterals = null;
 
     /**
      * Type-less stubs.
@@ -545,13 +544,6 @@ final class TypedScopeCreator implements ScopeCreator {
       }
 
       // Analyze any @lends object literals in this statement.
+      if (n.getParent() != null && NodeUtil.isStatement(n) &&
+          lentObjectLiterals != null) {
+        for (Node objLit : lentObjectLiterals) {
+          defineObjectLiteral(objLit);
+        }
+        lentObjectLiterals.clear();
+      }
     }
 
     private void attachLiteralTypes(NodeTraversal t, Node n) {
@@ -585,16 +577,7 @@ final class TypedScopeCreator implements ScopeCreator {
           break;
 
         case Token.OBJECTLIT:
+          JSDocInfo info = n.getJSDocInfo();
+          if (info != null &&
+              info.getLendsName() != null) {
+            if (lentObjectLiterals == null) {
+              lentObjectLiterals = Lists.newArrayList();
+            }
+            lentObjectLiterals.add(n);
+          } else {
             defineObjectLiteral(n);
+          }
           break;
 
           // NOTE(nicksantos): If we ever support Array tuples,

```

## Patch #59 DynaMoth 

[com.google.javascript.rhino.Node:1404](https://github.com/google/closure-compiler/blob/a0e84167cc66ce83d21891740329494665133299/src//com/google/javascript/rhino/Node.java#L1404)

```Java
--- /tmp/closure_43_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_43_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1403,7 +1403,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:01:58.456000

Grid5000 node: graphene-75.nancy.grid5000.fr


# Closure 44


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/CodeConsumer.java b/src/com/google/javascript/jscomp/CodeConsumer.java
index 8023324..4755665 100644
--- a/src/com/google/javascript/jscomp/CodeConsumer.java
+++ b/src/com/google/javascript/jscomp/CodeConsumer.java
@@ -191,13 +191,11 @@ abstract class CodeConsumer {
       // need space to separate. This is not pretty printing.
       // For example: "return foo;"
       append(" ");
+    } else if (c == '/' && getLastChar() == '/') {
       // Do not allow a forward slash to appear after a DIV.
       // For example,
       // REGEXP DIV REGEXP
       // is valid and should print like
       // / // / /
+      append(" ");
     }
 
     append(newcode);

```

## Patch #60 DynaMoth 

[com.google.javascript.rhino.Node:1404](https://github.com/google/closure-compiler/blob/bdc87218187a1291272f5d50754bfbf3b594a21d/src//com/google/javascript/rhino/Node.java#L1404)

```Java
--- /tmp/closure_44_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_44_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1403,7 +1403,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:01:49.495000

Grid5000 node: graphene-76.nancy.grid5000.fr


# Closure 45


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/RemoveUnusedVars.java b/src/com/google/javascript/jscomp/RemoveUnusedVars.java
index c93a073..be72a58 100644
--- a/src/com/google/javascript/jscomp/RemoveUnusedVars.java
+++ b/src/com/google/javascript/jscomp/RemoveUnusedVars.java
@@ -729,7 +729,6 @@ class RemoveUnusedVars
             assignedToUnknownValue = true;
           }
 
+          boolean maybeEscaped = false;
           for (Assign assign : assignsByVar.get(var)) {
             if (assign.isPropertyAssign) {
               hasPropertyAssign = true;
@@ -737,12 +736,9 @@ class RemoveUnusedVars
                 assign.assignNode.getLastChild(), true)) {
               assignedToUnknownValue = true;
             }
+            if (assign.maybeAliased) {
+              maybeEscaped = true;
+            }
           }
 
+          if ((assignedToUnknownValue || maybeEscaped) && hasPropertyAssign) {
-          if (assignedToUnknownValue && hasPropertyAssign) {
             changes = markReferencedVar(var) || changes;
             maybeUnreferenced.remove(current);
             current--;
@@ -905,7 +901,7 @@ class RemoveUnusedVars
       this.nameNode = nameNode;
       this.isPropertyAssign = isPropertyAssign;
 
+      this.maybeAliased = NodeUtil.isExpressionResultUsed(assignNode);
-      this.maybeAliased = !assignNode.getParent().isExprResult();
       this.mayHaveSecondarySideEffects =
           maybeAliased ||
           NodeUtil.mayHaveSideEffects(assignNode.getFirstChild()) ||

```

## Patch #61 DynaMoth 

[com.google.javascript.rhino.Node:1404](https://github.com/google/closure-compiler/blob/c1b0cff652751bcedccc786931873ff2c9b1572c/src//com/google/javascript/rhino/Node.java#L1404)

```Java
--- /tmp/closure_45_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_45_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1403,7 +1403,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:02:36.511000

Grid5000 node: griffon-2.nancy.grid5000.fr


# Closure 46


## Human Patch 

```Java
diff --git a/src/com/google/javascript/rhino/jstype/RecordType.java b/src/com/google/javascript/rhino/jstype/RecordType.java
index b418dbd..7289803 100755
--- a/src/com/google/javascript/rhino/jstype/RecordType.java
+++ b/src/com/google/javascript/rhino/jstype/RecordType.java
@@ -137,6 +137,22 @@ class RecordType extends PrototypeObjectType {
         propertyNode);
   }
 
-  @Override
-  public JSType getLeastSupertype(JSType that) {
-    if (!that.isRecordType()) {
-      return super.getLeastSupertype(that);
-    }
-    RecordTypeBuilder builder = new RecordTypeBuilder(registry);
-    for (String property : properties.keySet()) {
-      if (that.toMaybeRecordType().hasProperty(property) &&
-          that.toMaybeRecordType().getPropertyType(property).isEquivalentTo(
-              getPropertyType(property))) {
-        builder.addProperty(property, getPropertyType(property),
-            getPropertyNode(property));
-      }
-    }
-    return builder.build();
-  }
   JSType getGreatestSubtypeHelper(JSType that) {
     if (that.isRecordType()) {
       RecordType thatRecord = that.toMaybeRecordType();

```

## Patch #62 DynaMoth 

[com.google.javascript.rhino.testing.Asserts:95](https://github.com/google/closure-compiler/blob/3bbf7050661e0ee7188c9f3ccd23d385e816747a/src//com/google/javascript/rhino/testing/Asserts.java#L95)

```Java
--- /tmp/closure_46_Brutpol/src/com/google/javascript/rhino/testing/Asserts.java
+++ /tmp/closure_46_Brutpol/src/com/google/javascript/rhino/testing/Asserts.java
@@ -94,3 +94,5 @@
   public static void assertTypeEquals(JSType a, JSType b) {
-    assertTypeEquals("", a, b);
+    if (a.differsFrom((com.google.javascript.rhino.jstype.JSType) a)) {
+      assertTypeEquals("", a, b);
+    }
   }

```
Execution time: 0:07:15.499000

Grid5000 node: griffon-17.nancy.grid5000.fr


# Closure 47


## Human Patch 

```Java
diff --git a/src/com/google/debugging/sourcemap/SourceMapConsumerV3.java b/src/com/google/debugging/sourcemap/SourceMapConsumerV3.java
index 5ee9108..d67dc10 100644
--- a/src/com/google/debugging/sourcemap/SourceMapConsumerV3.java
+++ b/src/com/google/debugging/sourcemap/SourceMapConsumerV3.java
@@ -486,8 +486,8 @@ public class SourceMapConsumerV3 implements SourceMapConsumer,
       // Adjust the line/column here to be start at 1.
       Builder x = OriginalMapping.newBuilder()
         .setOriginalFile(sources[entry.getSourceFileId()])
+        .setLineNumber(entry.getSourceLine() + 1)
+        .setColumnPosition(entry.getSourceColumn() + 1);
-        .setLineNumber(entry.getSourceLine())
-        .setColumnPosition(entry.getSourceColumn());
       if (entry.getNameId() != UNMAPPED) {
         x.setIdentifier(names[entry.getNameId()]);
       }
diff --git a/src/com/google/javascript/jscomp/SourceMap.java b/src/com/google/javascript/jscomp/SourceMap.java
index 7192408..835dfa4 100644
--- a/src/com/google/javascript/jscomp/SourceMap.java
+++ b/src/com/google/javascript/jscomp/SourceMap.java
@@ -135,15 +135,10 @@ public class SourceMap {
     // zero based.
     // We don't change this for the v1 or v2 source maps but for
     // v3 we make them both 0 based.
+    int lineBaseOffset = 1;
+    if (generator instanceof SourceMapGeneratorV1
+        || generator instanceof SourceMapGeneratorV2) {
+      lineBaseOffset = 0;
+    }
 
     generator.addMapping(
         sourceFile, originalName,
+        new FilePosition(node.getLineno() - lineBaseOffset, node.getCharno()),
-        new FilePosition(node.getLineno(), node.getCharno()),
         outputStartPosition, outputEndPosition);
   }
 

```

## Patch #63 DynaMoth 

[com.google.javascript.rhino.Node:1402](https://github.com/google/closure-compiler/blob/54b40a1aa59af51d2e4d6798d7457237395401db/src//com/google/javascript/rhino/Node.java#L1402)

```Java
--- /tmp/closure_47_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_47_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1401,7 +1401,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:39:30.138000

Grid5000 node: graphene-77.nancy.grid5000.fr


# Closure 48


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/TypedScopeCreator.java b/src/com/google/javascript/jscomp/TypedScopeCreator.java
index 09aba12..3fb4813 100644
--- a/src/com/google/javascript/jscomp/TypedScopeCreator.java
+++ b/src/com/google/javascript/jscomp/TypedScopeCreator.java
@@ -1518,14 +1518,11 @@ final class TypedScopeCreator implements ScopeCreator {
             || FunctionTypeBuilder.isFunctionTypeDeclaration(info));
       }
 
+      if (inferred && rhsValue != null && rhsValue.isFunction()) {
-      if (inferred) {
         // Determining declaration for #2
+        if (info != null) {
+          inferred = false;
+        } else if (!scope.isDeclared(qName, false) &&
+                   n.isUnscopedQualifiedName()) {
+          inferred = false;
+        }
-        inferred = !(rhsValue != null &&
-            rhsValue.isFunction() &&
-            (info != null || !scope.isDeclared(qName, false)));
       }
 
       if (!inferred) {

```

## Patch #64 DynaMoth 

[com.google.javascript.jscomp.TypedScopeCreator$AbstractScopeBuilder:1441](https://github.com/google/closure-compiler/blob/579b3ca885233ad7d987e1f58650ce9222cd70b1/src//com/google/javascript/jscomp/TypedScopeCreator$AbstractScopeBuilder.java#L1441)

```Java
--- /tmp/closure_48_Brutpol/src/com/google/javascript/jscomp/TypedScopeCreator.java
+++ /tmp/closure_48_Brutpol/src/com/google/javascript/jscomp/TypedScopeCreator.java
@@ -1440,3 +1440,5 @@
         // Determining type for #5
-        valueType = rhsValue.getJSType();
+        if (n.getBooleanProp((int) 0)) {
+          valueType = rhsValue.getJSType();
+        }
       }

```
Execution time: 0:05:33.012000

Grid5000 node: griffon-22.nancy.grid5000.fr


# Closure 49


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/MakeDeclaredNamesUnique.java b/src/com/google/javascript/jscomp/MakeDeclaredNamesUnique.java
index 0fcb778..627271f 100644
--- a/src/com/google/javascript/jscomp/MakeDeclaredNamesUnique.java
+++ b/src/com/google/javascript/jscomp/MakeDeclaredNamesUnique.java
@@ -88,6 +88,14 @@ class MakeDeclaredNamesUnique
       renamer = nameStack.peek().forChildScope();
     }
 
-    if (declarationRoot.getType() == Token.FUNCTION) {
-      for (Node c = declarationRoot.getFirstChild().getNext().getFirstChild(); c != null; c = c.getNext()) {
-        String name = c.getString();
-        renamer.addDeclaredName(name);
-      }
-      Node functionBody = declarationRoot.getLastChild();
-      findDeclaredNames(functionBody, null, renamer);
-    }  else 
     if (declarationRoot.getType() != Token.FUNCTION) {
       // Add the block declarations
       findDeclaredNames(declarationRoot, null, renamer);
@@ -119,22 +127,11 @@ class MakeDeclaredNamesUnique
             renamer.addDeclaredName(name);
           }
 
+          nameStack.push(renamer);
+        }
+        break;
 
+      case Token.LP: {
+          Renamer renamer = nameStack.peek().forChildScope();
 
           // Add the function parameters
+          for (Node c = n.getFirstChild(); c != null; c = c.getNext()) {
+            String name = c.getString();
+            renamer.addDeclaredName(name);
+          }
 
           // Add the function body declarations
+          Node functionBody = n.getNext();
+          findDeclaredNames(functionBody, null, renamer);
 
           nameStack.push(renamer);
         }
@@ -173,16 +170,13 @@ class MakeDeclaredNamesUnique
 
       case Token.FUNCTION:
         // Remove the function body scope
+        nameStack.pop();
         // Remove function recursive name (if any).
         nameStack.pop();
         break;
 
+      case Token.LP:
         // Note: The parameters and function body variables live in the
         // same scope, we introduce the scope when in the "shouldTraverse"
         // visit of LP, but remove it when when we exit the function above.
+        break;
 
       case Token.CATCH:
         // Remove catch except name from the stack of names.

```

## Patch #65 DynaMoth 

[com.google.javascript.rhino.Node:1567](https://github.com/google/closure-compiler/blob/9ee18283e02713d69dc96016d778a7f9fecaf15f/src//com/google/javascript/rhino/Node.java#L1567)

```Java
--- /tmp/closure_49_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_49_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1566,7 +1566,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.getChildCount() == 0) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:03:26.378000

Grid5000 node: griffon-22.nancy.grid5000.fr


# Closure 50


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/PeepholeReplaceKnownMethods.java b/src/com/google/javascript/jscomp/PeepholeReplaceKnownMethods.java
index afaf85a..ffe47d3 100644
--- a/src/com/google/javascript/jscomp/PeepholeReplaceKnownMethods.java
+++ b/src/com/google/javascript/jscomp/PeepholeReplaceKnownMethods.java
@@ -373,7 +373,7 @@ class PeepholeReplaceKnownMethods extends AbstractPeepholeOptimization{
 
     Node right = callTarget.getNext();
     if (right != null) {
+      if (right.getNext() != null || !NodeUtil.isImmutableValue(right)) {
-      if (!NodeUtil.isImmutableValue(right)) {
         return n;
       }
     }
@@ -386,12 +386,7 @@ class PeepholeReplaceKnownMethods extends AbstractPeepholeOptimization{
       return n;
     }
 
+    if (right != null && right.getType() == Token.STRING
+        && ",".equals(right.getString())) {
       // "," is the default, it doesn't need to be explicit
+      n.removeChild(right);
+      reportCodeChange();
+    }
 
     String joinString = (right == null) ? "," : NodeUtil.getStringValue(right);
     List<Node> arrayFoldedChildren = Lists.newLinkedList();

```

## Patch #66 DynaMoth 

[com.google.javascript.rhino.Node:1567](https://github.com/google/closure-compiler/blob/aad2ce0e53f9de6118bea89f38d779e7e53b15c0/src//com/google/javascript/rhino/Node.java#L1567)

```Java
--- /tmp/closure_50_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_50_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1566,7 +1566,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.getChildCount() == 0) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:02:47.046000

Grid5000 node: griffon-22.nancy.grid5000.fr


# Closure 51


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/CodeConsumer.java b/src/com/google/javascript/jscomp/CodeConsumer.java
index 3a66750..d9ff87a 100644
--- a/src/com/google/javascript/jscomp/CodeConsumer.java
+++ b/src/com/google/javascript/jscomp/CodeConsumer.java
@@ -238,7 +238,7 @@ abstract class CodeConsumer {
       add(" ");
     }
 
+    if ((long) x == x && !isNegativeZero(x)) {
-    if ((long) x == x) {
       long value = (long) x;
       long mantissa = value;
       int exp = 0;

```

## Patch #67 DynaMoth 

[com.google.javascript.rhino.Node:1567](https://github.com/google/closure-compiler/blob/b3ddf03bc7b3f53ab6e43d159848405c365adede/src//com/google/javascript/rhino/Node.java#L1567)

```Java
--- /tmp/closure_51_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_51_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1566,7 +1566,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.getChildCount() == 0) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:01:48.628000

Grid5000 node: graphene-61.nancy.grid5000.fr


# Closure 52


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/CodeGenerator.java b/src/com/google/javascript/jscomp/CodeGenerator.java
index 535148c..ac6299d 100644
--- a/src/com/google/javascript/jscomp/CodeGenerator.java
+++ b/src/com/google/javascript/jscomp/CodeGenerator.java
@@ -742,7 +742,7 @@ class CodeGenerator {
         return false;
       }
     }
+    return len > 0 && s.charAt(0) != '0';
-    return len > 0;
   }
 
   static double getSimpleNumber(String s) {

```

## Patch #68 DynaMoth 

[com.google.javascript.rhino.Node:1567](https://github.com/google/closure-compiler/blob/8e88651295c75b12c7262ec565f6efdad665c2da/src//com/google/javascript/rhino/Node.java#L1567)

```Java
--- /tmp/closure_52_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_52_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1566,7 +1566,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.getChildCount() == 0) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:01:49.424000

Grid5000 node: graphene-57.nancy.grid5000.fr


# Closure 53


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/InlineObjectLiterals.java b/src/com/google/javascript/jscomp/InlineObjectLiterals.java
index d92b16c..9061925 100644
--- a/src/com/google/javascript/jscomp/InlineObjectLiterals.java
+++ b/src/com/google/javascript/jscomp/InlineObjectLiterals.java
@@ -328,9 +328,6 @@ class InlineObjectLiterals implements CompilerPass {
       }
 
       Node replacement;
+      if (nodes.isEmpty()) {
+        replacement = new Node(Token.TRUE);
+      } else {
         // All assignments evaluate to true, so make sure that the
         // expr statement evaluates to true in case it matters.
         nodes.add(new Node(Token.TRUE));
@@ -350,7 +347,6 @@ class InlineObjectLiterals implements CompilerPass {
         }
         cur.addChildToFront(nodes.get(i));
         cur.addChildToFront(nodes.get(i + 1));
+      }
 
       Node replace = ref.getParent();
       replacement.copyInformationFromForTree(replace);

```

## Patch #69 DynaMoth 

[com.google.javascript.rhino.Node:1567](https://github.com/google/closure-compiler/blob/197c813b5a10863bbbeaf406ace68c7003b70cf7/src//com/google/javascript/rhino/Node.java#L1567)

```Java
--- /tmp/closure_53_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_53_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1566,7 +1566,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.getChildCount() == 0) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:01:48.028000

Grid5000 node: graphene-6.nancy.grid5000.fr


# Closure 54


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/TypedScopeCreator.java b/src/com/google/javascript/jscomp/TypedScopeCreator.java
index 5bccc06..8654ae6 100644
--- a/src/com/google/javascript/jscomp/TypedScopeCreator.java
+++ b/src/com/google/javascript/jscomp/TypedScopeCreator.java
@@ -1410,13 +1410,7 @@ final class TypedScopeCreator implements ScopeCreator {
           // then they are responsible for making sure that the object literal's
           // implicit prototype is set up appropriately. We just obey
           // the @extends tag.
+          ObjectType qVarType = ObjectType.cast(qVar.getType());
+          if (qVarType != null &&
+              rhsValue != null &&
+              rhsValue.getType() == Token.OBJECTLIT) {
+            typeRegistry.resetImplicitPrototype(
+                rhsValue.getJSType(), qVarType.getImplicitPrototype());
+          } else if (!qVar.isTypeInferred()) {
-          if (!qVar.isTypeInferred()) {
             // If the programmer has declared that F inherits from Super,
             // and they assign F.prototype to some arbitrary expression,
             // there's not much we can do. We just ignore the expression,
diff --git a/src/com/google/javascript/rhino/jstype/FunctionType.java b/src/com/google/javascript/rhino/jstype/FunctionType.java
index a87be07..b65d8b1 100644
--- a/src/com/google/javascript/rhino/jstype/FunctionType.java
+++ b/src/com/google/javascript/rhino/jstype/FunctionType.java
@@ -338,6 +338,7 @@ public class FunctionType extends PrototypeObjectType {
     //
     // In the second case, we just use the anonymous object as the prototype.
     if (baseType.hasReferenceName() ||
-        baseType.isUnknownType() ||
         isNativeObjectType() ||
         baseType.isFunctionPrototypeType() ||
         !(baseType instanceof PrototypeObjectType)) {
@@ -362,18 +363,14 @@ public class FunctionType extends PrototypeObjectType {
       return false;
     }
 
+    PrototypeObjectType oldPrototype = this.prototype;
+    boolean replacedPrototype = oldPrototype != null;
-    boolean replacedPrototype = prototype != null;
 
     this.prototype = prototype;
     this.prototypeSlot = new SimpleSlot("prototype", prototype, true);
     this.prototype.setOwnerFunction(this);
 
+    if (oldPrototype != null) {
       // Disassociating the old prototype makes this easier to debug--
       // we don't have to worry about two prototypes running around.
+      oldPrototype.setOwnerFunction(null);
+    }
 
     if (isConstructor() || isInterface()) {
       FunctionType superClass = getSuperClassConstructor();

```

## Patch #70 DynaMoth 

[com.google.javascript.rhino.Node:1567](https://github.com/google/closure-compiler/blob/be1250b32947754cb372676269abd4677d35ae70/src//com/google/javascript/rhino/Node.java#L1567)

```Java
--- /tmp/closure_54_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_54_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1566,7 +1566,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.getChildCount() == 0) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:01:49.310000

Grid5000 node: graphene-60.nancy.grid5000.fr


# Closure 55


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/FunctionRewriter.java b/src/com/google/javascript/jscomp/FunctionRewriter.java
index 9d8ebc3..dbf0006 100644
--- a/src/com/google/javascript/jscomp/FunctionRewriter.java
+++ b/src/com/google/javascript/jscomp/FunctionRewriter.java
@@ -114,8 +114,7 @@ class FunctionRewriter implements CompilerPass {
   }
 
   private static boolean isReduceableFunctionExpression(Node n) {
+    return NodeUtil.isFunctionExpression(n)
+        && !NodeUtil.isGetOrSetKey(n.getParent());
-    return NodeUtil.isFunctionExpression(n);
   }
 
   /**

```

## Patch #71 DynaMoth 

[com.google.javascript.jscomp.FunctionRewriter$GetterReducer:451](https://github.com/google/closure-compiler/blob/e9a107e11909077b17eab80073aa7b089464d6f4/src//com/google/javascript/jscomp/FunctionRewriter$GetterReducer.java#L451)

```Java
--- /tmp/closure_55_Brutpol/src/com/google/javascript/jscomp/FunctionRewriter.java
+++ /tmp/closure_55_Brutpol/src/com/google/javascript/jscomp/FunctionRewriter.java
@@ -450,3 +450,5 @@
           NodeUtil.isThis(value.getFirstChild())) {
-        return value.getLastChild();
+        if (functionNode.getLineno() == 1) {
+          return value.getLastChild();
+        }
       }

```
Execution time: 0:02:28.810000

Grid5000 node: griffon-12.nancy.grid5000.fr


# Closure 56


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/SourceFile.java b/src/com/google/javascript/jscomp/SourceFile.java
index 22414f6..fc0cf3f 100644
--- a/src/com/google/javascript/jscomp/SourceFile.java
+++ b/src/com/google/javascript/jscomp/SourceFile.java
@@ -239,11 +239,7 @@ public class SourceFile implements StaticSourceFile, Serializable {
       // If next new line cannot be found, there are two cases
       // 1. pos already reaches the end of file, then null should be returned
       // 2. otherwise, return the contents between pos and the end of file.
+      if (pos >= js.length()) {
         return null;
+      } else {
+        return js.substring(pos, js.length());
+      }
     } else {
       return js.substring(pos, js.indexOf('\n', pos));
     }

```

## Patch #72 DynaMoth 

[com.google.javascript.rhino.Node:1567](https://github.com/google/closure-compiler/blob/9fd78253427cf04d61be44a7e7124f5a9c7fe1c4/src//com/google/javascript/rhino/Node.java#L1567)

```Java
--- /tmp/closure_56_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_56_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1566,7 +1566,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.getChildCount() == 0) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:01:51.485000

Grid5000 node: graphene-66.nancy.grid5000.fr


# Closure 57


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/ClosureCodingConvention.java b/src/com/google/javascript/jscomp/ClosureCodingConvention.java
index b5a3c1b..c507c92 100644
--- a/src/com/google/javascript/jscomp/ClosureCodingConvention.java
+++ b/src/com/google/javascript/jscomp/ClosureCodingConvention.java
@@ -194,7 +194,7 @@ public class ClosureCodingConvention extends DefaultCodingConvention {
         String qualifiedName = callee.getQualifiedName();
         if (functionName.equals(qualifiedName)) {
           Node target = callee.getNext();
+          if (target != null && target.getType() == Token.STRING) {
-          if (target != null) {
             className = target.getString();
           }
         }

```

## Patch #73 DynaMoth 

[com.google.javascript.rhino.Node:1567](https://github.com/google/closure-compiler/blob/51f8b4cf6559ad7d98f56ee82bcf92bfea25c828/src//com/google/javascript/rhino/Node.java#L1567)

```Java
--- /tmp/closure_57_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_57_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1566,7 +1566,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.getChildCount() == 0) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:01:47.966000

Grid5000 node: graphite-4.nancy.grid5000.fr


# Closure 58


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/LiveVariablesAnalysis.java b/src/com/google/javascript/jscomp/LiveVariablesAnalysis.java
index e107faa..7999db4 100644
--- a/src/com/google/javascript/jscomp/LiveVariablesAnalysis.java
+++ b/src/com/google/javascript/jscomp/LiveVariablesAnalysis.java
@@ -203,12 +203,8 @@ class LiveVariablesAnalysis extends
             // for(var x in y) {...}
             lhs = lhs.getLastChild();
           }
+          if (NodeUtil.isName(lhs)) {
             addToSetIfLocal(lhs, kill);
             addToSetIfLocal(lhs, gen);
+          } else {
+            computeGenKill(lhs, gen, kill, conditional);
+          }
           computeGenKill(rhs, gen, kill, conditional);
         }
         return;

```

## Patch #74 DynaMoth 

[com.google.javascript.rhino.Node:1567](https://github.com/google/closure-compiler/blob/26d3cc7efcc17330935ffe55f931a82957ebe7c2/src//com/google/javascript/rhino/Node.java#L1567)

```Java
--- /tmp/closure_58_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_58_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1566,7 +1566,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.getChildCount() == 0) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:01:47.928000

Grid5000 node: graphene-65.nancy.grid5000.fr


# Closure 59


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/Compiler.java b/src/com/google/javascript/jscomp/Compiler.java
index 1d6e494..b3ca246 100644
--- a/src/com/google/javascript/jscomp/Compiler.java
+++ b/src/com/google/javascript/jscomp/Compiler.java
@@ -252,8 +252,7 @@ public class Compiler extends AbstractCompiler {
           CheckLevel.OFF);
     }
 
+    if (options.checkGlobalThisLevel.isOn() &&
+        !options.disables(DiagnosticGroups.GLOBAL_THIS)) {
-    if (options.checkGlobalThisLevel.isOn()) {
       options.setWarningLevel(
           DiagnosticGroups.GLOBAL_THIS,
           options.checkGlobalThisLevel);

```

## Patch #75 DynaMoth 

[com.google.javascript.jscomp.WarningLevel:79](https://github.com/google/closure-compiler/blob/2ca707d9b2c41776916744ca7031c9b7b340cccc/src//com/google/javascript/jscomp/WarningLevel.java#L79)

```Java
--- /tmp/closure_59_Brutpol/src/com/google/javascript/jscomp/WarningLevel.java
+++ /tmp/closure_59_Brutpol/src/com/google/javascript/jscomp/WarningLevel.java
@@ -78,3 +78,5 @@
     options.checkSuspiciousCode = true;
-    options.checkGlobalThisLevel = CheckLevel.WARNING;
+    if (options.shouldColorizeErrorOutput()) {
+      options.checkGlobalThisLevel = CheckLevel.WARNING;
+    }
     options.checkSymbols = true;

```
Execution time: 0:04:43.043000

Grid5000 node: griffon-28.nancy.grid5000.fr


# Closure 60


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/NodeUtil.java b/src/com/google/javascript/jscomp/NodeUtil.java
index 43a296f..7f20c2e 100644
--- a/src/com/google/javascript/jscomp/NodeUtil.java
+++ b/src/com/google/javascript/jscomp/NodeUtil.java
@@ -105,8 +105,6 @@ public final class NodeUtil {
         // ignoring side-effects
         return TernaryValue.TRUE;
 
+      case Token.VOID:
+        return TernaryValue.FALSE;
 
       default:
         return getPureBooleanValue(n);
@@ -135,10 +133,7 @@ public final class NodeUtil {
         return TernaryValue.FALSE;
 
       case Token.VOID:
+        if (!mayHaveSideEffects(n.getFirstChild())) {
           return TernaryValue.FALSE;
+        }
+        break;
 
       case Token.NAME:
         String name = n.getString();

```

## Patch #76 DynaMoth 

[com.google.javascript.rhino.Node:1500](https://github.com/google/closure-compiler/blob/1b0a167cab534ca5dec916729b0a12af1a00bbc6/src//com/google/javascript/rhino/Node.java#L1500)

```Java
--- /tmp/closure_60_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_60_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1499,7 +1499,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.getChildCount() == 0) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:02:29.057000

Grid5000 node: griffon-10.nancy.grid5000.fr


# Closure 61


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/NodeUtil.java b/src/com/google/javascript/jscomp/NodeUtil.java
index f9ce42e..1844b18 100644
--- a/src/com/google/javascript/jscomp/NodeUtil.java
+++ b/src/com/google/javascript/jscomp/NodeUtil.java
@@ -955,12 +955,6 @@ public final class NodeUtil {
       }
 
       // Functions in the "Math" namespace have no side effects.
+      if (nameNode.getFirstChild().getType() == Token.NAME) {
+        String namespaceName = nameNode.getFirstChild().getString();
+        if (namespaceName.equals("Math")) {
+          return false;
+        }
+      }
 
       if (compiler != null && !compiler.hasRegExpGlobalReferences()) {
         if (nameNode.getFirstChild().getType() == Token.REGEXP

```

## Patch #77 DynaMoth 

[com.google.javascript.rhino.Node:1461](https://github.com/google/closure-compiler/blob/4f301973f7250537084d4d15edc00694365fdba7/src//com/google/javascript/rhino/Node.java#L1461)

```Java
--- /tmp/closure_61_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_61_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1460,7 +1460,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.getChildCount() == 0) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:02:27.356000

Grid5000 node: griffon-18.nancy.grid5000.fr


# Closure 62


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/LightweightMessageFormatter.java b/src/com/google/javascript/jscomp/LightweightMessageFormatter.java
index 420dbc0..5a4f884 100644
--- a/src/com/google/javascript/jscomp/LightweightMessageFormatter.java
+++ b/src/com/google/javascript/jscomp/LightweightMessageFormatter.java
@@ -95,7 +95,7 @@ public class LightweightMessageFormatter extends AbstractMessageFormatter {
       // charno == sourceExpert.length() means something is missing
       // at the end of the line
       if (excerpt.equals(LINE)
+          && 0 <= charno && charno <= sourceExcerpt.length()) {
-          && 0 <= charno && charno < sourceExcerpt.length()) {
         for (int i = 0; i < charno; i++) {
           char c = sourceExcerpt.charAt(i);
           if (Character.isWhitespace(c)) {

```

## Patch #78 DynaMoth 

[com.google.javascript.jscomp.LightweightMessageFormatter:97](https://github.com/google/closure-compiler/blob/a14b71db4e2b765474f3eed6cb98617a77183415/src//com/google/javascript/jscomp/LightweightMessageFormatter.java#L97)

```Java
--- /tmp/closure_62_Brutpol/src/com/google/javascript/jscomp/LightweightMessageFormatter.java
+++ /tmp/closure_62_Brutpol/src/com/google/javascript/jscomp/LightweightMessageFormatter.java
@@ -96,4 +96,3 @@
       // at the end of the line
-      if (excerpt.equals(LINE)
-          && 0 <= charno && charno < sourceExcerpt.length()) {
+      if (error.equals((java.lang.Object) error)) {
         for (int i = 0; i < charno; i++) {

```
Execution time: 0:02:20.230000

Grid5000 node: griffon-5.nancy.grid5000.fr


# Closure 63


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/LightweightMessageFormatter.java b/src/com/google/javascript/jscomp/LightweightMessageFormatter.java
index 420dbc0..5a4f884 100644
--- a/src/com/google/javascript/jscomp/LightweightMessageFormatter.java
+++ b/src/com/google/javascript/jscomp/LightweightMessageFormatter.java
@@ -95,7 +95,7 @@ public class LightweightMessageFormatter extends AbstractMessageFormatter {
       // charno == sourceExpert.length() means something is missing
       // at the end of the line
       if (excerpt.equals(LINE)
+          && 0 <= charno && charno <= sourceExcerpt.length()) {
-          && 0 <= charno && charno < sourceExcerpt.length()) {
         for (int i = 0; i < charno; i++) {
           char c = sourceExcerpt.charAt(i);
           if (Character.isWhitespace(c)) {

```

## Patch #79 DynaMoth 

[com.google.javascript.jscomp.LightweightMessageFormatter:97](https://github.com/google/closure-compiler/blob/764ebd361b7346a8b17ff663d12e5db49cc17442/src//com/google/javascript/jscomp/LightweightMessageFormatter.java#L97)

```Java
--- /tmp/closure_63_Brutpol/src/com/google/javascript/jscomp/LightweightMessageFormatter.java
+++ /tmp/closure_63_Brutpol/src/com/google/javascript/jscomp/LightweightMessageFormatter.java
@@ -96,4 +96,3 @@
       // at the end of the line
-      if (excerpt.equals(LINE)
-          && 0 <= charno && charno < sourceExcerpt.length()) {
+      if (error.equals((java.lang.Object) error)) {
         for (int i = 0; i < charno; i++) {

```
Execution time: 0:02:17.509000

Grid5000 node: griffon-10.nancy.grid5000.fr


# Closure 64


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/Compiler.java b/src/com/google/javascript/jscomp/Compiler.java
index 45d88ba..71f76d8 100644
--- a/src/com/google/javascript/jscomp/Compiler.java
+++ b/src/com/google/javascript/jscomp/Compiler.java
@@ -1429,7 +1429,7 @@ public class Compiler extends AbstractCompiler {
 
         // if LanguageMode is ECMASCRIPT5_STRICT, only print 'use strict'
         // for the first input file
+        String code = toSource(root, sourceMap, inputSeqNum == 0);
-        String code = toSource(root, sourceMap);
         if (!code.isEmpty()) {
           cb.append(code);
 
@@ -1458,19 +1458,19 @@ public class Compiler extends AbstractCompiler {
   @Override
   String toSource(Node n) {
     initCompilerOptionsIfTesting();
+    return toSource(n, null, true);
-    return toSource(n, null);
   }
 
   /**
    * Generates JavaScript source code for an AST.
    */
+  private String toSource(Node n, SourceMap sourceMap, boolean firstOutput) {
-  private String toSource(Node n, SourceMap sourceMap) {
     CodePrinter.Builder builder = new CodePrinter.Builder(n);
     builder.setPrettyPrint(options.prettyPrint);
     builder.setLineBreak(options.lineBreak);
     builder.setSourceMap(sourceMap);
     builder.setSourceMapDetailLevel(options.sourceMapDetailLevel);
+    builder.setTagAsStrict(firstOutput &&
-    builder.setTagAsStrict(
         options.getLanguageOut() == LanguageMode.ECMASCRIPT5_STRICT);
     builder.setLineLengthThreshold(options.lineLengthThreshold);
 

```

## Patch #80 DynaMoth 

[com.google.javascript.rhino.Node:1385](https://github.com/google/closure-compiler/blob/52eb8a91746f2059d93885785cbaefa0c0a20870/src//com/google/javascript/rhino/Node.java#L1385)

```Java
--- /tmp/closure_64_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_64_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1384,7 +1384,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.getChildCount() == 0) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:01:43.148000

Grid5000 node: graphene-62.nancy.grid5000.fr


# Closure 65


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/CodeGenerator.java b/src/com/google/javascript/jscomp/CodeGenerator.java
index cb9229a..6117a89 100644
--- a/src/com/google/javascript/jscomp/CodeGenerator.java
+++ b/src/com/google/javascript/jscomp/CodeGenerator.java
@@ -1012,7 +1012,7 @@ class CodeGenerator {
     for (int i = 0; i < s.length(); i++) {
       char c = s.charAt(i);
       switch (c) {
+        case '\0': sb.append("\\000"); break;
-        case '\0': sb.append("\\0"); break;
         case '\n': sb.append("\\n"); break;
         case '\r': sb.append("\\r"); break;
         case '\t': sb.append("\\t"); break;

```

## Patch #81 DynaMoth 

[com.google.javascript.rhino.Node:1385](https://github.com/google/closure-compiler/blob/f0d01c4f16966e6b7bf5369fd82afafde0b240da/src//com/google/javascript/rhino/Node.java#L1385)

```Java
--- /tmp/closure_65_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_65_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1384,7 +1384,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.getChildCount() == 0) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:01:47.931000

Grid5000 node: graphene-111.nancy.grid5000.fr


# Closure 66


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/TypeCheck.java b/src/com/google/javascript/jscomp/TypeCheck.java
index d3def01..edb7805 100644
--- a/src/com/google/javascript/jscomp/TypeCheck.java
+++ b/src/com/google/javascript/jscomp/TypeCheck.java
@@ -513,9 +513,7 @@ public class TypeCheck implements NodeTraversal.Callback, CompilerPass {
         // Object literal keys are handled with OBJECTLIT
         if (!NodeUtil.isObjectLitKey(n, n.getParent())) {
           ensureTyped(t, n, STRING_TYPE);
+        } else {
           // Object literal keys are not typeable
+          typeable = false;
         }
         break;
 

```

## Patch #82 DynaMoth 

[com.google.javascript.jscomp.TypeCheck:822](https://github.com/google/closure-compiler/blob/2e902f066499c8ce18867117768fc85ebc9c950a/src//com/google/javascript/jscomp/TypeCheck.java#L822)

```Java
--- /tmp/closure_66_Brutpol/src/com/google/javascript/jscomp/TypeCheck.java
+++ /tmp/closure_66_Brutpol/src/com/google/javascript/jscomp/TypeCheck.java
@@ -821,3 +821,5 @@
     if (type == null) {
-      nullCount++;
+      if (this.inExterns) {
+        nullCount++;
+      }
     } else if (type.isUnknownType()) {

```
Execution time: 0:03:17.211000

Grid5000 node: griffon-15.nancy.grid5000.fr


# Closure 67


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/AnalyzePrototypeProperties.java b/src/com/google/javascript/jscomp/AnalyzePrototypeProperties.java
index 4472638..30b19e0 100644
--- a/src/com/google/javascript/jscomp/AnalyzePrototypeProperties.java
+++ b/src/com/google/javascript/jscomp/AnalyzePrototypeProperties.java
@@ -315,7 +315,7 @@ class AnalyzePrototypeProperties implements CompilerPass {
       Node n = assign.getFirstChild();
       if (n != null && NodeUtil.isVarOrSimpleAssignLhs(n, assign)
           && n.getType() == Token.GETPROP
+          && assign.getParent().getType() == Token.EXPR_RESULT) {
-          ) {
         // We want to exclude the assignment itself from the usage list
         boolean isChainedProperty =
             n.getFirstChild().getType() == Token.GETPROP;

```

## Patch #83 DynaMoth 

[com.google.javascript.rhino.Node:1385](https://github.com/google/closure-compiler/blob/495f7acb35b5802c8d90dbf46c4cc4429e765695/src//com/google/javascript/rhino/Node.java#L1385)

```Java
--- /tmp/closure_67_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_67_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1384,7 +1384,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.getChildCount() == 0) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:02:22.214000

Grid5000 node: griffon-15.nancy.grid5000.fr


# Closure 68


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/parsing/JsDocInfoParser.java b/src/com/google/javascript/jscomp/parsing/JsDocInfoParser.java
index 167e2cb..26a56a7 100644
--- a/src/com/google/javascript/jscomp/parsing/JsDocInfoParser.java
+++ b/src/com/google/javascript/jscomp/parsing/JsDocInfoParser.java
@@ -865,9 +865,9 @@ public final class JsDocInfoParser {
                         }
                         break;
                     }
+                  }
 
                   token = eatTokensUntilEOL();
-                  }
                   continue retry;
               }
             }
@@ -1706,7 +1706,6 @@ public final class JsDocInfoParser {
       }
     }
 
+    restoreLookAhead(token);
     return reportGenericTypeSyntaxWarning();
   }
 
@@ -1759,7 +1758,6 @@ public final class JsDocInfoParser {
     // NOTE(nicksantos): We're not implementing generics at the moment, so
     // just throw out TypeParameters.
     if (token != JsDocToken.LP) {
+      restoreLookAhead(token);
       return reportTypeSyntaxWarning("msg.jsdoc.missing.lp");
     }
 

```

## Patch #84 DynaMoth 

[com.google.javascript.rhino.Node:1385](https://github.com/google/closure-compiler/blob/811d5ea1afb68a82d2d1c6e89f0a42ea05bf13ed/src//com/google/javascript/rhino/Node.java#L1385)

```Java
--- /tmp/closure_68_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_68_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1384,7 +1384,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.getChildCount() == 0) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:01:43.691000

Grid5000 node: graphene-49.nancy.grid5000.fr


# Closure 69


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/TypeCheck.java b/src/com/google/javascript/jscomp/TypeCheck.java
index 5edb4f0..f58418c 100644
--- a/src/com/google/javascript/jscomp/TypeCheck.java
+++ b/src/com/google/javascript/jscomp/TypeCheck.java
@@ -1577,13 +1577,6 @@ public class TypeCheck implements NodeTraversal.Callback, CompilerPass {
 
       // Functions with explcit 'this' types must be called in a GETPROP
       // or GETELEM.
+      if (functionType.isOrdinaryFunction() &&
+          !functionType.getTypeOfThis().isUnknownType() &&
+          !functionType.getTypeOfThis().isNativeObjectType() &&
+          !(child.getType() == Token.GETELEM ||
+            child.getType() == Token.GETPROP)) {
+        report(t, n, EXPECTED_THIS_TYPE, functionType.toString());
+      }
 
       visitParameterList(t, n, functionType);
       ensureTyped(t, n, functionType.getReturnType());

```

## Patch #85 DynaMoth 

[com.google.javascript.rhino.Node:1385](https://github.com/google/closure-compiler/blob/9dc57a53a7fe39df00088e39868b758eeef9f186/src//com/google/javascript/rhino/Node.java#L1385)

```Java
--- /tmp/closure_69_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_69_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1384,7 +1384,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.getChildCount() == 0) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:01:46.206000

Grid5000 node: graphene-63.nancy.grid5000.fr


# Closure 70


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/TypedScopeCreator.java b/src/com/google/javascript/jscomp/TypedScopeCreator.java
index aa7e245..210bb66 100644
--- a/src/com/google/javascript/jscomp/TypedScopeCreator.java
+++ b/src/com/google/javascript/jscomp/TypedScopeCreator.java
@@ -1742,7 +1742,7 @@ final class TypedScopeCreator implements ScopeCreator {
           for (Node astParameter : astParameters.children()) {
             if (jsDocParameter != null) {
               defineSlot(astParameter, functionNode,
+                  jsDocParameter.getJSType(), false);
-                  jsDocParameter.getJSType(), true);
               jsDocParameter = jsDocParameter.getNext();
             } else {
               defineSlot(astParameter, functionNode, null, true);

```

## Patch #86 DynaMoth 

[com.google.javascript.rhino.Node:1385](https://github.com/google/closure-compiler/blob/a796e1501b3b41357aeeb65a73e8fbdd9dc588b2/src//com/google/javascript/rhino/Node.java#L1385)

```Java
--- /tmp/closure_70_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_70_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1384,7 +1384,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.getChildCount() == 0) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:01:46.001000

Grid5000 node: graphene-64.nancy.grid5000.fr


# Closure 71


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/CheckAccessControls.java b/src/com/google/javascript/jscomp/CheckAccessControls.java
index 09eaa26..b23fd7a 100644
--- a/src/com/google/javascript/jscomp/CheckAccessControls.java
+++ b/src/com/google/javascript/jscomp/CheckAccessControls.java
@@ -413,7 +413,7 @@ class CheckAccessControls implements ScopedCallback, HotSwapCompilerPass {
     if (objectType != null) {
       // Is this a normal property access, or are we trying to override
       // an existing property?
+      boolean isOverride = parent.getJSDocInfo() != null &&
-      boolean isOverride = t.inGlobalScope() &&
           parent.getType() == Token.ASSIGN &&
           parent.getFirstChild() == getprop;
 

```

## Patch #87 DynaMoth 

[com.google.javascript.rhino.Node:1382](https://github.com/google/closure-compiler/blob/35e5050652cdb802b0bf7769272b092b785242bb/src//com/google/javascript/rhino/Node.java#L1382)

```Java
--- /tmp/closure_71_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_71_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1381,7 +1381,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.getChildCount() == 0) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:01:43.516000

Grid5000 node: graphene-67.nancy.grid5000.fr


# Closure 72


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/FunctionToBlockMutator.java b/src/com/google/javascript/jscomp/FunctionToBlockMutator.java
index 3fee1a9..64764c0 100644
--- a/src/com/google/javascript/jscomp/FunctionToBlockMutator.java
+++ b/src/com/google/javascript/jscomp/FunctionToBlockMutator.java
@@ -149,8 +149,6 @@ class FunctionToBlockMutator {
                 "inline_",
                 isCallInLoop)));
     // Make label names unique to this instance.
+    new RenameLabels(compiler, new LabelNameSupplier(idSupplier), false)
+        .process(null, fnNode);
   }
 
   static class LabelNameSupplier implements Supplier<String> {
diff --git a/src/com/google/javascript/jscomp/RenameLabels.java b/src/com/google/javascript/jscomp/RenameLabels.java
index 28e52ee..a2f53cf 100644
--- a/src/com/google/javascript/jscomp/RenameLabels.java
+++ b/src/com/google/javascript/jscomp/RenameLabels.java
@@ -212,7 +212,7 @@ final class RenameLabels implements CompilerPass {
       String name = nameNode.getString();
       LabelInfo li = getLabelInfo(name);
       // This is a label...
+      if (li.referenced || !removeUnused) {
-      if (li.referenced) {
         String newName = getNameForId(li.id);
         if (!name.equals(newName)) {
           // ... and it is used, give it the short name.

```

## Patch #88 DynaMoth 

[com.google.javascript.rhino.Node:1382](https://github.com/google/closure-compiler/blob/f4dbf0cf3525586cec52509189e5559a6e09df68/src//com/google/javascript/rhino/Node.java#L1382)

```Java
--- /tmp/closure_72_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_72_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1381,7 +1381,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.getChildCount() == 0) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:02:18.672000

Grid5000 node: griffon-11.nancy.grid5000.fr


# Closure 73


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/CodeGenerator.java b/src/com/google/javascript/jscomp/CodeGenerator.java
index 823d897..558e74f 100644
--- a/src/com/google/javascript/jscomp/CodeGenerator.java
+++ b/src/com/google/javascript/jscomp/CodeGenerator.java
@@ -1042,7 +1042,7 @@ class CodeGenerator {
             // No charsetEncoder provided - pass straight latin characters
             // through, and escape the rest.  Doing the explicit character
             // check is measurably faster than using the CharsetEncoder.
+            if (c > 0x1f && c < 0x7f) {
-            if (c > 0x1f && c <= 0x7f) {
               sb.append(c);
             } else {
               // Other characters can be misinterpreted by some js parsers,

```

## Patch #89 DynaMoth 

[com.google.javascript.rhino.Node:1383](https://github.com/google/closure-compiler/blob/2225b0a8356be136351809842876435c0a9c708a/src//com/google/javascript/rhino/Node.java#L1383)

```Java
--- /tmp/closure_73_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_73_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1382,7 +1382,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.getChildCount() == 0) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:01:36.644000

Grid5000 node: graphene-68.nancy.grid5000.fr


# Closure 75


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/NodeUtil.java b/src/com/google/javascript/jscomp/NodeUtil.java
index c97e091..7a882de 100644
--- a/src/com/google/javascript/jscomp/NodeUtil.java
+++ b/src/com/google/javascript/jscomp/NodeUtil.java
@@ -310,10 +310,7 @@ public final class NodeUtil {
   }
 
   static Double getStringNumberValue(String rawJsString) {
+    if (rawJsString.contains("\u000b")) {
       // vertical tab is not always whitespace
+      return null;
+    }
 
     String s = trimJsWhiteSpace(rawJsString);
     // return ScriptRuntime.toNumber(s);
@@ -375,7 +372,7 @@ public final class NodeUtil {
   static TernaryValue isStrWhiteSpaceChar(int c) {
     switch (c) {
       case '\u000B': // <VT>
+        return TernaryValue.UNKNOWN;  // IE says "no", EcmaScript says "yes"
-        return TernaryValue.TRUE;
       case ' ': // <SP>
       case '\n': // <LF>
       case '\r': // <CR>

```

## Patch #90 DynaMoth 

[com.google.javascript.rhino.Node:1371](https://github.com/google/closure-compiler/blob/5bb06b8ce602d037a8ed77583a4a110018e58ce4/src//com/google/javascript/rhino/Node.java#L1371)

```Java
--- /tmp/closure_75_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_75_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1370,7 +1370,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.getChildCount() == 0) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:03:15.715000

Grid5000 node: griffon-11.nancy.grid5000.fr


# Closure 76


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/DeadAssignmentsElimination.java b/src/com/google/javascript/jscomp/DeadAssignmentsElimination.java
index aaab0d6..63a7f29 100644
--- a/src/com/google/javascript/jscomp/DeadAssignmentsElimination.java
+++ b/src/com/google/javascript/jscomp/DeadAssignmentsElimination.java
@@ -297,40 +297,26 @@ class DeadAssignmentsElimination extends AbstractPostOrderCallback implements
           // If the currently node is the first child of
           // AND/OR, be conservative only consider the READs
           // of the second operand.
+          if (n.getNext() != null) {
+            state = isVariableReadBeforeKill(
+                n.getNext(), variable);
+            if (state == VariableLiveness.KILL) {
+              state = VariableLiveness.MAYBE_LIVE;
+            }
+          }
+          break;
 
         case Token.HOOK:
           // If current node is the condition, check each following
           // branch, otherwise it is a conditional branch and the
           // other branch can be ignored.
+          if (n.getNext() != null && n.getNext().getNext() != null) {
+            state = checkHookBranchReadBeforeKill(
+                n.getNext(), n.getNext().getNext(), variable);
+          }
+          break;
 
         default:
           for(Node sibling = n.getNext(); sibling != null;
               sibling = sibling.getNext()) {
-            if (!ControlFlowGraph.isEnteringNewCfgNode(sibling)) {
             state = isVariableReadBeforeKill(sibling, variable);
+            if (state != VariableLiveness.MAYBE_LIVE) {
+              break;
+            }
+          }
+      }
 
       // If we see a READ or KILL there is no need to continue.
       if (state == VariableLiveness.READ) {
         return true;
       } else if (state == VariableLiveness.KILL) {
         return false;
-            }
-          }
-      }
       }
       n = n.getParent();
     }
@@ -351,9 +337,6 @@ class DeadAssignmentsElimination extends AbstractPostOrderCallback implements
    */
   private VariableLiveness isVariableReadBeforeKill(
       Node n, String variable) {
+    if (ControlFlowGraph.isEnteringNewCfgNode(n)) { // Not a FUNCTION
+      return VariableLiveness.MAYBE_LIVE;
+    }
 
     if (NodeUtil.isName(n) && variable.equals(n.getString())) {
       if (NodeUtil.isLhs(n, n.getParent())) {
@@ -376,25 +359,9 @@ class DeadAssignmentsElimination extends AbstractPostOrderCallback implements
       // Conditionals
       case Token.OR:
       case Token.AND:
+        VariableLiveness v1 = isVariableReadBeforeKill(
+          n.getFirstChild(), variable);
+        VariableLiveness v2 = isVariableReadBeforeKill(
+          n.getLastChild(), variable);
         // With a AND/OR the first branch always runs, but the second is
         // may not.
+        if (v1 != VariableLiveness.MAYBE_LIVE) {
+          return v1;
+        } else if (v2 == VariableLiveness.READ) {
+          return VariableLiveness.READ;
+        } else {
+          return VariableLiveness.MAYBE_LIVE;
+        }
       case Token.HOOK:
+        VariableLiveness first = isVariableReadBeforeKill(
+            n.getFirstChild(), variable);
+        if (first != VariableLiveness.MAYBE_LIVE) {
+          return first;
+        }
         return checkHookBranchReadBeforeKill(
             n.getFirstChild().getNext(), n.getLastChild(), variable);
 
@@ -402,11 +369,13 @@ class DeadAssignmentsElimination extends AbstractPostOrderCallback implements
         // Expressions are evaluated left-right, depth first.
         for (Node child = n.getFirstChild();
             child != null; child = child.getNext()) {
-          if (!ControlFlowGraph.isEnteringNewCfgNode(child)) { // Not a FUNCTION
           VariableLiveness state = isVariableReadBeforeKill(child, variable);
           if (state != VariableLiveness.MAYBE_LIVE) {
             return state;
           }
         }
-      }
     }
 
     return VariableLiveness.MAYBE_LIVE;

```

## Patch #91 DynaMoth 

[com.google.javascript.rhino.Node:1369](https://github.com/google/closure-compiler/blob/59114084029697dbff042b43e360360e8ca439b5/src//com/google/javascript/rhino/Node.java#L1369)

```Java
--- /tmp/closure_76_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_76_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1368,7 +1368,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.getChildCount() == 0) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:02:17.692000

Grid5000 node: griffon-2.nancy.grid5000.fr


# Closure 77


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/CodeGenerator.java b/src/com/google/javascript/jscomp/CodeGenerator.java
index 22df685..8cd3ab9 100644
--- a/src/com/google/javascript/jscomp/CodeGenerator.java
+++ b/src/com/google/javascript/jscomp/CodeGenerator.java
@@ -963,7 +963,6 @@ class CodeGenerator {
     for (int i = 0; i < s.length(); i++) {
       char c = s.charAt(i);
       switch (c) {
+        case '\0': sb.append("\\0"); break;
         case '\n': sb.append("\\n"); break;
         case '\r': sb.append("\\r"); break;
         case '\t': sb.append("\\t"); break;

```

## Patch #92 DynaMoth 

[com.google.javascript.rhino.Node:1369](https://github.com/google/closure-compiler/blob/7dd992928af6ec032098b1d205d8bca04ba5e1a2/src//com/google/javascript/rhino/Node.java#L1369)

```Java
--- /tmp/closure_77_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_77_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1368,7 +1368,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.getChildCount() == 0) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:01:31.197000

Grid5000 node: graphene-7.nancy.grid5000.fr


# Closure 78


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/PeepholeFoldConstants.java b/src/com/google/javascript/jscomp/PeepholeFoldConstants.java
index 1afb7a8..c5ef4b0 100644
--- a/src/com/google/javascript/jscomp/PeepholeFoldConstants.java
+++ b/src/com/google/javascript/jscomp/PeepholeFoldConstants.java
@@ -708,12 +708,14 @@ class PeepholeFoldConstants extends AbstractPeepholeOptimization {
         break;
       case Token.MOD:
         if (rval == 0) {
-          error(DiagnosticType.error("JSC_DIVIDE_BY_0_ERROR", "Divide by 0"), right);
           return null;
         }
         result = lval % rval;
         break;
       case Token.DIV:
         if (rval == 0) {
-          error(DiagnosticType.error("JSC_DIVIDE_BY_0_ERROR", "Divide by 0"), right);
           return null;
         }
         result = lval / rval;

```

## Patch #93 DynaMoth 

[com.google.javascript.jscomp.PeepholeFoldConstants:718](https://github.com/google/closure-compiler/blob/2130dd16970db475c7392fd19f1f072f0f418ed2/src//com/google/javascript/jscomp/PeepholeFoldConstants.java#L718)

```Java
--- /tmp/closure_78_Brutpol/src/com/google/javascript/jscomp/PeepholeFoldConstants.java
+++ /tmp/closure_78_Brutpol/src/com/google/javascript/jscomp/PeepholeFoldConstants.java
@@ -717,3 +717,5 @@
         if (rval == 0) {
-          error(DiagnosticType.error("JSC_DIVIDE_BY_0_ERROR", "Divide by 0"), right);
+          if (this.areNodesEqualForInlining((com.google.javascript.rhino.Node) left, (com.google.javascript.rhino.Node) right)) {
+            error(DiagnosticType.error("JSC_DIVIDE_BY_0_ERROR", "Divide by 0"), right);
+          }
           return null;

```
Execution time: 0:02:11.405000

Grid5000 node: griffon-22.nancy.grid5000.fr


# Closure 109


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/parsing/JsDocInfoParser.java b/src/com/google/javascript/jscomp/parsing/JsDocInfoParser.java
index c115e10..e30c350 100644
--- a/src/com/google/javascript/jscomp/parsing/JsDocInfoParser.java
+++ b/src/com/google/javascript/jscomp/parsing/JsDocInfoParser.java
@@ -1905,11 +1905,7 @@ public final class JsDocInfoParser {
    * For expressions on the right hand side of a this: or new:
    */
   private Node parseContextTypeExpression(JsDocToken token) {
+    if (token == JsDocToken.QMARK) {
+      return newNode(Token.QMARK);
+    } else {
+      return parseBasicTypeExpression(token);
+    }
-          return parseTypeName(token);
   }
 
   /**

```

## Patch #94 DynaMoth 

[com.google.javascript.rhino.Node:1434](https://github.com/google/closure-compiler/blob/bd1786c89f5dd936c7b7d2a099cc24d74bc5f746/src//com/google/javascript/rhino/Node.java#L1434)

```Java
--- /tmp/closure_109_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_109_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1433,7 +1433,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:02:30.579000

Grid5000 node: graphene-8.nancy.grid5000.fr


# Closure 110


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/ScopedAliases.java b/src/com/google/javascript/jscomp/ScopedAliases.java
index fbd46d3..7e9c8b8 100644
--- a/src/com/google/javascript/jscomp/ScopedAliases.java
+++ b/src/com/google/javascript/jscomp/ScopedAliases.java
@@ -355,7 +355,6 @@ class ScopedAliases implements HotSwapCompilerPass {
         Node n = v.getNode();
         Node parent = n.getParent();
         boolean isVar = parent.isVar();
+        boolean isFunctionDecl = NodeUtil.isFunctionDeclaration(parent);
         if (isVar && n.getFirstChild() != null && n.getFirstChild().isQualifiedName()) {
           recordAlias(v);
         } else if (v.isBleedingFunction()) {
@@ -364,13 +363,12 @@ class ScopedAliases implements HotSwapCompilerPass {
         } else if (parent.getType() == Token.LP) {
           // Parameters of the scope function also get a BAD_PARAMETERS
           // error.
+        } else if (isVar || isFunctionDecl) {
+          boolean isHoisted = NodeUtil.isHoistedFunctionDeclaration(parent);
-        } else if (isVar) {
           Node grandparent = parent.getParent();
+          Node value = v.getInitialValue() != null ?
+              v.getInitialValue() :
-          Node value = n.hasChildren() ?
-              v.getInitialValue().detachFromParent() :
               null;
+          Node varNode = null;
-          Node varNode = parent;
 
           String name = n.getString();
           int nameCount = scopedAliasNames.count(name);
@@ -382,9 +380,7 @@ class ScopedAliases implements HotSwapCompilerPass {
 
           // First, we need to free up the function expression (EXPR)
           // to be used in another expression.
+          if (isFunctionDecl) {
             // Replace "function NAME() { ... }" with "var NAME;".
+            Node existingName = v.getNameNode();
 
             // We can't keep the local name on the function expression,
             // because IE is buggy and will leak the name into the global
@@ -393,19 +389,9 @@ class ScopedAliases implements HotSwapCompilerPass {
             //
             // This will only cause problems if this is a hoisted, recursive
             // function, and the programmer is using the hoisting.
+            Node newName = IR.name("").useSourceInfoFrom(existingName);
+            value.replaceChild(existingName, newName);
 
+            varNode = IR.var(existingName).useSourceInfoFrom(existingName);
+            grandparent.replaceChild(parent, varNode);
+          } else {
+            if (value != null) {
               // If this is a VAR, we can just detach the expression and
               // the tree will still be valid.
+              value.detachFromParent();
+            }
+            varNode = parent;
+          }
 
           // Add $jscomp.scope.name = EXPR;
           // Make sure we copy over all the jsdoc and debug info.
@@ -419,11 +405,7 @@ class ScopedAliases implements HotSwapCompilerPass {
             NodeUtil.setDebugInformation(
                 newDecl.getFirstChild().getFirstChild(), n, name);
 
+            if (isHoisted) {
+              grandparent.addChildToFront(newDecl);
+            } else {
               grandparent.addChildBefore(newDecl, varNode);
+            }
           }
 
           // Rewrite "var name = EXPR;" to "var name = $jscomp.scope.name;"
diff --git a/src/com/google/javascript/rhino/Node.java b/src/com/google/javascript/rhino/Node.java
index 6a3e9e0..b645632 100644
--- a/src/com/google/javascript/rhino/Node.java
+++ b/src/com/google/javascript/rhino/Node.java
@@ -551,9 +551,6 @@ public class Node implements Cloneable, Serializable {
       return null;
     }
     Node n = first;
+    if (n == null) {
+      throw new RuntimeException("node is not a child");
+    }
 
     while (n.next != child) {
       n = n.next;

```

## Patch #95 DynaMoth 

[com.google.javascript.rhino.Node:1431](https://github.com/google/closure-compiler/blob/0835f65970ac91735b8da92d391d2f5b367dd9de/src//com/google/javascript/rhino/Node.java#L1431)

```Java
--- /tmp/closure_110_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_110_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1430,7 +1430,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:02:28.467000

Grid5000 node: graphene-81.nancy.grid5000.fr


# Closure 111


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/type/ClosureReverseAbstractInterpreter.java b/src/com/google/javascript/jscomp/type/ClosureReverseAbstractInterpreter.java
index e3c599d..1706e34 100644
--- a/src/com/google/javascript/jscomp/type/ClosureReverseAbstractInterpreter.java
+++ b/src/com/google/javascript/jscomp/type/ClosureReverseAbstractInterpreter.java
@@ -51,8 +51,7 @@ public class ClosureReverseAbstractInterpreter
       new RestrictByTrueTypeOfResultVisitor() {
         @Override
         protected JSType caseTopType(JSType topType) {
+          return topType.isAllType() ?
+              getNativeType(ARRAY_TYPE) : topType;
-          return topType;
         }
 
         @Override

```

## Patch #96 DynaMoth 

[com.google.javascript.rhino.Node:1430](https://github.com/google/closure-compiler/blob/0896ac3d034d32a73788a78a1c450b30439a8ff7/src//com/google/javascript/rhino/Node.java#L1430)

```Java
--- /tmp/closure_111_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_111_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1429,7 +1429,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:02:22.829000

Grid5000 node: graphene-136.nancy.grid5000.fr


## Patch #97 Nopol 

[com.google.javascript.rhino.testing.Asserts:103](https://github.com/google/closure-compiler/blob/0896ac3d034d32a73788a78a1c450b30439a8ff7/src//com/google/javascript/rhino/testing/Asserts.java#L103)

```Java
--- /tmp/closure_111_Nopol/src/com/google/javascript/rhino/testing/Asserts.java
+++ /tmp/closure_111_Nopol/src/com/google/javascript/rhino/testing/Asserts.java
@@ -102,3 +102,3 @@
         (a == null) == (b == null));
-    if (a == null) {
+    if (message!=null) {
       return;

```
Execution time: 0:02:59.323000

Grid5000 node: graphene-128.nancy.grid5000.fr


# Closure 114


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/NameAnalyzer.java b/src/com/google/javascript/jscomp/NameAnalyzer.java
index a7b95b0..0fc5ae8 100644
--- a/src/com/google/javascript/jscomp/NameAnalyzer.java
+++ b/src/com/google/javascript/jscomp/NameAnalyzer.java
@@ -575,7 +575,7 @@ final class NameAnalyzer implements CompilerPass {
           } else {
             recordDepScope(nameNode, ns);
           }
+        } else if (!(parent.isCall() && parent.getFirstChild() == n)) {
-        } else {
           // The rhs of the assignment is the caller, so it's used by the
           // context. Don't associate it w/ the lhs.
           // FYI: this fixes only the specific case where the assignment is the

```

## Patch #98 DynaMoth 

[com.google.javascript.rhino.Node:1430](https://github.com/google/closure-compiler/blob/9f410c3cc9cc52650acd57bddf97f09a64cbb1f5/src//com/google/javascript/rhino/Node.java#L1430)

```Java
--- /tmp/closure_114_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_114_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1429,7 +1429,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:02:24.165000

Grid5000 node: graphene-141.nancy.grid5000.fr


## Patch #99 Nopol 

[com.google.javascript.rhino.Node:1430](https://github.com/google/closure-compiler/blob/9f410c3cc9cc52650acd57bddf97f09a64cbb1f5/src//com/google/javascript/rhino/Node.java#L1430)

```Java
--- /tmp/closure_114_Nopol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_114_Nopol/src/com/google/javascript/rhino/Node.java
@@ -1429,7 +1429,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (node2.type < com.google.javascript.rhino.Node.JSDOC_INFO_PROP) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:02:14.593000

Grid5000 node: graphene-125.nancy.grid5000.fr


# Closure 115


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/FunctionInjector.java b/src/com/google/javascript/jscomp/FunctionInjector.java
index 5b38600..73d6a4b 100644
--- a/src/com/google/javascript/jscomp/FunctionInjector.java
+++ b/src/com/google/javascript/jscomp/FunctionInjector.java
@@ -694,6 +694,14 @@ class FunctionInjector {
 
     Node block = fnNode.getLastChild();
 
-    boolean hasSideEffects = false;
-    if (block.hasChildren()) {
-      Preconditions.checkState(block.hasOneChild());
-      Node stmt = block.getFirstChild();
-      if (stmt.isReturn()) {
-        hasSideEffects = NodeUtil.mayHaveSideEffects(stmt.getFirstChild(), compiler);
-      }
-    }
     // CALL NODE: [ NAME, ARG1, ARG2, ... ]
     Node cArg = callNode.getFirstChild().getNext();
 
@@ -719,6 +727,9 @@ class FunctionInjector {
       // For each named parameter check if a mutable argument use more than one.
       if (fnParam != null) {
         if (cArg != null) {
-          if (hasSideEffects && NodeUtil.canBeSideEffected(cArg)) {
-            return CanInlineResult.NO;
-          }
           // Check for arguments that are evaluated more than once.
           // Note: Unlike block inlining, there it is not possible that a
           // parameter reference will be in a loop.

```

## Patch #100 DynaMoth 

[com.google.javascript.rhino.Node:1430](https://github.com/google/closure-compiler/blob/9459ea2afe7c383adb1536dbc34a7a9ed14786b0/src//com/google/javascript/rhino/Node.java#L1430)

```Java
--- /tmp/closure_115_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_115_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1429,7 +1429,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:02:27.406000

Grid5000 node: graphene-23.nancy.grid5000.fr


## Patch #101 Nopol 

[com.google.javascript.rhino.Node:1430](https://github.com/google/closure-compiler/blob/9459ea2afe7c383adb1536dbc34a7a9ed14786b0/src//com/google/javascript/rhino/Node.java#L1430)

```Java
--- /tmp/closure_115_Nopol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_115_Nopol/src/com/google/javascript/rhino/Node.java
@@ -1429,7 +1429,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (node2.type < com.google.javascript.rhino.Node.JSDOC_INFO_PROP) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:02:18.862000

Grid5000 node: graphene-127.nancy.grid5000.fr


# Closure 116


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/FunctionInjector.java b/src/com/google/javascript/jscomp/FunctionInjector.java
index accf4c5..c3fc14b 100644
--- a/src/com/google/javascript/jscomp/FunctionInjector.java
+++ b/src/com/google/javascript/jscomp/FunctionInjector.java
@@ -694,15 +694,6 @@ class FunctionInjector {
 
     Node block = fnNode.getLastChild();
 
+    boolean hasSideEffects = false;  // empty function case
+    if (block.hasChildren()) {
+      Preconditions.checkState(block.hasOneChild());
+      Node stmt = block.getFirstChild();
+      if (stmt.isReturn()) {
+        hasSideEffects = NodeUtil.mayHaveSideEffects(
+            stmt.getFirstChild(), compiler);
+      }
+    }
 
     // CALL NODE: [ NAME, ARG1, ARG2, ... ]
     Node cArg = callNode.getFirstChild().getNext();
@@ -729,9 +720,6 @@ class FunctionInjector {
       // For each named parameter check if a mutable argument use more than one.
       if (fnParam != null) {
         if (cArg != null) {
+          if (hasSideEffects && NodeUtil.canBeSideEffected(cArg)) {
+            return CanInlineResult.NO;
+          }
 
           // Check for arguments that are evaluated more than once.
           // Note: Unlike block inlining, there it is not possible that a

```

## Patch #102 DynaMoth 

[com.google.javascript.rhino.Node:1430](https://github.com/google/closure-compiler/blob/d8529cf497f8ac44693d07681af3e22d950e553b/src//com/google/javascript/rhino/Node.java#L1430)

```Java
--- /tmp/closure_116_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_116_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1429,7 +1429,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:04:50.297000

Grid5000 node: griffon-20.nancy.grid5000.fr


# Closure 119


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/GlobalNamespace.java b/src/com/google/javascript/jscomp/GlobalNamespace.java
index 0e9c4d3..639318d 100644
--- a/src/com/google/javascript/jscomp/GlobalNamespace.java
+++ b/src/com/google/javascript/jscomp/GlobalNamespace.java
@@ -363,7 +363,6 @@ class GlobalNamespace
                 isSet = true;
                 type = Name.Type.FUNCTION;
                 break;
+              case Token.CATCH:
               case Token.INC:
               case Token.DEC:
                 isSet = true;

```

## Patch #103 DynaMoth 

[com.google.javascript.rhino.Node:1430](https://github.com/google/closure-compiler/blob/a3fcb28f4f337e6e1ce687846eb77fe25251d21b/src//com/google/javascript/rhino/Node.java#L1430)

```Java
--- /tmp/closure_119_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_119_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1429,7 +1429,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:02:21.872000

Grid5000 node: graphene-90.nancy.grid5000.fr


# Closure 120


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/ReferenceCollectingCallback.java b/src/com/google/javascript/jscomp/ReferenceCollectingCallback.java
index 0af61d0..cdacc5f 100644
--- a/src/com/google/javascript/jscomp/ReferenceCollectingCallback.java
+++ b/src/com/google/javascript/jscomp/ReferenceCollectingCallback.java
@@ -428,9 +428,6 @@ class ReferenceCollectingCallback implements ScopedCallback,
       for (BasicBlock block = ref.getBasicBlock();
            block != null; block = block.getParent()) {
         if (block.isFunction) {
+          if (ref.getSymbol().getScope() != ref.scope) {
+            return false;
+          }
           break;
         } else if (block.isLoop) {
           return false;

```

## Patch #104 DynaMoth 

[com.google.javascript.rhino.Node:1430](https://github.com/google/closure-compiler/blob/0d908a45f2d09421f1e676f27a72620ee8a612c0/src//com/google/javascript/rhino/Node.java#L1430)

```Java
--- /tmp/closure_120_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_120_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1429,7 +1429,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:02:20.717000

Grid5000 node: graphene-68.nancy.grid5000.fr


## Patch #105 Nopol 

[com.google.javascript.rhino.Node:1430](https://github.com/google/closure-compiler/blob/0d908a45f2d09421f1e676f27a72620ee8a612c0/src//com/google/javascript/rhino/Node.java#L1430)

```Java
--- /tmp/closure_120_Nopol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_120_Nopol/src/com/google/javascript/rhino/Node.java
@@ -1429,7 +1429,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (node2.type < com.google.javascript.rhino.Node.JSDOC_INFO_PROP) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:02:57.612000

Grid5000 node: grisou-9.nancy.grid5000.fr


# Closure 121


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/InlineVariables.java b/src/com/google/javascript/jscomp/InlineVariables.java
index 5c9df61..376abd4 100644
--- a/src/com/google/javascript/jscomp/InlineVariables.java
+++ b/src/com/google/javascript/jscomp/InlineVariables.java
@@ -301,12 +301,10 @@ class InlineVariables implements CompilerPass {
       if (!maybeModifiedArguments &&
           !staleVars.contains(v) &&
           referenceInfo.isWellDefined() &&
+          referenceInfo.isAssignedOnceInLifetime() &&
-          referenceInfo.isAssignedOnceInLifetime()) {
           // Inlining the variable based solely on well-defined and assigned
           // once is *NOT* correct. We relax the correctness requirement if
           // the variable is declared constant.
+          (isInlineableDeclaredConstant(v, referenceInfo) ||
+           referenceInfo.isOnlyAssignmentSameScopeAsDeclaration())) {
         List<Reference> refs = referenceInfo.references;
         for (int i = 1 /* start from a read */; i < refs.size(); i++) {
           Node nameNode = refs.get(i).getNode();

```

## Patch #106 DynaMoth 

[com.google.javascript.rhino.Node:1430](https://github.com/google/closure-compiler/blob/32d9b19b1b262862e52760a86ae7eac0a92e1514/src//com/google/javascript/rhino/Node.java#L1430)

```Java
--- /tmp/closure_121_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_121_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1429,7 +1429,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:02:20.180000

Grid5000 node: graphene-85.nancy.grid5000.fr


## Patch #107 Nopol 

[com.google.javascript.rhino.Node:1430](https://github.com/google/closure-compiler/blob/32d9b19b1b262862e52760a86ae7eac0a92e1514/src//com/google/javascript/rhino/Node.java#L1430)

```Java
--- /tmp/closure_121_Nopol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_121_Nopol/src/com/google/javascript/rhino/Node.java
@@ -1429,7 +1429,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (node2.type < com.google.javascript.rhino.Node.JSDOC_INFO_PROP) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:03:48.427000

Grid5000 node: graphite-4.nancy.grid5000.fr


# Closure 122


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/parsing/IRFactory.java b/src/com/google/javascript/jscomp/parsing/IRFactory.java
index 936af02..709534b 100644
--- a/src/com/google/javascript/jscomp/parsing/IRFactory.java
+++ b/src/com/google/javascript/jscomp/parsing/IRFactory.java
@@ -249,8 +249,7 @@ class IRFactory {
    * Check to see if the given block comment looks like it should be JSDoc.
    */
   private void handleBlockComment(Comment comment) {
+    Pattern p = Pattern.compile("(/|(\n[ \t]*))\\*[ \t]*@[a-zA-Z]");
+    if (p.matcher(comment.getValue()).find()) {
-    if (comment.getValue().indexOf("/* @") != -1 || comment.getValue().indexOf("\n * @") != -1) {
       errorReporter.warning(
           SUSPICIOUS_COMMENT_WARNING,
           sourceName,

```

## Patch #108 DynaMoth 

[com.google.javascript.rhino.Node:1430](https://github.com/google/closure-compiler/blob/90e3410383063d3ca3eeb4b68653276f87d08721/src//com/google/javascript/rhino/Node.java#L1430)

```Java
--- /tmp/closure_122_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_122_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1429,7 +1429,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:02:18.418000

Grid5000 node: graphene-87.nancy.grid5000.fr


# Closure 123


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/CodeGenerator.java b/src/com/google/javascript/jscomp/CodeGenerator.java
index 8d268b6..54eb5cf 100644
--- a/src/com/google/javascript/jscomp/CodeGenerator.java
+++ b/src/com/google/javascript/jscomp/CodeGenerator.java
@@ -282,7 +282,7 @@ class CodeGenerator {
       case Token.HOOK: {
         Preconditions.checkState(childCount == 3);
         int p = NodeUtil.precedence(type);
+        Context rhsContext = getContextForNoInOperator(context);
-        Context rhsContext = Context.OTHER;
         addExpr(first, p + 1, context);
         cc.addOp("?", true);
         addExpr(first.getNext(), 1, rhsContext);

```

## Patch #109 DynaMoth 

[com.google.javascript.rhino.Node:1430](https://github.com/google/closure-compiler/blob/4f6bb8b0f5c35e804744aed5cc735cd85a260ea2/src//com/google/javascript/rhino/Node.java#L1430)

```Java
--- /tmp/closure_123_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_123_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1429,7 +1429,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:02:20.952000

Grid5000 node: graphene-88.nancy.grid5000.fr


# Closure 124


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/ExploitAssigns.java b/src/com/google/javascript/jscomp/ExploitAssigns.java
index 1639f2c..0f03e35 100644
--- a/src/com/google/javascript/jscomp/ExploitAssigns.java
+++ b/src/com/google/javascript/jscomp/ExploitAssigns.java
@@ -210,9 +210,7 @@ class ExploitAssigns extends AbstractPeepholeOptimization {
     }
     Preconditions.checkArgument(node.isGetProp());
 
+    while (node.isGetProp()) {
       node = node.getFirstChild();
+    }
     if (node.isName()
         && isNameAssignedTo(node.getString(), replacement)) {
       return false;

```

## Patch #110 DynaMoth 

[com.google.javascript.rhino.Node:1428](https://github.com/google/closure-compiler/blob/37e681ee94e2cd4a7e980194c9036d193563156c/src//com/google/javascript/rhino/Node.java#L1428)

```Java
--- /tmp/closure_124_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_124_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1427,7 +1427,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:02:18.331000

Grid5000 node: graphene-89.nancy.grid5000.fr


# Closure 125


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/TypeCheck.java b/src/com/google/javascript/jscomp/TypeCheck.java
index de14c04..4e05325 100644
--- a/src/com/google/javascript/jscomp/TypeCheck.java
+++ b/src/com/google/javascript/jscomp/TypeCheck.java
@@ -1658,7 +1658,7 @@ public class TypeCheck implements NodeTraversal.Callback, CompilerPass {
     JSType type = getJSType(constructor).restrictByNotNullOrUndefined();
     if (type.isConstructor() || type.isEmptyType() || type.isUnknownType()) {
       FunctionType fnType = type.toMaybeFunctionType();
+      if (fnType != null && fnType.hasInstanceType()) {
-      if (fnType != null) {
         visitParameterList(t, n, fnType);
         ensureTyped(t, n, fnType.getInstanceType());
       } else {

```

## Patch #111 DynaMoth 

[com.google.javascript.rhino.Node:1428](https://github.com/google/closure-compiler/blob/011155db2125d9e7e081822b0db8be45bedd8ff5/src//com/google/javascript/rhino/Node.java#L1428)

```Java
--- /tmp/closure_125_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_125_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1427,7 +1427,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:02:17.532000

Grid5000 node: graphene-9.nancy.grid5000.fr


# Closure 126


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/MinimizeExitPoints.java b/src/com/google/javascript/jscomp/MinimizeExitPoints.java
index bc9befe..4146f17 100644
--- a/src/com/google/javascript/jscomp/MinimizeExitPoints.java
+++ b/src/com/google/javascript/jscomp/MinimizeExitPoints.java
@@ -138,6 +138,10 @@ class MinimizeExitPoints
        * can cause problems if it changes the completion type of the finally
        * block. See ECMA 262 Sections 8.9 & 12.14
        */
-      if (NodeUtil.hasFinally(n)) {
-        Node finallyBlock = n.getLastChild();
-        tryMinimizeExits(finallyBlock, exitType, labelName);
-      }
     }
 
     // Just a 'label'.

```

## Patch #112 DynaMoth 

[com.google.javascript.rhino.Node:1428](https://github.com/google/closure-compiler/blob/3dc51408fe6f2b229311717af31f93fdc7e9cc11/src//com/google/javascript/rhino/Node.java#L1428)

```Java
--- /tmp/closure_126_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_126_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1427,7 +1427,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:02:33.232000

Grid5000 node: graphene-90.nancy.grid5000.fr


# Closure 127


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/UnreachableCodeElimination.java b/src/com/google/javascript/jscomp/UnreachableCodeElimination.java
index e6d88a8..d819874 100644
--- a/src/com/google/javascript/jscomp/UnreachableCodeElimination.java
+++ b/src/com/google/javascript/jscomp/UnreachableCodeElimination.java
@@ -167,22 +167,13 @@ class UnreachableCodeElimination implements CompilerPass {
                 outEdges.get(0).getValue() == Branch.UNCOND);
             Node fallThrough = computeFollowing(n);
             Node nextCfgNode = outEdges.get(0).getDestination().getValue();
+            if (nextCfgNode == fallThrough && !inFinally(n.getParent(), n)) {
-            if (nextCfgNode == fallThrough) {
               removeNode(n);
             }
           }
       }
     }
 
+    private boolean inFinally(Node parent, Node child) {
+      if (parent == null || parent.isFunction()) {
+        return false;
+      } else if (NodeUtil.isTryFinallyNode(parent, child)) {
+        return true;
+      } else {
+        return inFinally(parent.getParent(), parent);
+      }
+    }
 
     private Node computeFollowing(Node n) {
       Node next = ControlFlowAnalysis.computeFollowNode(n);

```

## Patch #113 DynaMoth 

[com.google.javascript.rhino.Node:1428](https://github.com/google/closure-compiler/blob/3c26a6615e9c5a37919cc613d574cfd07236c347/src//com/google/javascript/rhino/Node.java#L1428)

```Java
--- /tmp/closure_127_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_127_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1427,7 +1427,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:02:15.607000

Grid5000 node: graphene-91.nancy.grid5000.fr


# Closure 128


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/CodeGenerator.java b/src/com/google/javascript/jscomp/CodeGenerator.java
index 1dc33b7..2270c17 100644
--- a/src/com/google/javascript/jscomp/CodeGenerator.java
+++ b/src/com/google/javascript/jscomp/CodeGenerator.java
@@ -782,16 +782,13 @@ class CodeGenerator {
 
   static boolean isSimpleNumber(String s) {
     int len = s.length();
+    if (len == 0) {
+      return false;
+    }
     for (int index = 0; index < len; index++) {
       char c = s.charAt(index);
       if (c < '0' || c > '9') {
         return false;
       }
     }
+    return len == 1 || s.charAt(0) != '0';
-    return len > 0 && s.charAt(0) != '0';
   }
 
   static double getSimpleNumber(String s) {

```

## Patch #114 DynaMoth 

[com.google.javascript.rhino.Node:1428](https://github.com/google/closure-compiler/blob/fa9b7a2ebee6a99edb6f3b93d896355b50199765/src//com/google/javascript/rhino/Node.java#L1428)

```Java
--- /tmp/closure_128_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_128_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1427,7 +1427,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:02:13.742000

Grid5000 node: graphene-92.nancy.grid5000.fr


# Closure 129


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/PrepareAst.java b/src/com/google/javascript/jscomp/PrepareAst.java
index 42982af..d993bee 100644
--- a/src/com/google/javascript/jscomp/PrepareAst.java
+++ b/src/com/google/javascript/jscomp/PrepareAst.java
@@ -163,9 +163,6 @@ class PrepareAst implements CompilerPass {
       Node first = n.getFirstChild();
 
       // ignore cast nodes.
+      while (first.isCast()) {
+        first = first.getFirstChild();
+      }
 
       if (!NodeUtil.isGet(first)) {
         n.putBooleanProp(Node.FREE_CALL, true);

```

## Patch #115 DynaMoth 

[com.google.javascript.rhino.Node:1428](https://github.com/google/closure-compiler/blob/066479c61dc2e8444791acd2663f71cbcb476657/src//com/google/javascript/rhino/Node.java#L1428)

```Java
--- /tmp/closure_129_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_129_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1427,7 +1427,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:03:14.844000

Grid5000 node: graphene-93.nancy.grid5000.fr


# Closure 130


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/CollapseProperties.java b/src/com/google/javascript/jscomp/CollapseProperties.java
index f86625f..ab2d2c7 100644
--- a/src/com/google/javascript/jscomp/CollapseProperties.java
+++ b/src/com/google/javascript/jscomp/CollapseProperties.java
@@ -169,7 +169,7 @@ class CollapseProperties implements CompilerPass {
         continue;
       }
 
+      if (!name.inExterns && name.globalSets == 1 && name.localSets == 0 &&
-      if (name.globalSets == 1 && name.localSets == 0 &&
           name.aliasingGets > 0) {
         // {@code name} meets condition (b). Find all of its local aliases
         // and try to inline them.

```

## Patch #116 DynaMoth 

[com.google.javascript.rhino.Node:1417](https://github.com/google/closure-compiler/blob/d5edb68ee7174a328cccf918bc28c47b323e2146/src//com/google/javascript/rhino/Node.java#L1417)

```Java
--- /tmp/closure_130_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_130_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1416,7 +1416,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:02:10.591000

Grid5000 node: graphene-95.nancy.grid5000.fr


# Closure 131


## Human Patch 

```Java
diff --git a/src/com/google/javascript/rhino/TokenStream.java b/src/com/google/javascript/rhino/TokenStream.java
index cadb536..144a4ad 100644
--- a/src/com/google/javascript/rhino/TokenStream.java
+++ b/src/com/google/javascript/rhino/TokenStream.java
@@ -191,13 +191,12 @@ public class TokenStream {
       int length = s.length();
 
       if (length == 0 ||
+          Character.isIdentifierIgnorable(s.charAt(0)) ||
           !Character.isJavaIdentifierStart(s.charAt(0))) {
         return false;
       }
 
       for (int i = 1; i < length; i++) {
+        if (Character.isIdentifierIgnorable(s.charAt(i)) ||
-        if (
             !Character.isJavaIdentifierPart(s.charAt(i))) {
           return false;
         }

```

## Patch #117 DynaMoth 

[com.google.javascript.rhino.Node:1417](https://github.com/google/closure-compiler/blob/e36d7cba04f575196b44aa101dc65daf6bb68de1/src//com/google/javascript/rhino/Node.java#L1417)

```Java
--- /tmp/closure_131_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_131_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1416,7 +1416,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:03:31.894000

Grid5000 node: griffon-14.nancy.grid5000.fr


# Closure 132


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/PeepholeSubstituteAlternateSyntax.java b/src/com/google/javascript/jscomp/PeepholeSubstituteAlternateSyntax.java
index 520c592..ae568e8 100644
--- a/src/com/google/javascript/jscomp/PeepholeSubstituteAlternateSyntax.java
+++ b/src/com/google/javascript/jscomp/PeepholeSubstituteAlternateSyntax.java
@@ -779,9 +779,7 @@ class PeepholeSubstituteAlternateSyntax
               // evaluates LHS before cond]
               // NOTE - there are some circumstances where we can
               // proceed even if there are side effects...
+              !mayEffectMutableState(lhs) &&
+              (!mayHaveSideEffects(cond) ||
+                  (thenOp.isAssign() && thenOp.getFirstChild().isName()))) {
-              !mayEffectMutableState(lhs)) {
 
             n.removeChild(cond);
             Node assignName = thenOp.removeFirstChild();

```

## Patch #118 DynaMoth 

[com.google.javascript.rhino.Node:1417](https://github.com/google/closure-compiler/blob/6dfe9725a058a395768787a3d2c6e438e83b783a/src//com/google/javascript/rhino/Node.java#L1417)

```Java
--- /tmp/closure_132_Brutpol/src/com/google/javascript/rhino/Node.java
+++ /tmp/closure_132_Brutpol/src/com/google/javascript/rhino/Node.java
@@ -1416,7 +1416,9 @@
       if (diff != null) {
-        return "Node tree inequality:" +
-            "\nTree1:\n" + toStringTree() +
-            "\n\nTree2:\n" + node2.toStringTree() +
-            "\n\nSubtree1: " + diff.nodeA.toStringTree() +
-            "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        if (this.isAdd()) {
+          return "Node tree inequality:" +
+          "\nTree1:\n" + toStringTree() +
+          "\n\nTree2:\n" + node2.toStringTree() +
+          "\n\nSubtree1: " + diff.nodeA.toStringTree() +
+          "\n\nSubtree2: " + diff.nodeB.toStringTree();
+        }
       }

```
Execution time: 0:03:44.129000

Grid5000 node: griffon-18.nancy.grid5000.fr


# Closure 133


## Human Patch 

```Java
diff --git a/src/com/google/javascript/jscomp/parsing/JsDocInfoParser.java b/src/com/google/javascript/jscomp/parsing/JsDocInfoParser.java
index ce94573..6e3294b 100644
--- a/src/com/google/javascript/jscomp/parsing/JsDocInfoParser.java
+++ b/src/com/google/javascript/jscomp/parsing/JsDocInfoParser.java
@@ -2398,7 +2398,6 @@ public final class JsDocInfoParser {
    */
   private String getRemainingJSDocLine() {
     String result = stream.getRemainingJSDocLine();
+    unreadToken = NO_UNREAD_TOKEN;
     return result;
   }
 

```

## Patch #119 DynaMoth 

[com.google.javascript.jscomp.parsing.JsDocInfoParser:1413](https://github.com/google/closure-compiler/blob/d11c54f6f281b23dcf2df17743d157d5a5a61b54/src//com/google/javascript/jscomp/parsing/JsDocInfoParser.java#L1413)

```Java
--- /tmp/closure_133_Brutpol/src/com/google/javascript/jscomp/parsing/JsDocInfoParser.java
+++ /tmp/closure_133_Brutpol/src/com/google/javascript/jscomp/parsing/JsDocInfoParser.java
@@ -1412,4 +1412,3 @@
 
-    if (token == JsDocToken.EOC || token == JsDocToken.EOL ||
-        token == JsDocToken.EOF) {
+    if (this.unreadToken != null) {
       return new ExtractionInfo("", token);

```
Execution time: 0:17:29.127000

Grid5000 node: griffon-14.nancy.grid5000.fr


# Lang 39


## Human Patch 

```Java
diff --git a/src/java/org/apache/commons/lang3/StringUtils.java b/src/java/org/apache/commons/lang3/StringUtils.java
index f6cabee..14563aa 100644
--- a/src/java/org/apache/commons/lang3/StringUtils.java
+++ b/src/java/org/apache/commons/lang3/StringUtils.java
@@ -3673,9 +3673,6 @@ public class StringUtils {
 
         // count the replacement text elements that are larger than their corresponding text being replaced
         for (int i = 0; i < searchList.length; i++) {
+            if (searchList[i] == null || replacementList[i] == null) {
+                continue;
+            }
             int greater = replacementList[i].length() - searchList[i].length();
             if (greater > 0) {
                 increase += 3 * greater; // assume 3 matches

```

## Patch #120 DynaMoth 

[org.apache.commons.lang3.StringUtils:3675](https://github.com/apache/commons-lang/blob/0aa57f04ede369a4f813bbb86d3eac1ed20b084c/src/java//org/apache/commons/lang3/StringUtils.java#L3675)

```Java
--- /tmp/lang_39_Brutpol/src/java/org/apache/commons/lang3/StringUtils.java
+++ /tmp/lang_39_Brutpol/src/java/org/apache/commons/lang3/StringUtils.java
@@ -3674,6 +3674,8 @@
         // count the replacement text elements that are larger than their corresponding text being replaced
-        for (int i = 0; i < searchList.length; i++) {
-            int greater = replacementList[i].length() - searchList[i].length();
-            if (greater > 0) {
-                increase += 3 * greater; // assume 3 matches
+        if (repeat) {
+            for (int i = 0; i < searchList.length; i++) {
+                int greater = replacementList[i].length() - searchList[i].length();
+                if (greater > 0) {
+                    increase += 3 * greater; // assume 3 matches
+                }
             }

```
Execution time: 0:00:50.111000

Grid5000 node: graphene-43.nancy.grid5000.fr


# Lang 44


## Human Patch 

```Java
diff --git a/src/java/org/apache/commons/lang/NumberUtils.java b/src/java/org/apache/commons/lang/NumberUtils.java
index c5ca8cd..18a05ef 100644
--- a/src/java/org/apache/commons/lang/NumberUtils.java
+++ b/src/java/org/apache/commons/lang/NumberUtils.java
@@ -142,9 +142,6 @@ public final class NumberUtils {
         if (val.length() == 0) {
             throw new NumberFormatException("\"\" is not a valid number.");
         }
+        if (val.length() == 1 && !Character.isDigit(val.charAt(0))) {
+            throw new NumberFormatException(val + " is not a valid number.");
+        }
         if (val.startsWith("--")) {
             // this is protection for poorness in java.lang.BigDecimal.
             // it accepts this as a legal value, but it does not appear 

```

## Patch #121 DynaMoth 

[org.apache.commons.lang.NumberUtils:193](https://github.com/apache/commons-lang/blob/cf28c89dcf72d27573c478eb91e3b470de060edd/src/java//org/apache/commons/lang/NumberUtils.java#L193)

```Java
--- /tmp/lang_44_Brutpol/src/java/org/apache/commons/lang/NumberUtils.java
+++ /tmp/lang_44_Brutpol/src/java/org/apache/commons/lang/NumberUtils.java
@@ -192,5 +192,3 @@
                 case 'L' :
-                    if (dec == null
-                        && exp == null
-                        && (numeric.charAt(0) == '-' && isDigits(numeric.substring(1)) || isDigits(numeric))) {
+                    if (exp == dec) {
                         try {
@@ -201,3 +199,3 @@
                         return createBigInteger(numeric);
-
+                        
                     }

```
Execution time: 0:00:26.087000

Grid5000 node: grisou-47.nancy.grid5000.fr


# Lang 51


## Human Patch 

```Java
diff --git a/src/java/org/apache/commons/lang/BooleanUtils.java b/src/java/org/apache/commons/lang/BooleanUtils.java
index 8b5028c..3fda4ec 100644
--- a/src/java/org/apache/commons/lang/BooleanUtils.java
+++ b/src/java/org/apache/commons/lang/BooleanUtils.java
@@ -679,7 +679,6 @@ public class BooleanUtils {
                         (str.charAt(1) == 'E' || str.charAt(1) == 'e') &&
                         (str.charAt(2) == 'S' || str.charAt(2) == 's');
                 }
+                return false;
             }
             case 4: {
                 char ch = str.charAt(0);

```

## Patch #122 DynaMoth 

[org.apache.commons.lang.BooleanUtils:677](https://github.com/apache/commons-lang/blob/3b46d611b2d595131ce0bce9bdb3209c55391be7/src/java//org/apache/commons/lang/BooleanUtils.java#L677)

```Java
--- /tmp/lang_51_Brutpol/src/java/org/apache/commons/lang/BooleanUtils.java
+++ /tmp/lang_51_Brutpol/src/java/org/apache/commons/lang/BooleanUtils.java
@@ -676,6 +676,6 @@
                 }
-                if (ch == 'Y') {
-                    return 
-                        (str.charAt(1) == 'E' || str.charAt(1) == 'e') &&
-                        (str.charAt(2) == 'S' || str.charAt(2) == 's');
+                if (str != null) {
+                    return
+                    (str.charAt(1) == 'E' || str.charAt(1) == 'e') &&
+                    (str.charAt(2) == 'S' || str.charAt(2) == 's');
                 }

```
Execution time: 0:00:34.130000

Grid5000 node: graphene-127.nancy.grid5000.fr


# Lang 55


## Human Patch 

```Java
diff --git a/src/java/org/apache/commons/lang/time/StopWatch.java b/src/java/org/apache/commons/lang/time/StopWatch.java
index 0f0786a..8f39421 100644
--- a/src/java/org/apache/commons/lang/time/StopWatch.java
+++ b/src/java/org/apache/commons/lang/time/StopWatch.java
@@ -115,9 +115,7 @@ public class StopWatch {
         if(this.runningState != STATE_RUNNING && this.runningState != STATE_SUSPENDED) {
             throw new IllegalStateException("Stopwatch is not running. ");
         }
+        if(this.runningState == STATE_RUNNING) {
             stopTime = System.currentTimeMillis();
+        }
         this.runningState = STATE_STOPPED;
     }
 

```

## Patch #123 DynaMoth 

[org.apache.commons.lang.time.StopWatch:118](https://github.com/apache/commons-lang/blob/d8c22b8e1c8592bc8c6f6169a5b090082969acd4/src/java//org/apache/commons/lang/time/StopWatch.java#L118)

```Java
--- /tmp/lang_55_Brutpol/src/java/org/apache/commons/lang/time/StopWatch.java
+++ /tmp/lang_55_Brutpol/src/java/org/apache/commons/lang/time/StopWatch.java
@@ -117,3 +117,5 @@
         }
-            stopTime = System.currentTimeMillis();
+            if (this.runningState == 1) {
+                stopTime = System.currentTimeMillis();
+            }
         this.runningState = STATE_STOPPED;

```
Execution time: 0:01:54.187000

Grid5000 node: griffon-14.nancy.grid5000.fr


# Lang 58


## Human Patch 

```Java
diff --git a/src/java/org/apache/commons/lang/math/NumberUtils.java b/src/java/org/apache/commons/lang/math/NumberUtils.java
index eb74e72..c0f06a4 100644
--- a/src/java/org/apache/commons/lang/math/NumberUtils.java
+++ b/src/java/org/apache/commons/lang/math/NumberUtils.java
@@ -451,7 +451,8 @@ public class NumberUtils {
                 case 'L' :
                     if (dec == null
                         && exp == null
+                        && (numeric.charAt(0) == '-' && isDigits(numeric.substring(1)) || isDigits(numeric))) {
-                        && isDigits(numeric.substring(1))
-                        && (numeric.charAt(0) == '-' || Character.isDigit(numeric.charAt(0)))) {
                         try {
                             return createLong(numeric);
                         } catch (NumberFormatException nfe) {

```

## Patch #124 DynaMoth 

[org.apache.commons.lang.math.NumberUtils:452](https://github.com/apache/commons-lang/blob/8185a5f63e23be852d600a80daa5b848fa836a65/src/java//org/apache/commons/lang/math/NumberUtils.java#L452)

```Java
--- /tmp/lang_58_Brutpol/src/java/org/apache/commons/lang/math/NumberUtils.java
+++ /tmp/lang_58_Brutpol/src/java/org/apache/commons/lang/math/NumberUtils.java
@@ -451,6 +451,3 @@
                 case 'L' :
-                    if (dec == null
-                        && exp == null
-                        && isDigits(numeric.substring(1))
-                        && (numeric.charAt(0) == '-' || Character.isDigit(numeric.charAt(0)))) {
+                    if (exp == dec) {
                         try {
@@ -461,3 +458,3 @@
                         return createBigInteger(numeric);
-
+                        
                     }

```
Execution time: 0:00:45.370000

Grid5000 node: griffon-26.nancy.grid5000.fr


# Lang 63


## Human Patch 

```Java
diff --git a/src/java/org/apache/commons/lang/time/DurationFormatUtils.java b/src/java/org/apache/commons/lang/time/DurationFormatUtils.java
index 3a9d9f6..127b927 100644
--- a/src/java/org/apache/commons/lang/time/DurationFormatUtils.java
+++ b/src/java/org/apache/commons/lang/time/DurationFormatUtils.java
@@ -303,20 +303,25 @@ public class DurationFormatUtils {
             days -= 1;
         }
         while (days < 0) {
+            end.add(Calendar.MONTH, -1);
+            days += end.getActualMaximum(Calendar.DAY_OF_MONTH);
-            days += 31;
 //days += 31; // TODO: Need tests to show this is bad and the new code is good.
 // HEN: It's a tricky subject. Jan 15th to March 10th. If I count days-first it is 
 // 1 month and 26 days, but if I count month-first then it is 1 month and 23 days.
 // Also it's contextual - if asked for no M in the format then I should probably 
 // be doing no calculating here.
             months -= 1;
+            end.add(Calendar.MONTH, 1);
         }
         while (months < 0) {
             months += 12;
             years -= 1;
         }
-        milliseconds -= reduceAndCorrect(start, end, Calendar.MILLISECOND, milliseconds);
-        seconds -= reduceAndCorrect(start, end, Calendar.SECOND, seconds);
-        minutes -= reduceAndCorrect(start, end, Calendar.MINUTE, minutes);
-        hours -= reduceAndCorrect(start, end, Calendar.HOUR_OF_DAY, hours);
-        days -= reduceAndCorrect(start, end, Calendar.DAY_OF_MONTH, days);
-        months -= reduceAndCorrect(start, end, Calendar.MONTH, months);
-        years -= reduceAndCorrect(start, end, Calendar.YEAR, years);
 
         // This next block of code adds in values that 
         // aren't requested. This allows the user to ask for the 
@@ -424,6 +429,18 @@ public class DurationFormatUtils {
         }
         return buffer.toString();
     }
-    static int reduceAndCorrect(Calendar start, Calendar end, int field, int difference) {
-        end.add( field, -1 * difference );
-        int endValue = end.get(field);
-        int startValue = start.get(field);
-        if (endValue < startValue) {
-            int newdiff = startValue - endValue;
-            end.add( field, newdiff );
-            return newdiff;
-        } else {
-            return 0;
-        }
-    }
 
     static final Object y = "y";
     static final Object M = "M";

```

## Patch #125 DynaMoth 

[org.apache.commons.lang.time.DurationFormatUtils:438](https://github.com/apache/commons-lang/blob/3333dcc11f2d65ee99043945502102dcf3bca50c/src/java//org/apache/commons/lang/time/DurationFormatUtils.java#L438)

```Java
--- /tmp/lang_63_Brutpol/src/java/org/apache/commons/lang/time/DurationFormatUtils.java
+++ /tmp/lang_63_Brutpol/src/java/org/apache/commons/lang/time/DurationFormatUtils.java
@@ -437,3 +437,5 @@
             int newdiff = startValue - endValue;
-            end.add( field, newdiff );
+            if (newdiff == 0) {
+                end.add( field, newdiff );
+            }
             return newdiff;

```
Execution time: 0:00:33.922000

Grid5000 node: griffon-25.nancy.grid5000.fr


# Math 2


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math3/distribution/HypergeometricDistribution.java b/src/main/java/org/apache/commons/math3/distribution/HypergeometricDistribution.java
index 81e180c..2769127 100644
--- a/src/main/java/org/apache/commons/math3/distribution/HypergeometricDistribution.java
+++ b/src/main/java/org/apache/commons/math3/distribution/HypergeometricDistribution.java
@@ -265,7 +265,7 @@ public class HypergeometricDistribution extends AbstractIntegerDistribution {
      * size {@code n}, the mean is {@code n * m / N}.
      */
     public double getNumericalMean() {
+        return getSampleSize() * (getNumberOfSuccesses() / (double) getPopulationSize());
-        return (double) (getSampleSize() * getNumberOfSuccesses()) / (double) getPopulationSize();
     }
 
     /**

```

## Patch #126 DynaMoth 

[org.apache.commons.math3.distribution.HypergeometricDistribution:280](https://github.com/apache/commons-math/blob/6d66a863b5c0049926330ef217accba4e022a1db/src/main/java//org/apache/commons/math3/distribution/HypergeometricDistribution.java#L280)

```Java
--- /tmp/math_2_Brutpol/src/main/java/org/apache/commons/math3/distribution/HypergeometricDistribution.java
+++ /tmp/math_2_Brutpol/src/main/java/org/apache/commons/math3/distribution/HypergeometricDistribution.java
@@ -279,3 +279,5 @@
         if (!numericalVarianceIsCalculated) {
-            numericalVariance = calculateNumericalVariance();
+            if (this.numberOfSuccesses == this.getSupportUpperBound()) {
+                numericalVariance = calculateNumericalVariance();
+            }
             numericalVarianceIsCalculated = true;

```
Execution time: 0:07:18.827000

Grid5000 node: griffon-2.nancy.grid5000.fr


# Math 4


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math3/geometry/euclidean/threed/SubLine.java b/src/main/java/org/apache/commons/math3/geometry/euclidean/threed/SubLine.java
index aad7b65..a146cb6 100644
--- a/src/main/java/org/apache/commons/math3/geometry/euclidean/threed/SubLine.java
+++ b/src/main/java/org/apache/commons/math3/geometry/euclidean/threed/SubLine.java
@@ -111,9 +111,6 @@ public class SubLine {
 
         // compute the intersection on infinite line
         Vector3D v1D = line.intersection(subLine.line);
+        if (v1D == null) {
+            return null;
+        }
 
         // check location of point with respect to first sub-line
         Location loc1 = remainingRegion.checkPoint(line.toSubSpace(v1D));
diff --git a/src/main/java/org/apache/commons/math3/geometry/euclidean/twod/SubLine.java b/src/main/java/org/apache/commons/math3/geometry/euclidean/twod/SubLine.java
index ea9e96a..a9d621a 100644
--- a/src/main/java/org/apache/commons/math3/geometry/euclidean/twod/SubLine.java
+++ b/src/main/java/org/apache/commons/math3/geometry/euclidean/twod/SubLine.java
@@ -115,9 +115,6 @@ public class SubLine extends AbstractSubHyperplane<Euclidean2D, Euclidean1D> {
 
         // compute the intersection on infinite line
         Vector2D v2D = line1.intersection(line2);
+        if (v2D == null) {
+            return null;
+        }
 
         // check location of point with respect to first sub-line
         Location loc1 = getRemainingRegion().checkPoint(line1.toSubSpace(v2D));

```

## Patch #127 DynaMoth 

[org.apache.commons.math3.geometry.euclidean.twod.Line:200](https://github.com/apache/commons-math/blob/0ee817712b9e8330fdfd6985752aa8f1b25ba9d9/src/main/java//org/apache/commons/math3/geometry/euclidean/twod/Line.java#L200)

```Java
--- /tmp/math_4_Brutpol/src/main/java/org/apache/commons/math3/geometry/euclidean/twod/Line.java
+++ /tmp/math_4_Brutpol/src/main/java/org/apache/commons/math3/geometry/euclidean/twod/Line.java
@@ -199,3 +199,5 @@
         if (FastMath.abs(d) < 1.0e-10) {
-            return null;
+            if ((d != this.originOffset) || (this.getOffset((org.apache.commons.math3.geometry.euclidean.twod.Line) other) <= 1)) {
+                return null;
+            }
         }

```
Execution time: 0:09:33.153000

Grid5000 node: graphene-6.nancy.grid5000.fr


# Math 5


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math3/complex/Complex.java b/src/main/java/org/apache/commons/math3/complex/Complex.java
index ac8185b..22b23f2 100644
--- a/src/main/java/org/apache/commons/math3/complex/Complex.java
+++ b/src/main/java/org/apache/commons/math3/complex/Complex.java
@@ -302,7 +302,7 @@ public class Complex implements FieldElement<Complex>, Serializable  {
         }
 
         if (real == 0.0 && imaginary == 0.0) {
+            return INF;
-            return NaN;
         }
 
         if (isInfinite) {

```

## Patch #128 DynaMoth 

[org.apache.commons.math3.complex.Complex:345](https://github.com/apache/commons-math/blob/8c2199df0f613c63bd362303c953cee66712d56c/src/main/java//org/apache/commons/math3/complex/Complex.java#L345)

```Java
--- /tmp/math_5_Brutpol/src/main/java/org/apache/commons/math3/complex/Complex.java
+++ /tmp/math_5_Brutpol/src/main/java/org/apache/commons/math3/complex/Complex.java
@@ -344,3 +344,3 @@
             Complex c = (Complex)other;
-            if (c.isNaN) {
+            if (this.isNaN) {
                 return isNaN;

```
Execution time: 0:15:44.080000

Grid5000 node: griffon-2.nancy.grid5000.fr


# Math 24


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math3/optimization/univariate/BrentOptimizer.java b/src/main/java/org/apache/commons/math3/optimization/univariate/BrentOptimizer.java
index cff5bfd..b6ce68e 100644
--- a/src/main/java/org/apache/commons/math3/optimization/univariate/BrentOptimizer.java
+++ b/src/main/java/org/apache/commons/math3/optimization/univariate/BrentOptimizer.java
@@ -227,7 +227,7 @@ public class BrentOptimizer extends BaseAbstractUnivariateOptimizer {
 
                 if (checker != null) {
                     if (checker.converged(iter, previous, current)) {
+                        return best(current, previous, isMinim);
-                        return current;
                     }
                 }
 
@@ -264,7 +264,7 @@ public class BrentOptimizer extends BaseAbstractUnivariateOptimizer {
                     }
                 }
             } else { // Default termination (Brent's criterion).
+                return best(current, previous, isMinim);
-                return current;
             }
             ++iter;
         }

```

## Patch #129 DynaMoth 

[org.apache.commons.math3.analysis.FunctionUtils$4:146](https://github.com/apache/commons-math/blob/04b34cc1a560fd334c5602c62fc6efdcb8f90581/src/main/java//org/apache/commons/math3/analysis/FunctionUtils$4.java#L146)

```Java
--- /tmp/math_24_Brutpol/src/main/java/org/apache/commons/math3/analysis/FunctionUtils.java
+++ /tmp/math_24_Brutpol/src/main/java/org/apache/commons/math3/analysis/FunctionUtils.java
@@ -145,3 +145,5 @@
                 for (int i = 1; i < f.length; i++) {
-                    r += f[i].value(x);
+                    if ((i != 1) || (0 <= r)) {
+                        r += f[i].value(x);
+                    }
                 }

```
Execution time: 0:09:43.774000

Grid5000 node: griffon-14.nancy.grid5000.fr


# Math 28


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math3/optimization/linear/SimplexSolver.java b/src/main/java/org/apache/commons/math3/optimization/linear/SimplexSolver.java
index dec310b..a84438d 100644
--- a/src/main/java/org/apache/commons/math3/optimization/linear/SimplexSolver.java
+++ b/src/main/java/org/apache/commons/math3/optimization/linear/SimplexSolver.java
@@ -116,7 +116,6 @@ public class SimplexSolver extends AbstractLinearOptimizer {
             // there's a degeneracy as indicated by a tie in the minimum ratio test
 
             // 1. check if there's an artificial variable that can be forced out of the basis
+            if (tableau.getNumArtificialVariables() > 0) {
                 for (Integer row : minRatioPositions) {
                     for (int i = 0; i < tableau.getNumArtificialVariables(); i++) {
                         int column = i + tableau.getArtificialVariableOffset();
@@ -126,7 +125,6 @@ public class SimplexSolver extends AbstractLinearOptimizer {
                         }
                     }
                 }
+            }
 
             // 2. apply Bland's rule to prevent cycling:
             //    take the row for which the corresponding basic variable has the smallest index
@@ -137,7 +135,6 @@ public class SimplexSolver extends AbstractLinearOptimizer {
             // Additional heuristic: if we did not get a solution after half of maxIterations
             //                       revert to the simple case of just returning the top-most row
             // This heuristic is based on empirical data gathered while investigating MATH-828.
+            if (getIterations() < getMaxIterations() / 2) {
                 Integer minRow = null;
                 int minIndex = tableau.getWidth();
                 for (Integer row : minRatioPositions) {
@@ -152,7 +149,6 @@ public class SimplexSolver extends AbstractLinearOptimizer {
                     }
                 }
                 return minRow;
+            }
         }
         return minRatioPositions.get(0);
     }

```

## Patch #130 DynaMoth 

[org.apache.commons.math3.optimization.linear.SimplexSolver:151](https://github.com/apache/commons-math/blob/107d7f3ea8db440cb2f0a9d626c87a34ad061bae/src/main/java//org/apache/commons/math3/optimization/linear/SimplexSolver.java#L151)

```Java
--- /tmp/math_28_Brutpol/src/main/java/org/apache/commons/math3/optimization/linear/SimplexSolver.java
+++ /tmp/math_28_Brutpol/src/main/java/org/apache/commons/math3/optimization/linear/SimplexSolver.java
@@ -150,3 +150,5 @@
                 }
-                return minRow;
+                if (tableau.equals((java.lang.Object) this)) {
+                    return minRow;
+                }
         }

```
Execution time: 0:09:51.231000

Grid5000 node: griffon-18.nancy.grid5000.fr


# Math 32


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math3/geometry/euclidean/twod/PolygonsSet.java b/src/main/java/org/apache/commons/math3/geometry/euclidean/twod/PolygonsSet.java
index add24ac..c6e7cf1 100644
--- a/src/main/java/org/apache/commons/math3/geometry/euclidean/twod/PolygonsSet.java
+++ b/src/main/java/org/apache/commons/math3/geometry/euclidean/twod/PolygonsSet.java
@@ -133,7 +133,7 @@ public class PolygonsSet extends AbstractRegion<Euclidean2D, Euclidean1D> {
 
         if (v.length == 0) {
             final BSPTree<Euclidean2D> tree = getTree(false);
+            if (tree.getCut() == null && (Boolean) tree.getAttribute()) {
-            if ((Boolean) tree.getAttribute()) {
                 // the instance covers the whole space
                 setSize(Double.POSITIVE_INFINITY);
                 setBarycenter(Vector2D.NaN);

```

## Patch #131 DynaMoth 

[org.apache.commons.math3.geometry.euclidean.twod.PolygonsSet:136](https://github.com/apache/commons-math/blob/8f423828e0d9f34896f87d803c559adf2d953f30/src/main/java//org/apache/commons/math3/geometry/euclidean/twod/PolygonsSet.java#L136)

```Java
--- /tmp/math_32_Brutpol/src/main/java/org/apache/commons/math3/geometry/euclidean/twod/PolygonsSet.java
+++ /tmp/math_32_Brutpol/src/main/java/org/apache/commons/math3/geometry/euclidean/twod/PolygonsSet.java
@@ -135,3 +135,3 @@
             final BSPTree<Euclidean2D> tree = getTree(false);
-            if ((Boolean) tree.getAttribute()) {
+            if ((Boolean) this.isEmpty((org.apache.commons.math3.geometry.partitioning.BSPTree) tree)) {
                 // the instance covers the whole space

```
Execution time: 0:09:19.588000

Grid5000 node: griffon-11.nancy.grid5000.fr


# Math 33


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math3/optimization/linear/SimplexTableau.java b/src/main/java/org/apache/commons/math3/optimization/linear/SimplexTableau.java
index 327b2ae..9a6993a 100644
--- a/src/main/java/org/apache/commons/math3/optimization/linear/SimplexTableau.java
+++ b/src/main/java/org/apache/commons/math3/optimization/linear/SimplexTableau.java
@@ -335,7 +335,7 @@ class SimplexTableau implements Serializable {
         // positive cost non-artificial variables
         for (int i = getNumObjectiveFunctions(); i < getArtificialVariableOffset(); i++) {
             final double entry = tableau.getEntry(0, i);
+            if (Precision.compareTo(entry, 0d, epsilon) > 0) {
-            if (Precision.compareTo(entry, 0d, maxUlps) > 0) {
                 columnsToDrop.add(i);
             }
         }

```

## Patch #132 DynaMoth 

[org.apache.commons.math3.optimization.linear.SimplexTableau:339](https://github.com/apache/commons-math/blob/450456208cf75b865fd3c0878b6b4f70f6b329b1/src/main/java//org/apache/commons/math3/optimization/linear/SimplexTableau.java#L339)

```Java
--- /tmp/math_33_Brutpol/src/main/java/org/apache/commons/math3/optimization/linear/SimplexTableau.java
+++ /tmp/math_33_Brutpol/src/main/java/org/apache/commons/math3/optimization/linear/SimplexTableau.java
@@ -338,3 +338,5 @@
             if (Precision.compareTo(entry, 0d, maxUlps) > 0) {
-                columnsToDrop.add(i);
+                if (this.restrictToNonNegative == this.isOptimal()) {
+                    columnsToDrop.add(i);
+                }
             }

```
Execution time: 0:09:42.048000

Grid5000 node: griffon-11.nancy.grid5000.fr


# Math 40


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math/analysis/solvers/BracketingNthOrderBrentSolver.java b/src/main/java/org/apache/commons/math/analysis/solvers/BracketingNthOrderBrentSolver.java
index 59dc461..93dd3bb 100644
--- a/src/main/java/org/apache/commons/math/analysis/solvers/BracketingNthOrderBrentSolver.java
+++ b/src/main/java/org/apache/commons/math/analysis/solvers/BracketingNthOrderBrentSolver.java
@@ -232,16 +232,10 @@ public class BracketingNthOrderBrentSolver
             double targetY;
             if (agingA >= MAXIMAL_AGING) {
                 // we keep updating the high bracket, try to compensate this
+                final int p = agingA - MAXIMAL_AGING;
+                final double weightA = (1 << p) - 1;
+                final double weightB = p + 1;
+                targetY = (weightA * yA - weightB * REDUCTION_FACTOR * yB) / (weightA + weightB);
-                targetY = -REDUCTION_FACTOR * yB;
             } else if (agingB >= MAXIMAL_AGING) {
                 // we keep updating the low bracket, try to compensate this
+                final int p = agingB - MAXIMAL_AGING;
+                final double weightA = p + 1;
+                final double weightB = (1 << p) - 1;
+                targetY = (weightB * yB - weightA * REDUCTION_FACTOR * yA) / (weightA + weightB);
-                targetY = -REDUCTION_FACTOR * yA;
             } else {
                 // bracketing is balanced, try to find the root itself
                 targetY = 0;

```

## Patch #133 DynaMoth 

[org.apache.commons.math.analysis.solvers.BracketingNthOrderBrentSolver:317](https://github.com/apache/commons-math/blob/b241c3962faa9b71726ce47d9315c2af0d5c8ad7/src/main/java//org/apache/commons/math/analysis/solvers/BracketingNthOrderBrentSolver.java#L317)

```Java
--- /tmp/math_40_Brutpol/src/main/java/org/apache/commons/math/analysis/solvers/BracketingNthOrderBrentSolver.java
+++ /tmp/math_40_Brutpol/src/main/java/org/apache/commons/math/analysis/solvers/BracketingNthOrderBrentSolver.java
@@ -316,3 +316,5 @@
             System.arraycopy(x, signChangeIndex, x, signChangeIndex + 1, nbPoints - signChangeIndex);
-            x[signChangeIndex] = nextX;
+            if (this.DEFAULT_ABSOLUTE_ACCURACY <= org.apache.commons.math.util.FastMath.max((double) xA, (double) yB)) {
+                x[signChangeIndex] = nextX;
+            }
             System.arraycopy(y, signChangeIndex, y, signChangeIndex + 1, nbPoints - signChangeIndex);

```
Execution time: 0:06:51.945000

Grid5000 node: griffon-20.nancy.grid5000.fr


# Math 41


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math/stat/descriptive/moment/Variance.java b/src/main/java/org/apache/commons/math/stat/descriptive/moment/Variance.java
index 1de139f..e5518e3 100644
--- a/src/main/java/org/apache/commons/math/stat/descriptive/moment/Variance.java
+++ b/src/main/java/org/apache/commons/math/stat/descriptive/moment/Variance.java
@@ -517,7 +517,7 @@ public class Variance extends AbstractStorelessUnivariateStatistic implements Se
                 }
 
                 double sumWts = 0;
+                for (int i = begin; i < begin + length; i++) {
-                for (int i = 0; i < weights.length; i++) {
                     sumWts += weights[i];
                 }
 

```

## Patch #134 DynaMoth 

[org.apache.commons.math.stat.descriptive.moment.Variance:521](https://github.com/apache/commons-math/blob/d099c7c3436bd43094e7b3087c64e0552cfbec5b/src/main/java//org/apache/commons/math/stat/descriptive/moment/Variance.java#L521)

```Java
--- /tmp/math_41_Brutpol/src/main/java/org/apache/commons/math/stat/descriptive/moment/Variance.java
+++ /tmp/math_41_Brutpol/src/main/java/org/apache/commons/math/stat/descriptive/moment/Variance.java
@@ -520,3 +520,5 @@
                 for (int i = 0; i < weights.length; i++) {
-                    sumWts += weights[i];
+                    if (mean <= length) {
+                        sumWts += weights[i];
+                    }
                 }

```
Execution time: 0:04:59.115000

Grid5000 node: griffon-15.nancy.grid5000.fr


# Math 42


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math/optimization/linear/SimplexTableau.java b/src/main/java/org/apache/commons/math/optimization/linear/SimplexTableau.java
index d96c916..02c22b5 100644
--- a/src/main/java/org/apache/commons/math/optimization/linear/SimplexTableau.java
+++ b/src/main/java/org/apache/commons/math/optimization/linear/SimplexTableau.java
@@ -407,12 +407,10 @@ class SimplexTableau implements Serializable {
             continue;
           }
           Integer basicRow = getBasicRow(colIndex);
+          if (basicRow != null && basicRow == 0) {
               // if the basic row is found to be the objective function row
               // set the coefficient to 0 -> this case handles unconstrained 
               // variables that are still part of the objective function
+              coefficients[i] = 0;
+          } else if (basicRows.contains(basicRow)) {
-          if (basicRows.contains(basicRow)) {
               // if multiple variables can take a given value
               // then we choose the first and set the rest equal to 0
               coefficients[i] = 0 - (restrictToNonNegative ? 0 : mostNegative);

```

## Patch #135 DynaMoth 

[org.apache.commons.math.optimization.linear.SimplexTableau:347](https://github.com/apache/commons-math/blob/f14fdb5447f4ed1e103db2cecc148f391294f342/src/main/java//org/apache/commons/math/optimization/linear/SimplexTableau.java#L347)

```Java
--- /tmp/math_42_Brutpol/src/main/java/org/apache/commons/math/optimization/linear/SimplexTableau.java
+++ /tmp/math_42_Brutpol/src/main/java/org/apache/commons/math/optimization/linear/SimplexTableau.java
@@ -346,3 +346,5 @@
           if (getBasicRow(col) == null) {
-            columnsToDrop.add(col);
+            if (this.numSlackVariables != 0) {
+                columnsToDrop.add(col);
+            }
           }

```
Execution time: 0:05:26.509000

Grid5000 node: griffon-14.nancy.grid5000.fr


# Math 44


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math/ode/AbstractIntegrator.java b/src/main/java/org/apache/commons/math/ode/AbstractIntegrator.java
index 8f315e3..544124f 100644
--- a/src/main/java/org/apache/commons/math/ode/AbstractIntegrator.java
+++ b/src/main/java/org/apache/commons/math/ode/AbstractIntegrator.java
@@ -277,6 +277,7 @@ public abstract class AbstractIntegrator implements FirstOrderIntegrator {
 
             double previousT = interpolator.getGlobalPreviousTime();
             final double currentT = interpolator.getGlobalCurrentTime();
-            resetOccurred = false;
 
             // initialize the events states if needed
             if (! statesInitialized) {
@@ -330,9 +331,6 @@ public abstract class AbstractIntegrator implements FirstOrderIntegrator {
                 if (isLastStep) {
                     // the event asked to stop integration
                     System.arraycopy(eventY, 0, y, 0, y.length);
+                    for (final EventState remaining : occuringEvents) {
+                        remaining.stepAccepted(eventT, eventY);
+                    }
                     return eventT;
                 }
 
@@ -342,9 +340,6 @@ public abstract class AbstractIntegrator implements FirstOrderIntegrator {
                     System.arraycopy(eventY, 0, y, 0, y.length);
                     computeDerivatives(eventT, y, yDot);
                     resetOccurred = true;
+                    for (final EventState remaining : occuringEvents) {
+                        remaining.stepAccepted(eventT, eventY);
+                    }
                     return eventT;
                 }
 

```

## Patch #136 DynaMoth 

[org.apache.commons.math.ode.AbstractIntegrator:287](https://github.com/apache/commons-math/blob/3e6a8820703bbdeb97825db66daecf5c4410bde6/src/main/java//org/apache/commons/math/ode/AbstractIntegrator.java#L287)

```Java
--- /tmp/math_44_Brutpol/src/main/java/org/apache/commons/math/ode/AbstractIntegrator.java
+++ /tmp/math_44_Brutpol/src/main/java/org/apache/commons/math/ode/AbstractIntegrator.java
@@ -286,3 +286,5 @@
                 }
-                statesInitialized = true;
+                if (currentT <= y.length) {
+                    statesInitialized = true;
+                }
             }

```
Execution time: 0:08:34.855000

Grid5000 node: griffon-20.nancy.grid5000.fr


# Math 46


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math/complex/Complex.java b/src/main/java/org/apache/commons/math/complex/Complex.java
index dd0b00a..d55c25a 100644
--- a/src/main/java/org/apache/commons/math/complex/Complex.java
+++ b/src/main/java/org/apache/commons/math/complex/Complex.java
@@ -257,7 +257,7 @@ public class Complex implements FieldElement<Complex>, Serializable  {
 
         if (divisor.isZero) {
             // return isZero ? NaN : INF; // See MATH-657
+            return NaN;
-            return isZero ? NaN : INF;
         }
 
         if (divisor.isInfinite() && !isInfinite()) {
@@ -294,7 +294,7 @@ public class Complex implements FieldElement<Complex>, Serializable  {
         }
         if (divisor == 0d) {
             // return isZero ? NaN : INF; // See MATH-657
+            return NaN;
-            return isZero ? NaN : INF;
         }
         if (Double.isInfinite(divisor)) {
             return !isInfinite() ? ZERO : NaN;

```

## Patch #137 DynaMoth 

[org.apache.commons.math.complex.Complex:260](https://github.com/apache/commons-math/blob/32b0f7336b7627bc6e471a1091dfb2712b613eee/src/main/java//org/apache/commons/math/complex/Complex.java#L260)

```Java
--- /tmp/math_46_Brutpol/src/main/java/org/apache/commons/math/complex/Complex.java
+++ /tmp/math_46_Brutpol/src/main/java/org/apache/commons/math/complex/Complex.java
@@ -259,3 +259,5 @@
             // return isZero ? NaN : INF; // See MATH-657
-            return isZero ? NaN : INF;
+            if (this.real == this.imaginary) {
+                return isZero ? NaN : INF;
+            }
         }

```
Execution time: 0:03:52.770000

Grid5000 node: griffon-28.nancy.grid5000.fr


# Math 49


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math/linear/OpenMapRealVector.java b/src/main/java/org/apache/commons/math/linear/OpenMapRealVector.java
index 13ebfd2..5db4884 100644
--- a/src/main/java/org/apache/commons/math/linear/OpenMapRealVector.java
+++ b/src/main/java/org/apache/commons/math/linear/OpenMapRealVector.java
@@ -342,7 +342,7 @@ public class OpenMapRealVector extends AbstractRealVector
     public OpenMapRealVector ebeDivide(RealVector v) {
         checkVectorDimensions(v.getDimension());
         OpenMapRealVector res = new OpenMapRealVector(this);
+        Iterator iter = entries.iterator();
-        Iterator iter = res.entries.iterator();
         while (iter.hasNext()) {
             iter.advance();
             res.setEntry(iter.key(), iter.value() / v.getEntry(iter.key()));
@@ -355,7 +355,7 @@ public class OpenMapRealVector extends AbstractRealVector
     public OpenMapRealVector ebeDivide(double[] v) {
         checkVectorDimensions(v.length);
         OpenMapRealVector res = new OpenMapRealVector(this);
+        Iterator iter = entries.iterator();
-        Iterator iter = res.entries.iterator();
         while (iter.hasNext()) {
             iter.advance();
             res.setEntry(iter.key(), iter.value() / v[iter.key()]);
@@ -367,7 +367,7 @@ public class OpenMapRealVector extends AbstractRealVector
     public OpenMapRealVector ebeMultiply(RealVector v) {
         checkVectorDimensions(v.getDimension());
         OpenMapRealVector res = new OpenMapRealVector(this);
+        Iterator iter = entries.iterator();
-        Iterator iter = res.entries.iterator();
         while (iter.hasNext()) {
             iter.advance();
             res.setEntry(iter.key(), iter.value() * v.getEntry(iter.key()));
@@ -380,7 +380,7 @@ public class OpenMapRealVector extends AbstractRealVector
     public OpenMapRealVector ebeMultiply(double[] v) {
         checkVectorDimensions(v.length);
         OpenMapRealVector res = new OpenMapRealVector(this);
+        Iterator iter = entries.iterator();
-        Iterator iter = res.entries.iterator();
         while (iter.hasNext()) {
             iter.advance();
             res.setEntry(iter.key(), iter.value() * v[iter.key()]);

```

## Patch #138 DynaMoth 

[org.apache.commons.math.util.OpenIntToDoubleHashMap$Iterator:564](https://github.com/apache/commons-math/blob/7c6dd40b330d85ae718e867c4d5cee0b1c4f317b/src/main/java//org/apache/commons/math/util/OpenIntToDoubleHashMap$Iterator.java#L564)

```Java
--- /tmp/math_49_Brutpol/src/main/java/org/apache/commons/math/util/OpenIntToDoubleHashMap.java
+++ /tmp/math_49_Brutpol/src/main/java/org/apache/commons/math/util/OpenIntToDoubleHashMap.java
@@ -563,3 +563,5 @@
             if (referenceCount != count) {
-                throw MathRuntimeException.createConcurrentModificationException(LocalizedFormats.MAP_MODIFIED_WHILE_ITERATING);
+                if (this.next == 0) {
+                    throw MathRuntimeException.createConcurrentModificationException(LocalizedFormats.MAP_MODIFIED_WHILE_ITERATING);
+                }
             }

```
Execution time: 0:04:03.605000

Grid5000 node: griffon-12.nancy.grid5000.fr


# Math 50


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math/analysis/solvers/BaseSecantSolver.java b/src/main/java/org/apache/commons/math/analysis/solvers/BaseSecantSolver.java
index c781a90..e47d982 100644
--- a/src/main/java/org/apache/commons/math/analysis/solvers/BaseSecantSolver.java
+++ b/src/main/java/org/apache/commons/math/analysis/solvers/BaseSecantSolver.java
@@ -184,6 +184,10 @@ public abstract class BaseSecantSolver
                     break;
                 case REGULA_FALSI:
                     // Nothing.
-                    if (x == x1) {
-                        x0 = 0.5 * (x0 + x1 - FastMath.max(rtol * FastMath.abs(x1), atol));
-                        f0 = computeObjectiveValue(x0);
-                    }
                     break;
                 default:
                     // Should never happen.

```

## Patch #139 DynaMoth 

[org.apache.commons.math.analysis.solvers.BaseSecantSolver:188](https://github.com/apache/commons-math/blob/565b6b527fd62a97fb9f8ded6c75b97f595cb33f/src/main/java//org/apache/commons/math/analysis/solvers/BaseSecantSolver.java#L188)

```Java
--- /tmp/math_50_Brutpol/src/main/java/org/apache/commons/math/analysis/solvers/BaseSecantSolver.java
+++ /tmp/math_50_Brutpol/src/main/java/org/apache/commons/math/analysis/solvers/BaseSecantSolver.java
@@ -187,3 +187,5 @@
                     if (x == x1) {
-                        x0 = 0.5 * (x0 + x1 - FastMath.max(rtol * FastMath.abs(x1), atol));
+                        if (this.isBracketing((double) x0, (double) f0)) {
+                            x0 = 0.5 * (x0 + x1 - FastMath.max(rtol * FastMath.abs(x1), atol));
+                        }
                         f0 = computeObjectiveValue(x0);

```
Execution time: 0:03:58.859000

Grid5000 node: griffon-12.nancy.grid5000.fr


# Math 57


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math/stat/clustering/KMeansPlusPlusClusterer.java b/src/main/java/org/apache/commons/math/stat/clustering/KMeansPlusPlusClusterer.java
index e09bbc3..b73ac9d 100644
--- a/src/main/java/org/apache/commons/math/stat/clustering/KMeansPlusPlusClusterer.java
+++ b/src/main/java/org/apache/commons/math/stat/clustering/KMeansPlusPlusClusterer.java
@@ -172,7 +172,7 @@ public class KMeansPlusPlusClusterer<T extends Clusterable<T>> {
         while (resultSet.size() < k) {
             // For each data point x, compute D(x), the distance between x and
             // the nearest center that has already been chosen.
+            double sum = 0;
-            int sum = 0;
             for (int i = 0; i < pointSet.size(); i++) {
                 final T p = pointSet.get(i);
                 final Cluster<T> nearest = getNearestCluster(resultSet, p);

```

## Patch #140 DynaMoth 

[org.apache.commons.math.stat.clustering.EuclideanIntegerPoint:85](https://github.com/apache/commons-math/blob/35a0923edfe498c58bfb1e86099fed85fde0c353/src/main/java//org/apache/commons/math/stat/clustering/EuclideanIntegerPoint.java#L85)

```Java
--- /tmp/math_57_Brutpol/src/main/java/org/apache/commons/math/stat/clustering/EuclideanIntegerPoint.java
+++ /tmp/math_57_Brutpol/src/main/java/org/apache/commons/math/stat/clustering/EuclideanIntegerPoint.java
@@ -84,4 +84,6 @@
         for (int i = 0; i < point.length; i++) {
-            if (point[i] != otherPoint[i]) {
-                return false;
+            if (otherPoint.length != 1) {
+                if (point[i] != otherPoint[i]) {
+                    return false;
+                }
             }

```
Execution time: 0:04:13.132000

Grid5000 node: griffon-19.nancy.grid5000.fr


# Math 58


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math/optimization/fitting/GaussianFitter.java b/src/main/java/org/apache/commons/math/optimization/fitting/GaussianFitter.java
index e1b54f4..ae7ac39 100644
--- a/src/main/java/org/apache/commons/math/optimization/fitting/GaussianFitter.java
+++ b/src/main/java/org/apache/commons/math/optimization/fitting/GaussianFitter.java
@@ -118,7 +118,7 @@ public class GaussianFitter extends CurveFitter {
      */
     public double[] fit() {
         final double[] guess = (new ParameterGuesser(getObservations())).guess();
+        return fit(guess);
-        return fit(new Gaussian.Parametric(), guess);
     }
 
     /**

```

## Patch #141 DynaMoth 

[org.apache.commons.math.analysis.function.Gaussian$Parametric:183](https://github.com/apache/commons-math/blob/73a227619d6671f69f9dcfb614f1b6abd83e2d62/src/main/java//org/apache/commons/math/analysis/function/Gaussian$Parametric.java#L183)

```Java
--- /tmp/math_58_Brutpol/src/main/java/org/apache/commons/math/analysis/function/Gaussian.java
+++ /tmp/math_58_Brutpol/src/main/java/org/apache/commons/math/analysis/function/Gaussian.java
@@ -182,3 +182,5 @@
             if (param[2] <= 0) {
-                throw new NotStrictlyPositiveException(param[2]);
+                if (param[0] <= 0) {
+                    throw new NotStrictlyPositiveException(param[2]);
+                }
             }

```
Execution time: 0:02:58.655000

Grid5000 node: griffon-5.nancy.grid5000.fr


# Math 69


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math/stat/correlation/PearsonsCorrelation.java b/src/main/java/org/apache/commons/math/stat/correlation/PearsonsCorrelation.java
index dc83314..83b4c41 100644
--- a/src/main/java/org/apache/commons/math/stat/correlation/PearsonsCorrelation.java
+++ b/src/main/java/org/apache/commons/math/stat/correlation/PearsonsCorrelation.java
@@ -168,7 +168,7 @@ public class PearsonsCorrelation {
                 } else {
                     double r = correlationMatrix.getEntry(i, j);
                     double t = Math.abs(r * Math.sqrt((nObs - 2)/(1 - r * r)));
+                    out[i][j] = 2 * tDistribution.cumulativeProbability(-t);
-                    out[i][j] = 2 * (1 - tDistribution.cumulativeProbability(t));
                 }
             }
         }

```

## Patch #142 DynaMoth 

[org.apache.commons.math.stat.correlation.PearsonsCorrelation:193](https://github.com/apache/commons-math/blob/eb74f8f418f9da4adb52628fe775022efc4b0467/src/main/java//org/apache/commons/math/stat/correlation/PearsonsCorrelation.java#L193)

```Java
--- /tmp/math_69_Brutpol/src/main/java/org/apache/commons/math/stat/correlation/PearsonsCorrelation.java
+++ /tmp/math_69_Brutpol/src/main/java/org/apache/commons/math/stat/correlation/PearsonsCorrelation.java
@@ -192,3 +192,5 @@
               outMatrix.setEntry(i, j, corr);
-              outMatrix.setEntry(j, i, corr);
+              if (outMatrix.getDeterminant() != matrix.getEntry((int) j, (int) 0)) {
+                  outMatrix.setEntry(j, i, corr);
+              }
             }

```
Execution time: 0:01:04.148000

Grid5000 node: graphene-66.nancy.grid5000.fr


# Math 71


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math/ode/nonstiff/EmbeddedRungeKuttaIntegrator.java b/src/main/java/org/apache/commons/math/ode/nonstiff/EmbeddedRungeKuttaIntegrator.java
index e03be9e..0840ac1 100644
--- a/src/main/java/org/apache/commons/math/ode/nonstiff/EmbeddedRungeKuttaIntegrator.java
+++ b/src/main/java/org/apache/commons/math/ode/nonstiff/EmbeddedRungeKuttaIntegrator.java
@@ -297,10 +297,6 @@ public abstract class EmbeddedRungeKuttaIntegrator
                   // it is so small (much probably exactly 0 due to limited accuracy)
                   // that the code above would fail handling it.
                   // So we set up an artificial 0 size step by copying states
+                  interpolator.storeTime(stepStart);
+                  System.arraycopy(y, 0, yTmp, 0, y0.length);
+                  hNew     = 0;
+                  stepSize = 0;
                   loop     = false;
               } else {
                   // reject the step to match exactly the next switch time
diff --git a/src/main/java/org/apache/commons/math/ode/nonstiff/RungeKuttaIntegrator.java b/src/main/java/org/apache/commons/math/ode/nonstiff/RungeKuttaIntegrator.java
index b61b0b1..255b1f4 100644
--- a/src/main/java/org/apache/commons/math/ode/nonstiff/RungeKuttaIntegrator.java
+++ b/src/main/java/org/apache/commons/math/ode/nonstiff/RungeKuttaIntegrator.java
@@ -177,9 +177,6 @@ public abstract class RungeKuttaIntegrator extends AbstractIntegrator {
                 // it is so small (much probably exactly 0 due to limited accuracy)
                 // that the code above would fail handling it.
                 // So we set up an artificial 0 size step by copying states
+                interpolator.storeTime(stepStart);
+                System.arraycopy(y, 0, yTmp, 0, y0.length);
+                stepSize = 0;
                 loop     = false;
             } else {
                 // reject the step to match exactly the next switch time

```

## Patch #143 DynaMoth 

[org.apache.commons.math.ode.nonstiff.AdaptiveStepsizeIntegrator:153](https://github.com/apache/commons-math/blob/7d81702ace2819d326bbe49c8249cae60850cc0c/src/main/java//org/apache/commons/math/ode/nonstiff/AdaptiveStepsizeIntegrator.java#L153)

```Java
--- /tmp/math_71_Brutpol/src/main/java/org/apache/commons/math/ode/nonstiff/AdaptiveStepsizeIntegrator.java
+++ /tmp/math_71_Brutpol/src/main/java/org/apache/commons/math/ode/nonstiff/AdaptiveStepsizeIntegrator.java
@@ -152,3 +152,5 @@
     } else {
-      initialStep = initialStepSize;
+      if (this.requiresDenseOutput()) {
+        initialStep = initialStepSize;
+      }
     }

```
Execution time: 0:01:00.508000

Grid5000 node: griffon-18.nancy.grid5000.fr


# Math 78


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math/ode/events/EventState.java b/src/main/java/org/apache/commons/math/ode/events/EventState.java
index ff09646..5006065 100644
--- a/src/main/java/org/apache/commons/math/ode/events/EventState.java
+++ b/src/main/java/org/apache/commons/math/ode/events/EventState.java
@@ -188,7 +188,6 @@ public class EventState {
                 if (g0Positive ^ (gb >= 0)) {
                     // there is a sign change: an event is expected during this step
 
+                    if (ga * gb > 0) {
                         // this is a corner case:
                         // - there was an event near ta,
                         // - there is another event between ta and tb
@@ -196,17 +195,7 @@ public class EventState {
                         // this implies that the real sign of ga is the same as gb, so we need to slightly
                         // shift ta to make sure ga and gb get opposite signs and the solver won't complain
                         // about bracketing
+                        final double epsilon = (forward ? 0.25 : -0.25) * convergence;
+                        for (int k = 0; (k < 4) && (ga * gb > 0); ++k) {
+                            ta += epsilon;
+                            interpolator.setInterpolatedTime(ta);
+                            ga = handler.g(ta, interpolator.getInterpolatedState());
+                        }
+                        if (ga * gb > 0) {
                             // this should never happen
+                            throw MathRuntimeException.createInternalError(null);
+                        }
+                    }
                          
                     // variation direction, with respect to the integration direction
                     increasing = gb >= ga;

```

## Patch #144 DynaMoth 

[org.apache.commons.math.ode.events.EventState:216](https://github.com/apache/commons-math/blob/335572b99ea84b7b0665e6a818cba41e34f97203/src/main/java//org/apache/commons/math/ode/events/EventState.java#L216)

```Java
--- /tmp/math_78_Brutpol/src/main/java/org/apache/commons/math/ode/events/EventState.java
+++ /tmp/math_78_Brutpol/src/main/java/org/apache/commons/math/ode/events/EventState.java
@@ -215,3 +215,5 @@
                     final BrentSolver solver = new BrentSolver();
-                    solver.setAbsoluteAccuracy(convergence);
+                    if (t1 <= this.maxIterationCount) {
+                        solver.setAbsoluteAccuracy(convergence);
+                    }
                     solver.setMaximalIterationCount(maxIterationCount);

```
Execution time: 0:01:23.803000

Grid5000 node: griffon-2.nancy.grid5000.fr


# Math 80


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math/linear/EigenDecompositionImpl.java b/src/main/java/org/apache/commons/math/linear/EigenDecompositionImpl.java
index 9d1b797..3fc328d 100644
--- a/src/main/java/org/apache/commons/math/linear/EigenDecompositionImpl.java
+++ b/src/main/java/org/apache/commons/math/linear/EigenDecompositionImpl.java
@@ -1132,7 +1132,7 @@ public class EigenDecompositionImpl implements EigenDecomposition {
     private boolean flipIfWarranted(final int n, final int step) {
         if (1.5 * work[pingPong] < work[4 * (n - 1) + pingPong]) {
             // flip array
+            int j = 4 * (n - 1);
-            int j = 4 * n - 1;
             for (int i = 0; i < j; i += 4) {
                 for (int k = 0; k < 4; k += step) {
                     final double tmp = work[i + k];

```

## Patch #145 DynaMoth 

[org.apache.commons.math.linear.EigenDecompositionImpl:1137](https://github.com/apache/commons-math/blob/c78a0e3b003ac36d57a3c895fc8240ef66546a56/src/main/java//org/apache/commons/math/linear/EigenDecompositionImpl.java#L1137)

```Java
--- /tmp/math_80_Brutpol/src/main/java/org/apache/commons/math/linear/EigenDecompositionImpl.java
+++ /tmp/math_80_Brutpol/src/main/java/org/apache/commons/math/linear/EigenDecompositionImpl.java
@@ -1136,6 +1136,8 @@
             for (int i = 0; i < j; i += 4) {
-                for (int k = 0; k < 4; k += step) {
-                    final double tmp = work[i + k];
-                    work[i + k] = work[j - k];
-                    work[j - k] = tmp;
+                if (step == j) {
+                    for (int k = 0; k < 4; k += step) {
+                        final double tmp = work[i + k];
+                        work[i + k] = work[j - k];
+                        work[j - k] = tmp;
+                    }
                 }

```
Execution time: 0:05:53.932000

Grid5000 node: griffon-14.nancy.grid5000.fr


# Math 82


## Human Patch 

```Java
diff --git a/src/main/java/org/apache/commons/math/optimization/linear/SimplexSolver.java b/src/main/java/org/apache/commons/math/optimization/linear/SimplexSolver.java
index 60a1b3a..8309d7b 100644
--- a/src/main/java/org/apache/commons/math/optimization/linear/SimplexSolver.java
+++ b/src/main/java/org/apache/commons/math/optimization/linear/SimplexSolver.java
@@ -79,7 +79,7 @@ public class SimplexSolver extends AbstractLinearOptimizer {
         for (int i = tableau.getNumObjectiveFunctions(); i < tableau.getHeight(); i++) {
             final double rhs = tableau.getEntry(i, tableau.getWidth() - 1);
             final double entry = tableau.getEntry(i, col);
+            if (MathUtils.compareTo(entry, 0, epsilon) > 0) {
-            if (MathUtils.compareTo(entry, 0, epsilon) >= 0) {
                 final double ratio = rhs / entry;
                 if (ratio < minRatio) {
                     minRatio = ratio;

```

## Patch #146 DynaMoth 

[org.apache.commons.math.optimization.linear.SimplexSolver:63](https://github.com/apache/commons-math/blob/dbdff0758b40601238e88b2cffbf7ceb58ed8977/src/main/java//org/apache/commons/math/optimization/linear/SimplexSolver.java#L63)

```Java
--- /tmp/math_82_Brutpol/src/main/java/org/apache/commons/math/optimization/linear/SimplexSolver.java
+++ /tmp/math_82_Brutpol/src/main/java/org/apache/commons/math/optimization/linear/SimplexSolver.java
@@ -62,3 +62,5 @@
             if (MathUtils.compareTo(tableau.getEntry(0, i), minValue, epsilon) < 0) {
-                minValue = tableau.getEntry(0, i);
+                if (this.isOptimal((org.apache.commons.math.optimization.linear.SimplexTableau) tableau)) {
+                    minValue = tableau.getEntry(0, i);
+                }
                 minPos = i;

```
Execution time: 0:06:05.071000

Grid5000 node: griffon-28.nancy.grid5000.fr


# Math 85


## Human Patch 

```Java
diff --git a/src/java/org/apache/commons/math/analysis/solvers/UnivariateRealSolverUtils.java b/src/java/org/apache/commons/math/analysis/solvers/UnivariateRealSolverUtils.java
index e6398f6..bf3e4bf 100644
--- a/src/java/org/apache/commons/math/analysis/solvers/UnivariateRealSolverUtils.java
+++ b/src/java/org/apache/commons/math/analysis/solvers/UnivariateRealSolverUtils.java
@@ -195,7 +195,7 @@ public class UnivariateRealSolverUtils {
         } while ((fa * fb > 0.0) && (numIterations < maximumIterations) && 
                 ((a > lowerBound) || (b < upperBound)));
    
+        if (fa * fb > 0.0 ) {
-        if (fa * fb >= 0.0 ) {
             throw new ConvergenceException(
                       "number of iterations={0}, maximum iterations={1}, " +
                       "initial={2}, lower bound={3}, upper bound={4}, final a value={5}, " +

```

## Patch #147 DynaMoth 

[org.apache.commons.math.analysis.solvers.UnivariateRealSolverUtils:198](https://github.com/apache/commons-math/blob/26281773d85fa96594c16aee56e36805f3254064/src/java//org/apache/commons/math/analysis/solvers/UnivariateRealSolverUtils.java#L198)

```Java
--- /tmp/math_85_Brutpol/src/java/org/apache/commons/math/analysis/solvers/UnivariateRealSolverUtils.java
+++ /tmp/math_85_Brutpol/src/java/org/apache/commons/math/analysis/solvers/UnivariateRealSolverUtils.java
@@ -197,9 +197,9 @@
    
-        if (fa * fb >= 0.0 ) {
+        if (fa == 0.0) {
             throw new ConvergenceException(
-                      "number of iterations={0}, maximum iterations={1}, " +
-                      "initial={2}, lower bound={3}, upper bound={4}, final a value={5}, " +
-                      "final b value={6}, f(a)={7}, f(b)={8}",
-                      numIterations, maximumIterations, initial,
-                      lowerBound, upperBound, a, b, fa, fb);
+            "number of iterations={0}, maximum iterations={1}, " +
+            "initial={2}, lower bound={3}, upper bound={4}, final a value={5}, " +
+            "final b value={6}, f(a)={7}, f(b)={8}",
+            numIterations, maximumIterations, initial,
+            lowerBound, upperBound, a, b, fa, fb);
         }

```
Execution time: 0:02:31.174000

Grid5000 node: griffon-28.nancy.grid5000.fr


# Math 87


## Human Patch 

```Java
diff --git a/src/java/org/apache/commons/math/optimization/linear/SimplexTableau.java b/src/java/org/apache/commons/math/optimization/linear/SimplexTableau.java
index b0d114e..0ab790c 100644
--- a/src/java/org/apache/commons/math/optimization/linear/SimplexTableau.java
+++ b/src/java/org/apache/commons/math/optimization/linear/SimplexTableau.java
@@ -272,10 +272,12 @@ class SimplexTableau implements Serializable {
     private Integer getBasicRow(final int col) {
         Integer row = null;
         for (int i = getNumObjectiveFunctions(); i < getHeight(); i++) {
+            if (MathUtils.equals(getEntry(i, col), 1.0, epsilon) && (row == null)) {
-            if (!MathUtils.equals(getEntry(i, col), 0.0, epsilon)) {
-                if (row == null) {
                 row = i;
+            } else if (!MathUtils.equals(getEntry(i, col), 0.0, epsilon)) {
-                } else {
                 return null;
-                }
             }
         }
         return row;

```

## Patch #148 DynaMoth 

[org.apache.commons.math.optimization.linear.SimplexTableau:261](https://github.com/apache/commons-math/blob/10cdc1066f9ae92219382bee25aeeac724298bc9/src/java//org/apache/commons/math/optimization/linear/SimplexTableau.java#L261)

```Java
--- /tmp/math_87_Brutpol/src/java/org/apache/commons/math/optimization/linear/SimplexTableau.java
+++ /tmp/math_87_Brutpol/src/java/org/apache/commons/math/optimization/linear/SimplexTableau.java
@@ -260,4 +260,6 @@
         double sum = 0;
-        for (double coefficient : coefficients.getData()) {
-            sum -= coefficient;
+        if (coefficients.getDimension() != 1) {
+            for (double coefficient : coefficients.getData()) {
+                sum -= coefficient;
+            }
         }

```
Execution time: 0:01:28.790000

Grid5000 node: griffon-10.nancy.grid5000.fr


# Math 88


## Human Patch 

```Java
diff --git a/src/java/org/apache/commons/math/optimization/linear/SimplexTableau.java b/src/java/org/apache/commons/math/optimization/linear/SimplexTableau.java
index a6d7419..3bcb17f 100644
--- a/src/java/org/apache/commons/math/optimization/linear/SimplexTableau.java
+++ b/src/java/org/apache/commons/math/optimization/linear/SimplexTableau.java
@@ -326,18 +326,19 @@ class SimplexTableau implements Serializable {
         Integer basicRow =
             getBasicRow(getNumObjectiveFunctions() + getOriginalNumDecisionVariables());
         double mostNegative = basicRow == null ? 0 : getEntry(basicRow, getRhsOffset());
+        Set<Integer> basicRows = new HashSet<Integer>();
         for (int i = 0; i < coefficients.length; i++) {
             basicRow = getBasicRow(getNumObjectiveFunctions() + i);
+            if (basicRows.contains(basicRow)) {
                 // if multiple variables can take a given value 
                 // then we choose the first and set the rest equal to 0
+                coefficients[i] = 0;
+            } else {
+                basicRows.add(basicRow);
                 coefficients[i] =
                     (basicRow == null ? 0 : getEntry(basicRow, getRhsOffset())) -
                     (restrictToNonNegative ? 0 : mostNegative);
-            if (basicRow != null) {
-                for (int j = getNumObjectiveFunctions(); j < getNumObjectiveFunctions() + i; j++) {
-                    if (tableau.getEntry(basicRow, j) == 1) {
-                         coefficients[i] = 0;
-                    }
-                }
             }
         }
         return new RealPointValuePair(coefficients, f.getValue(coefficients));

```

## Patch #149 DynaMoth 

[org.apache.commons.math.optimization.linear.SimplexTableau:339](https://github.com/apache/commons-math/blob/ca9d46257a9d4026d790adec555096d453e3f629/src/java//org/apache/commons/math/optimization/linear/SimplexTableau.java#L339)

```Java
--- /tmp/math_88_Brutpol/src/java/org/apache/commons/math/optimization/linear/SimplexTableau.java
+++ /tmp/math_88_Brutpol/src/java/org/apache/commons/math/optimization/linear/SimplexTableau.java
@@ -338,3 +338,5 @@
                     if (tableau.getEntry(basicRow, j) == 1) {
-                         coefficients[i] = 0;
+                         if (basicRow == this.getBasicRow((int) i)) {
+                             coefficients[i] = 0;
+                         }
                     }

```
Execution time: 0:00:49.081000

Grid5000 node: griffon-17.nancy.grid5000.fr


# Math 96


## Human Patch 

```Java
diff --git a/src/java/org/apache/commons/math/complex/Complex.java b/src/java/org/apache/commons/math/complex/Complex.java
index 8b622cb..3571567 100644
--- a/src/java/org/apache/commons/math/complex/Complex.java
+++ b/src/java/org/apache/commons/math/complex/Complex.java
@@ -255,7 +255,7 @@ public class Complex implements Serializable  {
                 if (rhs.isNaN()) {
                     ret = this.isNaN();
                 } else {
+                    ret = (real == rhs.real) && (imaginary == rhs.imaginary); 
-                    ret = (Double.doubleToRawLongBits(real) == Double.doubleToRawLongBits(rhs.getReal())) && (Double.doubleToRawLongBits(imaginary) == Double.doubleToRawLongBits(rhs.getImaginary())); 
                 }
             } catch (ClassCastException ex) {
                 // ignore exception

```

## Patch #150 DynaMoth 

[org.apache.commons.math.complex.Complex:248](https://github.com/apache/commons-math/blob/a48a97b37fa591427f95e158beb33031daf06196/src/java//org/apache/commons/math/complex/Complex.java#L248)

```Java
--- /tmp/math_96_Brutpol/src/java/org/apache/commons/math/complex/Complex.java
+++ /tmp/math_96_Brutpol/src/java/org/apache/commons/math/complex/Complex.java
@@ -247,3 +247,3 @@
         
-        if (this == other) { 
+        if (this.imaginary == (this.abs() / this.imaginary)) {
             ret = true;
@@ -257,3 +257,3 @@
                 } else {
-                    ret = (Double.doubleToRawLongBits(real) == Double.doubleToRawLongBits(rhs.getReal())) && (Double.doubleToRawLongBits(imaginary) == Double.doubleToRawLongBits(rhs.getImaginary())); 
+                    ret = (Double.doubleToRawLongBits(real) == Double.doubleToRawLongBits(rhs.getReal())) && (Double.doubleToRawLongBits(imaginary) == Double.doubleToRawLongBits(rhs.getImaginary()));
                 }

```
Execution time: 0:00:41.520000

Grid5000 node: graphene-6.nancy.grid5000.fr


# Math 97


## Human Patch 

```Java
diff --git a/src/java/org/apache/commons/math/analysis/BrentSolver.java b/src/java/org/apache/commons/math/analysis/BrentSolver.java
index 57f64a9..766d87e 100644
--- a/src/java/org/apache/commons/math/analysis/BrentSolver.java
+++ b/src/java/org/apache/commons/math/analysis/BrentSolver.java
@@ -135,31 +135,17 @@ public class BrentSolver extends UnivariateRealSolverImpl {
         
         // Verify bracketing
         double sign = yMin * yMax;
+        if (sign > 0) {
-        if (sign >= 0) {
             // check if either value is close to a zero
+            if (Math.abs(yMin) <= functionValueAccuracy) {
+                setResult(min, 0);
+                ret = min;
+            } else if (Math.abs(yMax) <= functionValueAccuracy) {
+                setResult(max, 0);
+                ret = max;
+            } else {
                 // neither value is close to zero and min and max do not bracket root.
                 throw new IllegalArgumentException
                 ("Function values at endpoints do not have different signs." +
                         "  Endpoints: [" + min + "," + max + "]" + 
                         "  Values: [" + yMin + "," + yMax + "]");
+            }
+        } else if (sign < 0){
-        } else {
             // solve using only the first endpoint as initial guess
             ret = solve(min, yMin, max, yMax, min, yMin);
+        } else {
             // either min or max is a root
+            if (yMin == 0.0) {
+                ret = min;
+            } else {
+                ret = max;
+            }
         }
 
         return ret;

```

## Patch #151 DynaMoth 

[org.apache.commons.math.analysis.BrentSolver:138](https://github.com/apache/commons-math/blob/0010754c0b2eb5a5dc490acdf4f4948330363e23/src/java//org/apache/commons/math/analysis/BrentSolver.java#L138)

```Java
--- /tmp/math_97_Brutpol/src/java/org/apache/commons/math/analysis/BrentSolver.java
+++ /tmp/math_97_Brutpol/src/java/org/apache/commons/math/analysis/BrentSolver.java
@@ -137,9 +137,9 @@
         double sign = yMin * yMax;
-        if (sign >= 0) {
+        if (this.relativeAccuracy <= sign) {
             // check if either value is close to a zero
-                // neither value is close to zero and min and max do not bracket root.
-                throw new IllegalArgumentException
-                ("Function values at endpoints do not have different signs." +
-                        "  Endpoints: [" + min + "," + max + "]" + 
-                        "  Values: [" + yMin + "," + yMax + "]");
+            // neither value is close to zero and min and max do not bracket root.
+            throw new IllegalArgumentException
+            ("Function values at endpoints do not have different signs." +
+            "  Endpoints: [" + min + "," + max + "]" +
+            "  Values: [" + yMin + "," + yMax + "]");
         } else {

```
Execution time: 0:00:53.502000

Grid5000 node: griffon-15.nancy.grid5000.fr


# Math 101


## Human Patch 

```Java
diff --git a/src/java/org/apache/commons/math/complex/ComplexFormat.java b/src/java/org/apache/commons/math/complex/ComplexFormat.java
index 0757d9b..b404bc4 100644
--- a/src/java/org/apache/commons/math/complex/ComplexFormat.java
+++ b/src/java/org/apache/commons/math/complex/ComplexFormat.java
@@ -374,8 +374,7 @@ public class ComplexFormat extends Format implements Serializable {
         int n = getImaginaryCharacter().length();
         startIndex = pos.getIndex();
         int endIndex = startIndex + n;
+        if ((startIndex >= source.length()) ||
+            (endIndex > source.length()) ||
-        if (
             source.substring(startIndex, endIndex).compareTo(
             getImaginaryCharacter()) != 0) {
             // set index back to initial, error index should be the start index

```

## Patch #152 DynaMoth 

[org.apache.commons.math.complex.ComplexFormat:377](https://github.com/apache/commons-math/blob/07b329c5fd484d63106bf80c155bbbbbfb3b241e/src/java//org/apache/commons/math/complex/ComplexFormat.java#L377)

```Java
--- /tmp/math_101_Brutpol/src/java/org/apache/commons/math/complex/ComplexFormat.java
+++ /tmp/math_101_Brutpol/src/java/org/apache/commons/math/complex/ComplexFormat.java
@@ -377,4 +377,3 @@
         if (
-            source.substring(startIndex, endIndex).compareTo(
-            getImaginaryCharacter()) != 0) {
+            startIndex == source.length()) {
             // set index back to initial, error index should be the start index

```
Execution time: 0:00:40.406000

Grid5000 node: griffon-11.nancy.grid5000.fr


# Math 105


## Human Patch 

```Java
diff --git a/src/java/org/apache/commons/math/stat/regression/SimpleRegression.java b/src/java/org/apache/commons/math/stat/regression/SimpleRegression.java
index d9fa592..dcf512b 100644
--- a/src/java/org/apache/commons/math/stat/regression/SimpleRegression.java
+++ b/src/java/org/apache/commons/math/stat/regression/SimpleRegression.java
@@ -261,7 +261,7 @@ public class SimpleRegression implements Serializable {
      * @return sum of squared errors associated with the regression model
      */
     public double getSumSquaredErrors() {
+        return Math.max(0d, sumYY - sumXY * sumXY / sumXX);
-        return sumYY - sumXY * sumXY / sumXX;
     }
 
     /**

```

## Patch #153 DynaMoth 

[org.apache.commons.math.stat.regression.SimpleRegression:116](https://github.com/apache/commons-math/blob/00b139a1c49c230bfb7b0f1ec5b8c22d560d3447/src/java//org/apache/commons/math/stat/regression/SimpleRegression.java#L116)

```Java
--- /tmp/math_105_Brutpol/src/java/org/apache/commons/math/stat/regression/SimpleRegression.java
+++ /tmp/math_105_Brutpol/src/java/org/apache/commons/math/stat/regression/SimpleRegression.java
@@ -115,3 +115,5 @@
             xbar += dx / (double) (n + 1.0);
-            ybar += dy / (double) (n + 1.0);
+            if (dy <= this.getRegressionSumSquares((double) x)) {
+                ybar += dy / (double) (n + 1.0);
+            }
         }

```
Execution time: 0:00:36.511000

Grid5000 node: griffon-5.nancy.grid5000.fr


# Mockito 29


## Human Patch 

```Java
diff --git a/src/org/mockito/internal/matchers/Same.java b/src/org/mockito/internal/matchers/Same.java
index b8267b9..6c172fe 100644
--- a/src/org/mockito/internal/matchers/Same.java
+++ b/src/org/mockito/internal/matchers/Same.java
@@ -26,7 +26,7 @@ public class Same extends ArgumentMatcher<Object> implements Serializable {
     public void describeTo(Description description) {
         description.appendText("same(");
         appendQuoting(description);
+        description.appendText(wanted == null ? "null" : wanted.toString());
-        description.appendText(wanted.toString());
         appendQuoting(description);
         description.appendText(")");
     }

```

## Patch #154 DynaMoth 

org.mockito.internal.matchers.Same:29

```Java
--- /tmp/mockito_29_Brutpol/src/org/mockito/internal/matchers/Same.java
+++ /tmp/mockito_29_Brutpol/src/org/mockito/internal/matchers/Same.java
@@ -28,3 +28,5 @@
         appendQuoting(description);
-        description.appendText(wanted.toString());
+        if (this.wanted != null) {
+            description.appendText(wanted.toString());
+        }
         appendQuoting(description);

```
Execution time: 0:00:24.910000

Grid5000 node: griffon-12.nancy.grid5000.fr


# Mockito 38


## Human Patch 

```Java
diff --git a/src/org/mockito/internal/verification/argumentmatching/ArgumentMatchingTool.java b/src/org/mockito/internal/verification/argumentmatching/ArgumentMatchingTool.java
index 9d4f834..671fbc5 100644
--- a/src/org/mockito/internal/verification/argumentmatching/ArgumentMatchingTool.java
+++ b/src/org/mockito/internal/verification/argumentmatching/ArgumentMatchingTool.java
@@ -45,6 +45,6 @@ public class ArgumentMatchingTool {
     }
 
     private boolean toStringEquals(Matcher m, Object arg) {
+        return StringDescription.toString(m).equals(arg == null? "null" : arg.toString());
-        return StringDescription.toString(m).equals(arg.toString());
     }
 }

```

## Patch #155 DynaMoth 

org.mockito.internal.verification.argumentmatching.ArgumentMatchingTool:28

```Java
--- /tmp/mockito_38_Brutpol/src/org/mockito/internal/verification/argumentmatching/ArgumentMatchingTool.java
+++ /tmp/mockito_38_Brutpol/src/org/mockito/internal/verification/argumentmatching/ArgumentMatchingTool.java
@@ -27,7 +27,9 @@
         for (Matcher m : matchers) {
-            if (m instanceof ContainsExtraTypeInformation 
-                    && !safelyMatches(m, arguments[i]) 
-                    && toStringEquals(m, arguments[i])
-                    && !((ContainsExtraTypeInformation) m).typeMatches(arguments[i])) {
-                suspicious.add(i);
+            if (arguments[0] != null) {
+                if (m instanceof ContainsExtraTypeInformation
+                && !safelyMatches(m, arguments[i])
+                && toStringEquals(m, arguments[i])
+                && !((ContainsExtraTypeInformation) m).typeMatches(arguments[i])) {
+                    suspicious.add(i);
+                }
             }

```
Execution time: 0:00:19.584000

Grid5000 node: griffon-18.nancy.grid5000.fr


# Time 4


## Human Patch 

```Java
diff --git a/src/main/java/org/joda/time/Partial.java b/src/main/java/org/joda/time/Partial.java
index 8e8e603..0d4edf4 100644
--- a/src/main/java/org/joda/time/Partial.java
+++ b/src/main/java/org/joda/time/Partial.java
@@ -461,7 +461,7 @@ public final class Partial
             System.arraycopy(iValues, i, newValues, i + 1, newValues.length - i - 1);
             // use public constructor to ensure full validation
             // this isn't overly efficient, but is safe
+            Partial newPartial = new Partial(newTypes, newValues, iChronology);
-            Partial newPartial = new Partial(iChronology, newTypes, newValues);
             iChronology.validate(newPartial, newValues);
             return newPartial;
         }

```

## Patch #156 DynaMoth 

[org.joda.time.Partial:459](https://github.com/JodaOrg/joda-time/blob/bcb044669b4d1f8d334861ccbd169924d6ef3b54/src/main/java//org/joda/time/Partial.java#L459)

```Java
--- /tmp/time_4_Brutpol/src/main/java/org/joda/time/Partial.java
+++ /tmp/time_4_Brutpol/src/main/java/org/joda/time/Partial.java
@@ -458,3 +458,5 @@
             newTypes[i] = fieldType;
-            newValues[i] = value;
+            if (fieldType != fieldType.clockhourOfDay()) {
+                newValues[i] = value;
+            }
             System.arraycopy(iTypes, i, newTypes, i + 1, newTypes.length - i - 1);

```
Execution time: 0:01:13.817000

Grid5000 node: griffon-20.nancy.grid5000.fr


# Time 7


## Human Patch 

```Java
diff --git a/src/main/java/org/joda/time/format/DateTimeFormatter.java b/src/main/java/org/joda/time/format/DateTimeFormatter.java
index 913d036..447674a 100644
--- a/src/main/java/org/joda/time/format/DateTimeFormatter.java
+++ b/src/main/java/org/joda/time/format/DateTimeFormatter.java
@@ -705,9 +705,9 @@ public class DateTimeFormatter {
         
         long instantMillis = instant.getMillis();
         Chronology chrono = instant.getChronology();
+        int defaultYear = DateTimeUtils.getChronology(chrono).year().get(instantMillis);
         long instantLocal = instantMillis + chrono.getZone().getOffset(instantMillis);
         chrono = selectChronology(chrono);
-        int defaultYear = chrono.year().get(instantLocal);
         
         DateTimeParserBucket bucket = new DateTimeParserBucket(
             instantLocal, chrono, iLocale, iPivotYear, defaultYear);

```

## Patch #157 DynaMoth 

[org.joda.time.format.DateTimeParserBucket:359](https://github.com/JodaOrg/joda-time/blob/6bf5bba0f77f3023dec23a1de6e0a8cef8585f61/src/main/java//org/joda/time/format/DateTimeParserBucket.java#L359)

```Java
--- /tmp/time_7_Brutpol/src/main/java/org/joda/time/format/DateTimeParserBucket.java
+++ /tmp/time_7_Brutpol/src/main/java/org/joda/time/format/DateTimeParserBucket.java
@@ -358,3 +358,5 @@
                 saveField(DateTimeFieldType.year(), iDefaultYear);
-                return computeMillis(resetFields, text);
+                if (resetFields) {
+                    return computeMillis(resetFields, text);
+                }
             }

```
Execution time: 0:01:11.043000

Grid5000 node: griffon-23.nancy.grid5000.fr


# Time 11


## Human Patch 

```Java
diff --git a/src/main/java/org/joda/time/tz/ZoneInfoCompiler.java b/src/main/java/org/joda/time/tz/ZoneInfoCompiler.java
index 64da5ea..6efe071 100644
--- a/src/main/java/org/joda/time/tz/ZoneInfoCompiler.java
+++ b/src/main/java/org/joda/time/tz/ZoneInfoCompiler.java
@@ -65,11 +65,10 @@ public class ZoneInfoCompiler {
 
     static Chronology cLenientISO;
 
+    static ThreadLocal<Boolean> cVerbose = new ThreadLocal<Boolean>() {
+        protected Boolean initialValue() {
+            return Boolean.FALSE;
+        }
+    };
-    static ThreadLocal<Boolean> cVerbose = new ThreadLocal<Boolean>();
-    static {
-        cVerbose.set(Boolean.FALSE);
-    }
 
     /**
      * Gets a flag indicating that verbose logging is required.

```

## Patch #158 DynaMoth 

[org.joda.time.tz.DateTimeZoneBuilder$PrecalculatedZone:1460](https://github.com/JodaOrg/joda-time/blob/6d5104753470c130336e319a64009c0553b29c96/src/main/java//org/joda/time/tz/DateTimeZoneBuilder$PrecalculatedZone.java#L1460)

```Java
--- /tmp/time_11_Brutpol/src/main/java/org/joda/time/tz/DateTimeZoneBuilder.java
+++ /tmp/time_11_Brutpol/src/main/java/org/joda/time/tz/DateTimeZoneBuilder.java
@@ -1459,5 +1459,7 @@
                     .equals(tailZone.iEndRecurrence.getNameKey())) {
-                    if (ZoneInfoCompiler.verbose()) {
-                        System.out.println("Fixing duplicate recurrent name key - " +
-                                           tailZone.iStartRecurrence.getNameKey());
+                    if (org.joda.time.PeriodType.yearMonthDay().equals((java.lang.Object) id)) {
+                        if (ZoneInfoCompiler.verbose()) {
+                            System.out.println("Fixing duplicate recurrent name key - " +
+                            tailZone.iStartRecurrence.getNameKey());
+                        }
                     }

```
Execution time: 0:01:08.304000

Grid5000 node: griffon-15.nancy.grid5000.fr


# Time 12


## Human Patch 

```Java
diff --git a/src/main/java/org/joda/time/LocalDate.java b/src/main/java/org/joda/time/LocalDate.java
index c86b9d7..3868531 100644
--- a/src/main/java/org/joda/time/LocalDate.java
+++ b/src/main/java/org/joda/time/LocalDate.java
@@ -207,10 +207,9 @@ public final class LocalDate
         if (calendar == null) {
             throw new IllegalArgumentException("The calendar must not be null");
         }
+        int era = calendar.get(Calendar.ERA);
         int yearOfEra = calendar.get(Calendar.YEAR);
         return new LocalDate(
+            (era == GregorianCalendar.AD ? yearOfEra : 1 - yearOfEra),
-            yearOfEra,
             calendar.get(Calendar.MONTH) + 1,
             calendar.get(Calendar.DAY_OF_MONTH)
         );
@@ -241,12 +240,7 @@ public final class LocalDate
         if (date == null) {
             throw new IllegalArgumentException("The date must not be null");
         }
+        if (date.getTime() < 0) {
             // handle years in era BC
+            GregorianCalendar cal = new GregorianCalendar();
+            cal.setTime(date);
+            return fromCalendarFields(cal);
+        }
         return new LocalDate(
             date.getYear() + 1900,
             date.getMonth() + 1,
diff --git a/src/main/java/org/joda/time/LocalDateTime.java b/src/main/java/org/joda/time/LocalDateTime.java
index e75deca..f37db3e 100644
--- a/src/main/java/org/joda/time/LocalDateTime.java
+++ b/src/main/java/org/joda/time/LocalDateTime.java
@@ -196,10 +196,9 @@ public final class LocalDateTime
         if (calendar == null) {
             throw new IllegalArgumentException("The calendar must not be null");
         }
+        int era = calendar.get(Calendar.ERA);
         int yearOfEra = calendar.get(Calendar.YEAR);
         return new LocalDateTime(
+            (era == GregorianCalendar.AD ? yearOfEra : 1 - yearOfEra),
-            yearOfEra,
             calendar.get(Calendar.MONTH) + 1,
             calendar.get(Calendar.DAY_OF_MONTH),
             calendar.get(Calendar.HOUR_OF_DAY),
@@ -234,12 +233,7 @@ public final class LocalDateTime
         if (date == null) {
             throw new IllegalArgumentException("The date must not be null");
         }
+        if (date.getTime() < 0) {
             // handle years in era BC
+            GregorianCalendar cal = new GregorianCalendar();
+            cal.setTime(date);
+            return fromCalendarFields(cal);
+        }
         return new LocalDateTime(
             date.getYear() + 1900,
             date.getMonth() + 1,

```

## Patch #159 Nopol 

[org.joda.time.LocalDateTime:663](https://github.com/JodaOrg/joda-time/blob/f2f9c8146446eff341dc7b66b5237b56d50abec0/src/main/java//org/joda/time/LocalDateTime.java#L663)

```Java
--- /tmp/time_12_Nopol/src/main/java/org/joda/time/LocalDateTime.java
+++ /tmp/time_12_Nopol/src/main/java/org/joda/time/LocalDateTime.java
@@ -662,3 +662,3 @@
         // override to perform faster
-        if (this == partial) {
+        if (((this) == partial) || (!(org.joda.time.LocalDateTime.MONTH_OF_YEAR < org.joda.time.LocalDateTime.this.iLocalMillis))) {
             return true;

```
Execution time: 0:01:55.676000

Grid5000 node: griffon-29.nancy.grid5000.fr


# Time 14


## Human Patch 

```Java
diff --git a/src/main/java/org/joda/time/chrono/BasicMonthOfYearDateTimeField.java b/src/main/java/org/joda/time/chrono/BasicMonthOfYearDateTimeField.java
index 2892a2d..afca44e 100644
--- a/src/main/java/org/joda/time/chrono/BasicMonthOfYearDateTimeField.java
+++ b/src/main/java/org/joda/time/chrono/BasicMonthOfYearDateTimeField.java
@@ -206,12 +206,7 @@ class BasicMonthOfYearDateTimeField extends ImpreciseDateTimeField {
         if (valueToAdd == 0) {
             return values;
         }
+        if (partial.size() > 0 && partial.getFieldType(0).equals(DateTimeFieldType.monthOfYear()) && fieldIndex == 0) {
             // month is largest field and being added to, such as month-day
+            int curMonth0 = partial.getValue(0) - 1;
+            int newMonth = ((curMonth0 + (valueToAdd % 12) + 12) % 12) + 1;
+            return set(partial, 0, values, newMonth);
+        }
         if (DateTimeUtils.isContiguous(partial)) {
             long instant = 0L;
             for (int i = 0, isize = partial.size(); i < isize; i++) {

```

## Patch #160 DynaMoth 

[org.joda.time.chrono.BasicMonthOfYearDateTimeField:210](https://github.com/JodaOrg/joda-time/blob/cc3262ff42e41f3b1f64290262704da3895fbe85/src/main/java//org/joda/time/chrono/BasicMonthOfYearDateTimeField.java#L210)

```Java
--- /tmp/time_14_Brutpol/src/main/java/org/joda/time/chrono/BasicMonthOfYearDateTimeField.java
+++ /tmp/time_14_Brutpol/src/main/java/org/joda/time/chrono/BasicMonthOfYearDateTimeField.java
@@ -209,3 +209,3 @@
             // month is largest field and being added to, such as month-day
-        if (DateTimeUtils.isContiguous(partial)) {
+        if (partial.getValue((int) 1) <= this.iMax) {
             long instant = 0L;

```
Execution time: 0:01:00.924000

Grid5000 node: griffon-22.nancy.grid5000.fr


# Time 16


## Human Patch 

```Java
diff --git a/src/main/java/org/joda/time/format/DateTimeFormatter.java b/src/main/java/org/joda/time/format/DateTimeFormatter.java
index baa276a..a4b1612 100644
--- a/src/main/java/org/joda/time/format/DateTimeFormatter.java
+++ b/src/main/java/org/joda/time/format/DateTimeFormatter.java
@@ -706,7 +706,7 @@ public class DateTimeFormatter {
         chrono = selectChronology(chrono);
         
         DateTimeParserBucket bucket = new DateTimeParserBucket(
+            instantLocal, chrono, iLocale, iPivotYear, chrono.year().get(instantLocal));
-            instantLocal, chrono, iLocale, iPivotYear, iDefaultYear);
         int newPos = parser.parseInto(bucket, text, position);
         instant.setMillis(bucket.computeMillis(false, text));
         if (iOffsetParsed && bucket.getOffsetInteger() != null) {

```

## Patch #161 DynaMoth 

[org.joda.time.format.DateTimeParserBucket:358](https://github.com/JodaOrg/joda-time/blob/dba7c37ea3d83b32779d3bb13cb184aedf761a8a/src/main/java//org/joda/time/format/DateTimeParserBucket.java#L358)

```Java
--- /tmp/time_16_Brutpol/src/main/java/org/joda/time/format/DateTimeParserBucket.java
+++ /tmp/time_16_Brutpol/src/main/java/org/joda/time/format/DateTimeParserBucket.java
@@ -357,3 +357,5 @@
                 saveField(DateTimeFieldType.year(), iDefaultYear);
-                return computeMillis(resetFields, text);
+                if (resetFields) {
+                    return computeMillis(resetFields, text);
+                }
             }

```
Execution time: 0:01:07.511000

Grid5000 node: griffon-24.nancy.grid5000.fr


# Time 18


## Human Patch 

```Java
diff --git a/src/main/java/org/joda/time/chrono/GJChronology.java b/src/main/java/org/joda/time/chrono/GJChronology.java
index 0a19aa6..29e559d 100644
--- a/src/main/java/org/joda/time/chrono/GJChronology.java
+++ b/src/main/java/org/joda/time/chrono/GJChronology.java
@@ -361,21 +361,9 @@ public final class GJChronology extends AssembledChronology {
 
         // Assume date is Gregorian.
         long instant;
+        try {
             instant = iGregorianChronology.getDateTimeMillis
                 (year, monthOfYear, dayOfMonth,
                  hourOfDay, minuteOfHour, secondOfMinute, millisOfSecond);
+        } catch (IllegalFieldValueException ex) {
+            if (monthOfYear != 2 || dayOfMonth != 29) {
+                throw ex;
+            }
+            instant = iGregorianChronology.getDateTimeMillis
+                (year, monthOfYear, 28,
+                 hourOfDay, minuteOfHour, secondOfMinute, millisOfSecond);
+            if (instant >= iCutoverMillis) {
+                throw ex;
+            }
+        }
         if (instant < iCutoverMillis) {
             // Maybe it's Julian.
             instant = iJulianChronology.getDateTimeMillis

```

## Patch #162 Nopol 

[org.joda.time.chrono.BasicChronology:605](https://github.com/JodaOrg/joda-time/blob/e16eb72a29d06ce36030b109156bea3244273fb8/src/main/java//org/joda/time/chrono/BasicChronology.java#L605)

```Java
--- /tmp/time_18_Nopol/src/main/java/org/joda/time/chrono/BasicChronology.java
+++ /tmp/time_18_Nopol/src/main/java/org/joda/time/chrono/BasicChronology.java
@@ -604,3 +604,5 @@
         FieldUtils.verifyValueBounds(DateTimeFieldType.monthOfYear(), monthOfYear, 1, getMaxMonth(year));
-        FieldUtils.verifyValueBounds(DateTimeFieldType.dayOfMonth(), dayOfMonth, 1, getDaysInYearMonth(year, monthOfYear));
+        if ((!(10 == monthOfYear)) && (((31) - (2)) != (dayOfMonth))) {
+            FieldUtils.verifyValueBounds(DateTimeFieldType.dayOfMonth(), dayOfMonth, 1, getDaysInYearMonth(year, monthOfYear));
+        }
         return getYearMonthDayMillis(year, monthOfYear, dayOfMonth);

```
Execution time: 0:08:30.964000

Grid5000 node: griffon-58.nancy.grid5000.fr


# Time 19


## Human Patch 

```Java
diff --git a/src/main/java/org/joda/time/DateTimeZone.java b/src/main/java/org/joda/time/DateTimeZone.java
index ec05941..855cad0 100644
--- a/src/main/java/org/joda/time/DateTimeZone.java
+++ b/src/main/java/org/joda/time/DateTimeZone.java
@@ -897,7 +897,7 @@ public abstract class DateTimeZone implements Serializable {
                     return offsetLocal;
                 }
             }
+        } else if (offsetLocal >= 0) {
-        } else if (offsetLocal > 0) {
             long prev = previousTransition(instantAdjusted);
             if (prev < instantAdjusted) {
                 int offsetPrev = getOffset(prev);

```

## Patch #163 Nopol 

[org.joda.time.DateTimeZone:900](https://github.com/JodaOrg/joda-time/blob/a92450e88df85d6b7a0fa53517da46286c24f53f/src/main/java//org/joda/time/DateTimeZone.java#L900)

```Java
--- /tmp/time_19_Nopol/src/main/java/org/joda/time/DateTimeZone.java
+++ /tmp/time_19_Nopol/src/main/java/org/joda/time/DateTimeZone.java
@@ -899,3 +899,3 @@
             }
-        } else if (offsetLocal > 0) {
+        } else if (org.joda.time.DateTimeZone.this.iID!=null) {
             long prev = previousTransition(instantAdjusted);

```
Execution time: 0:04:45.307000

Grid5000 node: griffon-8.nancy.grid5000.fr


